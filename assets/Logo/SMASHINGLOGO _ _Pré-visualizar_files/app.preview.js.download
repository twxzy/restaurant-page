"use strict";function cacheDomNodes(){window.$page={window:$(window),html:$("html"),body:$("body"),buttons:{}}}function extendJquery(){$.extend({el:function(e,n){var t=$(document.createElement(e));return t.attr(n),t}})}function defineGlobals(){window.svgVivus=null,window.svgVivusWhite=null,window.baseSvg=1,window.longTextAdviceEnabled=!1,window.gradientColorsWhichShouldFadeToWhite=["AC8400"],window.additionallyRenderedColors=[],window.primaryFontTags=[],window.secondaryFontTags=[],window.enableSwitchToDefaultLetterCase=!1,window.forcedPrimaryLetterCase=!1,window.forcedSecondaryLetterCase=!1,window.svgAnimationInterval1=null,window.svgAnimationInterval2=null,window.SmashingLogo={}}function lazyload(){if(window.lazyloadThrottleTimeout,window.lazyloadImages=document.querySelectorAll("img.lazy"),SmashingLogo.Utils.isIntersectionObserverSupported())window.imageObserver&&(window.imageObserver.disconnect(),window.imageObserver=null),window.imageObserver=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var n=e.target;n.src=n.dataset.src,n.classList.remove("lazy"),window.imageObserver.unobserve(n)}}))})),window.lazyloadImages.forEach((function(e){window.imageObserver.observe(e)}));else for(var e=0;e<window.lazyloadImages.length;e++)window.lazyloadImages[e].src=window.lazyloadImages[e].dataset.src,window.lazyloadImages[e].classList.remove("lazy")}function shareASaleTracking(){var e=function(e,n){n||(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}("sscid");e&&function(e,n,t,o,i){if(e&&n){var r,a=o?"; path="+o:"",s=i?"; domain="+i:"",d="";t&&((r=new Date).setTime(r.getTime()+t),d="; expires="+r.toUTCString()),document.cookie=e+"="+n+d+a+s}}("shareasaleSSCID",e,94670778e4,"/");var n=$(".share-a-sale-pixel-placeholder");if(n.length){var t=function(e){for(var n=e+"=",t=decodeURIComponent(document.cookie).split(";"),o=0;o<t.length;o++){for(var i=t[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(n))return i.substring(n.length,i.length)}return""}("shareasaleSSCID");""!==t&&n.append('<img width="1" height="" src="'+n.attr("data-pixel-src").replace("{{Click ID}}",t)+'" /><script defer="" async="" type="text/javascript" src="https://shareasale-analytics.com/j.js"><\/script>')}}function observeAndAnimateSections(){if(SmashingLogo.Utils.isIntersectionObserverSupported()){var e=new IntersectionObserver((function(n){n.forEach((function(n){var t=$(n.target),o=t.attr("data-intersection-ratio")?parseFloat(t.attr("data-intersection-ratio")):.4;n.intersectionRatio>o?(t.addClass("in-view").removeClass("observe-intersection"),t.attr("data-one-time-observe")&&e.unobserve(n.target)):t.addClass("observe-intersection").removeClass("in-view")}))}),{rootMargin:"0px",threshold:[0,.25,.5,.75,1]});document.querySelectorAll(".observe-intersection").forEach((function(n){n&&e.observe(n)}))}else $(".observe-intersection").removeClass("observe-intersection").addClass("in-view")}var decodeEntities=function(){var e=document.createElement("div");return function(n){return n&&"string"==typeof n&&(n=(n=n.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),e.innerHTML=n,n=e.textContent,e.textContent=""),n}}();extendJquery(),cacheDomNodes(),defineGlobals(),shareASaleTracking();
"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function Utils(){var t=this;this.uniqueSVG=function(t){var e=t,r=[];$(t).find("[id]").each((function(){r.push([$(this).attr("id"),$(this).attr("id")+Math.round(1e5*Math.random())])}));for(var o=0;o<r.length;o++)e=(e=(e=e.replace(new RegExp('id="'+r[o][0]+'"',"g"),'id="'+r[o][1]+'"')).replace(new RegExp("url\\(#"+r[o][0]+"\\)","g"),"url(#"+r[o][1]+")")).replace(new RegExp('href="#'+r[o][0]+'"',"g"),'href="#'+r[o][1]+'"');return e},this.fluidSVG=function(t){var e=$(t);return e.removeAttr("width"),e.removeAttr("height"),e.each((function(){$(this)[0].setAttribute("viewBox","0 0 550 470")})),e.wrapAll("<div>").parent().html()},this.transformPreviewSvg=function(t){var e=t.find("g:first").get(0).getBBox();e&&0!==e.width&&0!==e.height&&(t.attr("viewBox",e.x+" "+e.y+" "+e.width+" "+e.height),t.removeAttr("width"),t.removeAttr("height"))},this.pad=function(t,e){return("000000000"+t).substr(-e)},this.setTouchNoTouchBodyClass=function(){"ontouchstart"in window||navigator.msMaxTouchPoints?$("body").addClass("touch-device"):$("body").addClass("no-touch-device")},this.showLoadingAnimation=function(){$("body").addClass("loading-layer-active loading-layer-active-dark")},this.hideLoadingAnimation=function(){$("body").removeClass("loading-layer-active loading-layer-active-dark")},this.initTooltips=function(){var t="ontouchstart"in window||navigator.msMaxTouchPoints;$('[data-toggle-tooltip="tooltip"]').each((function(){var e=$(this);e.hasClass("hotspot-tooltip")||t&&e.closest(".logo-options").length||e.tooltip()}))},this.getParameterByName=function(t,e){var r=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return r?r[2]?r[2].replace(/\+/g," "):"":null},this.capitalizeText=function(t){for(var e,r="",o=t.split(" "),n=0;n<o.length;n++)e=n+1===o.length?"":" ",r+=o[n].substr(0,1).toUpperCase()+o[n].substr(1).toLowerCase()+e;return r},this.getOuterHtml=function(t){var e=t.get(0);return e.outerHTML||(new XMLSerializer).serializeToString(e)},this.escapeHtml=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,(function(t){return e[t]}))},this.charList=function(t,e){for(var r=[],o=t.charCodeAt(0),n=e.charCodeAt(0);o<=n;++o)r.push(String.fromCharCode(o));return r},this.areArraysEqual=function(t,e){var r=_toConsumableArray(t),o=_toConsumableArray(e);return JSON.stringify(r.sort())===JSON.stringify(o.sort())},this.extractIconFromSvg=function(t){var e=t.find("[data-paper-data*=isIcon]");return 0!==e.length&&{jQueryObject:e,data:$.parseJSON(e.attr("data-paper-data"))}},this.appendReusableCloseButton=function(){$page.body.append('<button class="btn btn-lg btn-primary hidden btn-close-modal"><span class="glyphicon glyphicon-remove"></span><span>&nbsp;'+window.i18nClose+"</span></button>")},this.isPageWithDynamicContent=function(){return $page.body.hasClass("page-home")||$page.body.hasClass("page-generate")||$page.body.hasClass("page-preview")||$page.body.hasClass("page-shared")||$page.body.hasClass("page-branding-guidelines")||$page.body.hasClass("page-logo-animations")||$page.body.hasClass("page-variations")||$page.body.hasClass("page-checkout")||$page.body.hasClass("page-thanks")},this.getPreviousLogoId=function(){if("undefined"!=typeof Storage)return window.localStorage.getItem("previousLogoId")},this.setPreviousLogoId=function(t){"undefined"!=typeof Storage&&t&&window.localStorage.setItem("previousLogoId",t)},this.isIntersectionObserverSupported=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype},this.isWidescreenResolution=function(){return window.matchMedia("(max-height: 1000px)").matches&&window.matchMedia("(orientation: landscape)").matches&&window.matchMedia("(min-width: 880px)").matches},this.buildColorPalette=function(e,r){e.html("");var o,n,a,i,s,l,c=t.getColorPaletteForGivenLogo(r),p=$("<span></span>");if(p.attr({"data-background-stripe":!0,"data-original-stripe-hex":c.background,"data-stripe-hex":c.background,class:SmashingLogo.ColorUtils.brightnessByColor(c.background)>210?"stripe very-bright":"stripe",style:"background-color: "+c.background}),s=SmashingLogo.ColorUtils.hexToRgb(c.background),l=SmashingLogo.ColorUtils.rgbToCmyk(s.r,s.g,s.b),o=$('<span class="hex color-value">HEX: '+c.background+"</span>"),n=$('<span class="rgb color-value">RGB: '+s.r+", "+s.g+", "+s.b+"</span>"),a=$('<span class="cmyk color-value">CMYK: '+l+"</span>"),(i=$('<div class="color-info"></div>')).append(o).append(n).append(a),p.append(i),e.append(p),2===c.gradientColors.length){var u=$("<span></span>"),d=c.gradientColors[0]+"-"+c.gradientColors[1];u.attr({"data-gradient-stripe":!0,"data-original-gradient-pair":d,"data-gradient-pair":d,class:"stripe",style:"background:linear-gradient(90deg, "+c.gradientColors[0]+", "+c.gradientColors[1]+")"}),e.addClass("gradient"),u.append('<div class="color-info"><span class="hex">'+d+"</span></div>"),e.append(u)}for(var g=0;g<c.solidColors.length;g++){var h=$("<span></span>");h.attr({"data-solid-color-stripe":!0,"data-original-stripe-hex":c.solidColors[g],"data-stripe-hex":c.solidColors[g],class:SmashingLogo.ColorUtils.brightnessByColor(c.solidColors[g])>210?"stripe very-bright":"stripe",style:"background-color: "+c.solidColors[g]}),s=SmashingLogo.ColorUtils.hexToRgb(c.solidColors[g]),l=SmashingLogo.ColorUtils.rgbToCmyk(s.r,s.g,s.b),o=$('<span class="hex color-value">HEX: '+c.solidColors[g]+"</span>"),n=$('<span class="rgb color-value">RGB: '+s.r+", "+s.g+", "+s.b+"</span>"),a=$('<span class="cmyk color-value">CMYK: '+l+"</span>"),(i=$('<div class="color-info"></div>')).append(o).append(n).append(a),h.append(i),e.append(h)}},this.getColorPaletteForGivenLogo=function(t){var e=t.find("svg"),r=SmashingLogo.ColorUtils.getUsedColorsOfPathElements(e);return{background:t.attr("data-back-hex")?"#"+t.attr("data-back-hex"):"#ffffff",solidColors:r.solidColors.sort(),gradientColors:r.gradientColors}},this.responsiveImagePaths=function(t){if(window.screen.width>=768)return t;if("function"!=typeof URL)return t;for(var e=[],r=0;r<t.length;r++){var o=window.location.origin||"https://smashinglogo.com",n=0===t[r].indexOf("http")?new URL(t[r]):new URL(t[r],o);n.searchParams.set("format","mobile"),e.push(n.toString())}return e},this.logoInfoFromSvgPath=function(t){var e=t.substr(t.lastIndexOf("/")+1),r=t.indexOf("/purchased/")>=0,o=e.split("_")[1].substr(0,9),n={refNumber:r?"_"+t.replace("/static/purchased/_","").substr(0,9):"_"+t.replace("/static/tmp_private/_","").substr(0,9),logoId:o};return r&&(n.isPostPurchaseEdit=!0),n},this.getMostVisible=function(e){var r,o=$(window).height(),n=0;return e.each((function(){var e=t.getVisibleHeightPx($(this),o);e>n&&(n=e,r=this)})),e.filter(r)},this.getVisibleHeightPx=function(t,e){var r=t.get(0).getBoundingClientRect(),o=r.bottom-r.top,n=r.top>=0&&r.top<e,a=r.bottom>0&&r.bottom<e,i=0;if(n&&a)i=o;else if(n)i=e-r.top;else if(a)i=r.bottom;else if(o>e&&r.top<0){var s=Math.abs(r.top);s<o&&(i=o-s)}return i},this.areCookiesEnabled=function(){return navigator.cookieEnabled},this.insertCookieWarning=function(t){var e=$('<div class="alert alert-danger cookies-warning"></div>'),r=$('<p><span class="glyphicon glyphicon-exclamation-sign"></span>'+window.i18nCookieWarning+"</p>");e.append(r),e.insertAfter(t)},this.startTimer=function(e,r){t.updateTimer(e,r),window.timerInterval=window.setInterval((function(){t.updateTimer(e,r)}),1e3)},this.updateTimer=function(t,e){var r=(t-Date.now())/1e3,o=parseInt(r/3600,10),n=parseInt(r/60%60,10),a=parseInt(r%60,10),i=o<10?"0"+o:o.toString(),s=n<10?"0"+n:n.toString(),l=a<10?"0"+a:a.toString();e.text(i+":"+s+":"+l)},this.setHotjarUserAttributes=function(t){window.hj=window.hj||function(){(hj.q=hj.q||[]).push(arguments)},hj("identify",null,t)},this.executeRequest=function(e){return SmashingLogo.Utils.showLoadingAnimation(),$.ajax(_objectSpread({timeout:6e4,error:t.onAjaxError,complete:function(){SmashingLogo.Utils.hideLoadingAnimation()}},e))},this.onAjaxError=function(t){switch(t.status){case 400:alert("Bad Request");break;case 401:alert("Authorization expired?");break;default:alert("Please try it later again or contact us if this problem persists!")}}}SmashingLogo.Utils=new Utils;
"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,t){if(r){if("string"==typeof r)return _arrayLikeToArray(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,t):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function ColorUtils(){var r=this;this.brightnessByColor=function(r){var t,e=0==(r=""+r).indexOf("#"),n=0==r.indexOf("rgb");if(e&&(t=r.substr(1).match(7==r.length?/(\S{2})/g:/(\S{1})/g)))var o=parseInt(t[0],16),a=parseInt(t[1],16),i=parseInt(t[2],16);if(n&&(t=r.match(/(\d+){3}/g)))o=t[0],a=t[1],i=t[2];if(void 0!==o)return(299*o+587*a+114*i)/1e3},this.rotateColor=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=n||!1,i=r.hexToRgb(t),s=r.rgbToHsl(i.r,i.g,i.b),l=r.hexToRgb(e),u=r.rgbToHsl(l.r,l.g,l.b),f=u[0]-s[0],g=100+Math.round(u[1]-s[1])+"%",h=100+Math.round(u[2]-s[2])+"%",c=100-u[1],d=Math.abs(50-u[2]);return a&&(c<=20&&d<=10)&&(u[0]>=225&&u[0]<=265?(g=100/s[1],h=u[2]/100):g=100/s[1]),"grayscale(100%) saturate(0%) sepia("+o+") hue-rotate("+f+"deg) saturate("+g+") brightness("+h+")"},this.hexToRgb=function(r){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);if(t)return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}},this.rgbToCmyk=function(r,t,e){var n=0,o=0,a=0,i=0;if(0==r&&0==t&&0==e)return i=1,[0,0,0,1];n=1-r/255,o=1-t/255,a=1-e/255;var s=Math.min(n,Math.min(o,a));return n=(n-s)/(1-s),o=(o-s)/(1-s),a=(a-s)/(1-s),i=s,[parseInt(100*n),parseInt(100*o),parseInt(100*a),parseInt(100*i)]},this.rgbToHex=function(t,e,n){return"#"+r.componentToHex(t)+r.componentToHex(e)+r.componentToHex(n)},this.rgbToHsl=function(r,t,e){r/=255,t/=255,e/=255;var n,o,a=Math.max(r,t,e),i=Math.min(r,t,e),s=(a+i)/2;if(a==i)n=o=0;else{var l=a-i;switch(o=s>.5?l/(2-a-i):l/(a+i),a){case r:n=(t-e)/l+(t<e?6:0);break;case t:n=(e-r)/l+2;break;case e:n=(r-t)/l+4}(n=Math.round(60*n))<0&&(n+=360)}return[n,100*o,100*s]},this.getMixedColor=function(t,e,n){var o=r.hexToRgb(t),a=r.hexToRgb(e),i={r:Math.round((1-n)*o.r+n*a.r),g:Math.round((1-n)*o.g+n*a.g),b:Math.round((1-n)*o.b+n*a.b)};return r.rgbToHex(i.r,i.g,i.b)},this.componentToHex=function(r){var t=r.toString(16);return 1==t.length?"0"+t:t},this.getColorBrightness=function(r){var t=r.substring(1),e=parseInt(t,16);return.2126*(e>>16&255)+.7152*(e>>8&255)+.0722*(e>>0&255)},this.getSuitableBlendColor=function(t){return r.getColorBrightness(t)>45?r.getMixedColor(t,"000000",.5):r.getMixedColor(t,"ffffff",.25)},this.getSuitableBlendColorAdvanced=function(t,e){if(t&&e&&t.replace("#","").toLowerCase()===e.replace("#","").toLowerCase())return"#ffffff";var n=r.getColorBrightness(t),o=r.getColorBrightness(e);return n<40&&o<40?r.getSuitableBlendColor(t):e},this.getUsedColorsOfPathElements=function(t){var e=r.buildGradientMapping(t),n=[],o=[];return t.find("path").each((function(){var t=$(this);if(!t.hasClass("watermark-path")){var a=r.findSvgFillColor(t);if(a){var i=r.parseSvgHexColor(a);if("none"!=i)if(i)n.push(i);else{var s=r.gradientColorsFromSvgColor(a,e);o.push.apply(o,_toConsumableArray(s))}}else n.push("#000000")}})),{solidColors:n.filter((function(r,t){return n.indexOf(r)===t})),gradientColors:o.filter((function(r,t){return o.indexOf(r)===t}))}};var t=new RegExp("fill:\\s*([^;]+);*","i");this.findSvgFillColor=function(e){var n,o=e.attr("style");if(o&&(n=t.exec(o)))return n[1];var a=e.attr("fill");if(a)return a;var i=e.parent("g");return i.length>0?r.findSvgFillColor(i):void 0},this.buildGradientMapping=function(r){var t={};return r.find("linearGradient").each((function(){var r=$(this);t[r.attr("id")]=r})),t};var e=new RegExp("stop-color:\\s*([^;]+);*","i");this.gradientColorsFromSvgColor=function(t,n){var o=n[r.parseSvgGradientId(t)],a=[];if(!o)return a;if(o.attr("xlink:href")){var i=o.attr("xlink:href");return r.gradientColorsFromSvgColor("url(".concat(i,")"),n)}return o.find("stop").each((function(){var t,n=$(this),o=n.attr("style");o&&(t=e.exec(o))?a.push(r.parseSvgHexColor(t[1])):n.attr("stop-color")&&a.push(r.parseSvgHexColor(n.attr("stop-color")))})),a};var n=/^((#?[a-f\d]{6})|(none))$/i;this.parseSvgHexColor=function(r){var t;if(r)return(t=n.exec(r))?t[1]:void 0};var o=/^url\(#(.+)\)$/i,a=/fill:url\(#(.+)\);*/i;this.parseSvgGradientId=function(r){var t,e;return((e=o.exec(r))||(e=a.exec(r)))&&(t=e[1]),t}}SmashingLogo.ColorUtils=new ColorUtils;
"use strict";function PromoVideos(){var o=this;this.init=function(){o.attachEventHandler()},this.start=function(e,n,d,i){if(e.find("video").length)o.play(e);else{var t=e.find(".ajax-progress-bar .progress-bar");t.addClass("simulated-progress"),t.css("width","20%"),e.find(".video-play-button").addClass("hidden");var s="/promo-video/render/?refNumber="+i+"&logoId="+d,a=n.find('[data-random-template="true"] .svg-container'),r="promo-video-"+parseInt(1e6*Math.random());a.append('<video id="'+r+'" width="640" preload="none" loop><source src="'+s+'" type="video/mp4" /></video>');var l=document.getElementById(r),p=new XMLHttpRequest;p.open("GET",s,!0),p.responseType="arraybuffer",p.onload=function(n){var d=new Blob([n.target.response],{type:"video/mp4"});l.src=URL.createObjectURL(d),e.find(".ajax-progress-bar").addClass("hidden"),l.muted=!0,o.play(e)},p.onprogress=function(o){if(o.lengthComputable){var e=parseInt(o.loaded/o.total*100);e>20&&(t.removeClass("simulated-progress"),t.css("width",e+"%"))}},p.send()}},this.stop=function(o){if(0!==o.find("video").length){var e=o.find("video").get(0);e.currentTime=0,e.muted=!0,e.pause(),o.find(".video-play-button").removeClass("hidden"),o.find(".logo-preview").removeClass("video-mode"),o.find(".video-controls .play").removeClass("hidden"),o.find(".video-controls .pause").addClass("hidden"),o.find(".video-controls .sound").removeClass("hidden"),o.find(".video-controls .mute").addClass("hidden")}},this.play=function(e){var n=e.find("video").attr("id"),d=document.getElementById(n);o.isPlaying(d)||(e.find(".logo-preview").addClass("video-mode"),e.find(".video-play-button").addClass("hidden"),e.find(".video-controls .play").addClass("hidden"),e.find(".video-controls .pause").removeClass("hidden"),d.play())},this.pause=function(e){var n=e.find("video").attr("id"),d=document.getElementById(n);o.isPlaying(d)&&(e.find(".video-controls .play").removeClass("hidden"),e.find(".video-controls .pause").addClass("hidden"),d.pause())},this.unmute=function(o){var e=o.find("video").attr("id");document.getElementById(e).muted=!1,o.find(".video-controls .sound").addClass("hidden"),o.find(".video-controls .mute").removeClass("hidden")},this.mute=function(o){var e=o.find("video").attr("id");document.getElementById(e).muted=!0,o.find(".video-controls .sound").removeClass("hidden"),o.find(".video-controls .mute").addClass("hidden")},this.isPlaying=function(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>o.HAVE_CURRENT_DATA},this.clearPendingAutoplayIds=function(){if(window.pendingAutoplayIds&&0!==window.pendingAutoplayIds.length)for(var o;o=window.pendingAutoplayIds.shift();)window.clearTimeout(o)},this.buildVideoControls=function(o,e,n){var d=$('<div class="video-controls" style="background: #'+o+"; color: "+e+"; border-color: rgba("+n.r+", "+n.g+", "+n.b+', 0.4);"></div>'),i=$('<button class="play hidden" style="color: '+e+"; border-color: rgba("+n.r+", "+n.g+", "+n.b+', 0.4);"><span class="glyphicon glyphicon-play"></span></button>'),t=$('<button class="pause" style="color: '+e+"; border-color: rgba("+n.r+", "+n.g+", "+n.b+', 0.4);"><span class="glyphicon glyphicon-pause"></span></button>'),s=$('<button class="mute hidden" style="color: '+e+"; border-color: rgba("+n.r+", "+n.g+", "+n.b+', 0.4);"><span class="glyphicon glyphicon-volume-up"></span></button>'),a=$('<button class="sound" style="color: '+e+"; border-color: rgba("+n.r+", "+n.g+", "+n.b+', 0.4);"><span class="glyphicon glyphicon-volume-off"></span></button>');return d.append(i).append(t).append(s).append(a),d},this.attachEventHandler=function(){$page.body.on("click",".primary-column .video-play-button",(function(){var e=$(this).closest(".primary-column"),n=e.find(".logo-preview"),d=$page.body.hasClass("page-preview")?$page.body.attr("data-logo-path"):n.attr("data-svg-file-path"),i=SmashingLogo.Utils.logoInfoFromSvgPath(d);o.clearPendingAutoplayIds(),o.start(e,n,i.logoId,i.refNumber)})),$page.body.on("click",".logo-preview .video-controls .play",(function(){o.play($(this).closest(".primary-column"))})),$page.body.on("click",".logo-preview .video-controls .pause",(function(){o.pause($(this).closest(".primary-column"))})),$page.body.on("click",".logo-preview .video-controls .sound",(function(){o.unmute($(this).closest(".primary-column"))})),$page.body.on("click",".logo-preview .video-controls .mute",(function(){o.mute($(this).closest(".primary-column"))}))}}SmashingLogo.PromoVideos=new PromoVideos;
"use strict";function BrandingTiles(){var a=this;$page.modalInteractiveComponent=$("#modalInteractiveComponent"),$page.modalBrandImage=$("#modalBrandImage"),$page.fakeModalComponentFavoriteLimit=$("#fakeModalComponentFavoriteLimitReached"),$page.fakeModalManageFavoritesButton=$page.fakeModalComponentFavoriteLimit.find(".btn-manage-component-favorites"),this.init=function(){a.attachEventHandler()},this.buildTiles=function(t,e,o){e.refNumber=e.refNumber.replace("_",""),e.logoId=e.logoId.replace("_",""),t.wrapInner('<div class="primary-column"></div>');var n=t.find(".primary-column"),i=$('<div class="secondary-column"></div>'),r=e.primaryBrandColor;if(t.attr("data-highlight-color",r),t.attr("data-logo-id",e.logoId),t.attr("data-ref-number",e.refNumber),t.attr("data-primary-font-id",e.primaryFont),t.attr("data-secondary-font-id",e.secondaryFont),o&&o.showVideoPlayButton){var d=n.find('[data-random-template="true"]'),s=d.attr("data-back-hex"),l="#"+d.attr("data-front-hex").split(";")[0],c=SmashingLogo.ColorUtils.getSuitableBlendColorAdvanced(s,l),m=SmashingLogo.ColorUtils.hexToRgb(c);"overlay"===o.videoPlayButtonStyle?n.append('<svg class="video-play-button overlay" style="background-image: linear-gradient(transparent, rgba('+m.r+","+m.g+","+m.b+',0.5));" viewBox="0 0 200 200" alt="Play video"><circle cx="100" cy="100" r="90" fill="none" stroke-width="15" stroke="#fff"></circle><polygon points="70, 55 70, 145 145, 100" fill="#fff"></polygon></svg>'):n.append('<span class="video-play-button icon" style="color: '+c+';"><span class="glyphicon glyphicon-play-circle"></span></span>');var p=SmashingLogo.PromoVideos.buildVideoControls(s,c,m),g=$('<div class="progress ajax-progress-bar"><div class="progress-bar progress-bar-warning active" style="background-color: '+c+';" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div>');n.find(".logo-preview").append(p).append(g)}var v=n.find('.mutation[data-random-template="true"]'),f=n.find('.mutation[data-template-identifier="Default"]');if(o&&o.compactViewbox){var u=40;$(window).height()<=740?u=90:$(window).height()<1100&&(u=70);var h=470-u,b="0 ".concat(u/2," ").concat(550," ").concat(h);n.find(".mutation .svg-container svg").each((function(){$(this).removeAttr("viewBox"),$(this)[0].setAttribute("viewBox",b)}))}var y="#"+v.attr("data-back-hex").toLowerCase(),C=$('<div class="second-tile"></div>'),I=$('<div class="second-tile-inner-wrap"></div>');C.append(I);var w=y===r?"Default":"InvertedHex",L="InvertedHex"===w?r:"#ffffff";C.css("background-color",L);var S="InvertedHex"===w?v.find("svg"):f.find("svg");o&&o.addWatermarkToPrimaryTile&&SmashingLogo.LogoMaker.addWatermarkupToSvgs(v.find("svg"));var k,T=SmashingLogo.Utils.extractIconFromSvg(S.clone());if(T&&T.data&&T.data.suitableAsStandaloneIcon)(k=$('<svg class="svg-standalone-icon" width="100%" viewBox="'+T.data.bounds.x+" "+T.data.bounds.y+" "+T.data.bounds.width+" "+T.data.bounds.height+'"></svg>')).append(T.jQueryObject),I.append(k),k.find("g:first").attr("fill-rule",T.data.fillRule);else{var x=S.clone(),B=x.find("[data-paper-data*=isGlobalGroup]");if(B.length){var A=$.parseJSON(B.attr("data-paper-data"));A&&A.bounds&&x.attr("viewBox",A.bounds.x+" "+A.bounds.y+" "+A.bounds.width+" "+A.bounds.height)}I.append(x),I.html(SmashingLogo.Utils.uniqueSVG(I.html())),I.addClass("full-logo")}if("InvertedHex"===w?C.find("path").css("fill","#ffffff"):"Default"===w&&C.find("path").css("fill",r),i.append(C),!o||!o.disableBrandImage){var F=$('<div class="third-tile customizable-tile"></div>'),U=e.tile;F.attr("data-image",U.image.id),F.attr("data-image-source",U.image.source),a.setIndustryImageTile(U,F,r),o&&o.autoplayKenBurns&&window.setTimeout((function(){F.find(".fade-item").addClass("animated")}),500);var M=S.clone();M[0].setAttribute("class","watermark-logo"),F.append(M);var P=M.find("[data-paper-data*=isGlobalGroup]");if(P.length){var O=$.parseJSON(P.attr("data-paper-data"));O&&O.bounds&&M.attr("viewBox",O.bounds.x+" "+O.bounds.y+" "+O.bounds.width+" "+O.bounds.height)}F.find("path").css("fill","#ffffff"),F.attr("data-logo",U.logo),o&&o.editableThirdTile||F.addClass("read-only"),i.append(F)}t.append(i),t.wrapInner('<div class="branding-tiles"></div>'),o&&o.appendBottomBar&&(o.interactiveBottomBar?a.appendInteractiveBottomBar(e,t,v,k,o):a.appendBottomBar(e,t,v,k,o))},this.buildBrandEditorModal=function(t,e,o,n){var i=$page.modalBrandImage.find(".config-container");$page.modalBrandImage.attr("data-logo-path",n);var r=$page.modalBrandImage.find(".active-image-column");r.html(""),r.append(e);var d=i.find(".effect-settings .dropdowns"),s=i.find(".image-settings .dropdowns"),l=$page.modalBrandImage.find(".select-image-column .column-header .brand-images-categories");d.html(""),s.html(""),l.html(""),$page.modalBrandImage.find(".image-prompt-form").addClass("hidden");var c=$('<select class="select-style"></select>');a.appendSelectOptions(c,t.styles),d.append(c);var m=$('<select class="select-logo"></select>');a.appendSelectOptions(m,t.logo),d.append(m);var p=$('<select class="select-image-set"></select>');if(a.appendSelectOptions(p,t.collections),t.isPhotoSearchEnabled){var g=$('<option value="search">'+window.i18nSearch+"</option>");p.append(g),window.isPhotoSearchEnabled=!0}l.append(p),$.ajax({url:"/v3/envision/images/collection/",type:"POST",data:{collection:p.val()},success:function(t){a.buildImageSelection(t.images,o.id),a.addSomethingDifferentFooter(),$page.modalBrandImage.modal("show"),SmashingLogo.Utils.hideLoadingAnimation()}})},this.appendSelectOptions=function(a,t,e){e=e||!1;for(var o=0;o<t.length;o++){var n=$('<option value="'+t[o].value+'">'+t[o].label+"</option>");t[o].selected&&n.attr("selected","selected"),a.append(n)}},this.buildImageSelection=function(a,t){var e=$page.modalBrandImage.find(".brand-images");e.html("");for(var o=0;o<a.length;o++){var n=a[o].id,i=a[o].previewUrl,r=a[o].source,d=$('<div class="brand-image" data-image="'+n+'" data-image-source="'+r+'"></div>');n===t&&d.addClass("selected"),d.append('<img src="'+i+'" alt=""></img>'),d.append('<span class="checkmark"><span class="glyphicon glyphicon-ok"></span></span>'),e.append(d)}},this.addSomethingDifferentFooter=function(){if(window.isPhotoSearchEnabled){var a=$('<div class="something-different"><h3 class="hl-something-different">'+window.i18nWantSomethingDifferent+'</h3><button class="btn btn-default jump-to-search"><span class="glyphicon glyphicon-search"></span> '+window.i18nSearch+"</button></div>");$page.modalBrandImage.find(".brand-images").append(a)}},this.setIndustryImageTile=function(a,t,e){var o=a.imageInfo.url,n=SmashingLogo.ColorUtils.hexToRgb(e),i=SmashingLogo.ColorUtils.rotateColor("A49476",e,!1,.6),r=$('<div class="fade-item active"></div');r.append('<img src="'+o+'" alt=""></img>');var d=$('<div class="coloring-tile"></div>');d.css({background:"rgba("+n.r+", "+n.g+", "+n.b+", 0.3)"}),r.append('<img class="image-filter-clone" src="'+o+'" alt=""></img>'),r.find(".image-filter-clone").css("filter",i),r.append(d),t.attr("data-style",a.style),t.append(r),t.append('<span class="glyphicon glyphicon-search editable-icon"></span>')},this.appendBottomBar=function(a,t,e,o,n){var i="/"+$("html").attr("lang")+"/quick-edit?s="+a.refNumber+"-"+a.logoId,r=$("<div></div>");r.attr({class:"component color","data-component-type":"color","data-ref-number":a.refNumber,"data-logo-id":a.logoId,"data-editor-url":i+"#color-base"});var d=$('<div class="palette"></div>');r.append(d),SmashingLogo.Utils.buildColorPalette(d,e);var s=$("<div></div>");s.attr({class:"component font","data-component-type":"font","data-ref-number":a.refNumber,"data-logo-id":a.logoId,"data-editor-url":i+"#name-text"});var l=$('<div class="font-preview"></div>'),c=$(a.primaryFontPreviewSvg);l.append(c),s.append(l);var m,p=$("<div></div>");if(p.attr({class:"component icon","data-component-type":"icon","data-ref-number":a.refNumber,"data-logo-id":a.logoId,"data-editor-url":i+"#icon-edit"}),o){var g=$('<div class="standalone-icon"></div>'),v=o.clone();g.append(v),g.find("path").css("fill","#000000"),p.append(g)}if(n&&n.callToActions){m=$('<div class="component cta"></div>');for(var f=0;f<n.callToActions.length;f++){var u=n.callToActions[f],h=$('<a class="btn call-to-action" href="#"></a>');if("primary"===u.type){h.addClass("btn-primary");var b=t.attr("data-highlight-color");h.css("background-color",b),h.css("border-color",b)}else h.addClass("btn-default");h.attr("href",u.url),h.html(u.text),m.append(h)}}var y=$('<div class="branding-tiles-bottom-bar"></div>');y.append(r),y.append(s),o&&y.append(p),m&&y.append(m),t.append(y)},this.buildInteractiveComponentsModal=function(t,e,o,n){var i=t.attr("data-component-type");if("primary-font"===i){SmashingLogo.Utils.showLoadingAnimation();var r=$page.body.hasClass("page-generate")?t.closest(".item").attr("data-primary-font-id"):$page.body.attr("data-primary-font-id");$.ajax({url:"/envision/primary-font/info/",type:"GET",data:{userLangKey:$("html").attr("lang"),fontId:r,currentLogoPath:e},timeout:6e4,success:function(i){SmashingLogo.Utils.hideLoadingAnimation(),a.openInteractiveComponentModal(t.html(),t.attr("data-component-type"),e,t.attr("data-ref-number"),t.attr("data-logo-id"),n,o,i.description,i.componentHash,i.isFavorite)},error:function(){console.log("process error")}})}else if("secondary-font"===i){SmashingLogo.Utils.showLoadingAnimation();var d=$page.body.hasClass("page-generate")?t.closest(".item").attr("data-secondary-font-id"):$page.body.attr("data-secondary-font-id");$.ajax({url:"/envision/secondary-font/info/",type:"GET",data:{userLangKey:$("html").attr("lang"),fontId:d,currentLogoPath:e},timeout:6e4,success:function(i){SmashingLogo.Utils.hideLoadingAnimation(),a.openInteractiveComponentModal(t.html(),t.attr("data-component-type"),e,t.attr("data-ref-number"),t.attr("data-logo-id"),n,o,i.description,i.componentHash,i.isFavorite)},error:function(){console.log("process error")}})}else if("color"===i){SmashingLogo.Utils.showLoadingAnimation();var s=[];t.find(".palette .stripe").each((function(){var a=$(this),t=a.attr("data-stripe-hex"),e=a.attr("data-gradient-pair");if(t)s.push(t.replace("#",""));else if(e){var o=e.split("-")[0].replace("#",""),n=e.split("-")[1].replace("#","");s.push(o),s.push(n)}})),$.ajax({url:"/envision/colors/info/",type:"GET",data:{userLangKey:$("html").attr("lang"),hexColors:s,currentLogoPath:e},timeout:6e4,success:function(i){SmashingLogo.Utils.hideLoadingAnimation(),a.openInteractiveComponentModal(t.html(),t.attr("data-component-type"),e,t.attr("data-ref-number"),t.attr("data-logo-id"),n,o,i.descriptions,i.componentHash,i.isFavorite)},error:function(){console.log("process error")}})}else"icon"===i&&(SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/envision/icon/info/",type:"GET",data:{userLangKey:$("html").attr("lang"),currentLogoPath:e},timeout:6e4,success:function(i){SmashingLogo.Utils.hideLoadingAnimation(),a.openInteractiveComponentModal(t.html(),t.attr("data-component-type"),e,t.attr("data-ref-number"),t.attr("data-logo-id"),n,o,i.description,i.componentHash,i.isFavorite)},error:function(){console.log("process error")}}))},this.openInteractiveComponentModal=function(t,e,o,n,i,r,d,s,l,c){$page.modalInteractiveComponent.attr("data-component-type",e),$page.modalInteractiveComponent.attr("data-component-preview-html",t),$page.modalInteractiveComponent.attr("data-logo-path",o),$page.modalInteractiveComponent.attr("data-ref-number",n),$page.modalInteractiveComponent.attr("data-logo-id",i),$page.modalInteractiveComponent.attr("data-component-description",JSON.stringify(s)),$page.modalInteractiveComponent.attr("data-component-hash",l);var m=c?"favorite":"no-favorite";$page.modalInteractiveComponent.attr("data-favorite-status",m),r&&a.updateIdeasFilters(r);var p=$page.modalInteractiveComponent.find(".dropdown-menu .item"),g=p.filter('[data-component="'+e+'"]');g.addClass("selected").siblings().removeClass("selected"),$page.modalInteractiveComponent.find(".dropdown-trigger .inner-wrap").html(g.find(".text").html()),p.removeClass("hidden"),p.each((function(){var a=$(this);-1===d.indexOf(a.attr("data-component"))&&a.addClass("hidden")})),a.resetInteractiveComponentModal();var v="current-component";$page.modalInteractiveComponent.attr("data-section",v),$page.modalInteractiveComponent.find('.modal-header .nav-row .switch-modes .mode[data-section="'+v+'"]').addClass("active").siblings().removeClass("active"),$page.modalInteractiveComponent.find('.ideas-row .filter-container[data-filter-container="'+a.translateComponentIntoVariationType(e)+'"]').addClass("active"),a.renderContentInInteractiveComponentsModal(e,o,n,i,v,s,l,m),$page.modalInteractiveComponent.modal("show"),$page.modalInteractiveComponent.find(".nav-row .switch-modes").scrollLeft(0)},this.resetInteractiveComponentModal=function(){$page.modalInteractiveComponent.find(".modal-body").html(""),$page.modalInteractiveComponent.scrollTop(0),$page.fakeModalComponentFavoriteLimit.addClass("hidden"),$(".modal-backdrop").removeClass("use-for-fake-modal")},this.renderContentInInteractiveComponentsModal=function(t,e,o,n,i,r,d,s){SmashingLogo.Utils.showLoadingAnimation(),$page.modalInteractiveComponent.attr("data-section",i);var l=$page.modalInteractiveComponent.find(".modal-body");if("current-component"===i){if("icon"===t&&!d)return l.append('<div class="component-preview-empty"><p>'+window.i18nNoIconMessage+"</p></div>"),void SmashingLogo.Utils.hideLoadingAnimation();var c=$('<div data-component-hash="'+d+'" class="component-preview">'+$page.modalInteractiveComponent.attr("data-component-preview-html")+"</div>"),m=$('<div class="actions"></div>'),p=window.i18nEdit,g=window.i18nIdeas,v=window.i18nAddToFavorites,f=window.i18nRemoveFromFavorites,u=$('<button data-component-type="'+t+'" data-ref-number="'+o+'" data-logo-id="'+n+'" class="btn btn-lg btn-default btn-interactive-modal-editor"><span class="glyphicon glyphicon-pencil"></span><span class="text">'+p+"</span></button>"),h=$('<button data-component-type="'+t+'" data-ref-number="'+o+'" data-logo-id="'+n+'" class="btn btn-lg btn-default btn-interactive-modal-toggle-favorite"><span class="glyphicon glyphicon-heart"></span><span class="glyphicon glyphicon-heart-empty"></span><span class="text add">'+v+'</span><span class="text remove">'+f+"</span></button>");"favorite"===s&&h.addClass("is-favorite");var b=$('<button data-component-type="'+t+'" data-ref-number="'+o+'" data-logo-id="'+n+'" class="btn btn-lg btn-default btn-interactive-modal-ideas"><img class="ui-icon" src="/static/img/ui_icons/lightbulb.svg" width="200" height="200" alt="" /><span class="text">'+g+"</span></button>");m.append(h).append(u).append(b),l.append(c),l.append(m);var y=$('<div class="component-infos"></div>'),C=$('<div class="component-description"></div>');if("primary-font"===t||"secondary-font"===t)C.append($("<p>"+r+"</p>")),y.append(C),l.append(y);else if("color"===t){for(var I=$('<ul class="color-description-pills"></ul>'),w=0;w<r.length;w++){var L=r[w];I.append($('<li><span class="hexcode"><span class="inner" style="background: #'+L.hexCode+';"></span></span><span class="description">'+L.description+"</span></li>"))}C.append(I),y.append(C),l.append(y)}else"icon"===t&&r&&(C.append($("<p>"+r+"</p>")),y.append(C),l.append(y));SmashingLogo.Utils.hideLoadingAnimation()}else if("browse-ideas"===i){var S=$page.modalInteractiveComponent.find(".ideas-row"),k=a.translateComponentIntoVariationType(t);S.find('.filter-container[data-filter-container="'+k+'"]').addClass("active").siblings().removeClass("active");var T={userLangKey:$("html").attr("lang"),currentLogoPath:e,variationType:k};if(T.currentBrowseCount=$page.modalInteractiveComponent.find(".items .item").length,"name"===T.variationType||"slogan"===T.variationType)T.fontVariationCategories=SmashingLogo.QuickEdit.getActiveFontFilters(T.variationType,$page.modalInteractiveComponent).activeCategories,T.fontVariationTags=SmashingLogo.QuickEdit.getActiveFontFilters(T.variationType,$page.modalInteractiveComponent).activeTags,T.renderedFontsInBrowseMode=[],$page.modalInteractiveComponent.find(".items .item").each((function(){T.renderedFontsInBrowseMode.push(parseInt($(this).find(".logo-meta-info").attr("data-font-id")))}));else if("icon"===T.variationType){var x=$page.modalInteractiveComponent.find('.filter-container[data-filter-container="icon"] .filter-section .box.selected'),B=x.attr("data-icon-tag-identifier");T.iconBrowseTag={identifier:B||"random",key:x.attr("data-icon-tag-key")}}else"color"===T.variationType&&(T.colorVariationSpectrums=SmashingLogo.LogoMaker.getActiveColorSpectrums($page.modalInteractiveComponent));a.autoCleanupBrowseSection(T.currentBrowseCount,80,10),$.ajax({url:"/logos/browse-ideas/",type:"POST",data:T,timeout:6e4,success:function(t){if(t.authError)window.location.reload(!0);else{if(t.drawError)return SmashingLogo.Utils.hideLoadingAnimation(),void $("#modalGenerateError").modal("show");if(t.allFontsRendered)return SmashingLogo.Utils.hideLoadingAnimation(),void $("#modalAllFontsRendered").modal("show");var e=$page.modalInteractiveComponent.find(".modal-body .items");0===e.length&&(e=$('<div class="items"></div>'),l.append(e));var o=e.find(".item").length>0;a.appendLogosInInteractiveModal(t,e,o)}},error:function(){console.log("process error")}})}else if("favorite-based"===i){var A={userLangKey:$("html").attr("lang"),currentLogoPath:e,variationType:a.translateComponentIntoVariationType(t),currentCount:$page.modalInteractiveComponent.find(".items .item:not(.add-more)").length},F="used-in-logo-favorites"===$page.modalInteractiveComponent.find(".modal-header .favorites-row .mode.active").attr("data-section")?"/logos/browse-components-from-logos/favorites/":"/logos/browse-favorites/";$.ajax({url:F,type:"POST",data:A,timeout:6e4,success:function(t){if(t.authError||t.drawError)window.location.reload();else{if(t.noFavoritesYet){var e=window.i18nNoFavoritesMessage,o=$('<p class="no-favorites-text in-content-notice">'+e+"</p>");return l.append(o),void SmashingLogo.Utils.hideLoadingAnimation()}var n=$page.modalInteractiveComponent.find(".modal-body .items");0===n.length&&(n=$('<div class="items"></div>'),l.append(n));var i=n.find(".item").length>0;a.appendLogosInInteractiveModal(t,n,i)}},error:function(){console.log("process error")}})}else if("seen-in-other-logos"===i){var U={userLangKey:$("html").attr("lang"),currentLogoPath:e,variationType:a.translateComponentIntoVariationType(t),currentCount:$page.modalInteractiveComponent.find(".items .item:not(.add-more)").length};$.ajax({url:"/logos/browse-components-from-logos/session/",type:"POST",data:U,timeout:6e4,success:function(t){if(t.authError||t.drawError)window.location.reload();else if(t.noLogosYet)SmashingLogo.Utils.hideLoadingAnimation();else{var e=$page.modalInteractiveComponent.find(".modal-body .items");0===e.length&&(e=$('<div class="items"></div>'),l.append(e));var o=e.find(".item").length>0;a.appendLogosInInteractiveModal(t,e,o)}},error:function(){console.log("process error")}})}else if("editor"===i){var M=window.i18nEdit,P=window.i18nAdvancedEditorIntro,O=$('<p class="editor-description-text in-content-notice">'+P+"</p>"),E=$('<button data-component-type="'+t+'" data-ref-number="'+o+'" data-logo-id="'+n+'" class="btn btn-lg btn-primary btn-interactive-modal-editor"><span class="text"></span>'+M+"</button>");l.append(O),l.append(E),SmashingLogo.Utils.hideLoadingAnimation()}},this.autoCleanupBrowseSection=function(a,t,e){a>t&&$page.modalInteractiveComponent.find(".items .item:not(.add-more)").slice(0,e).remove()},this.updateIdeasFilters=function(t){var e=$page.modalInteractiveComponent.find('.filter-container[data-filter-container="icon"] .icon-filter-section .filter-dropdown .box-group.categories');e.find(".box:first").addClass("selected").siblings().removeClass("selected");var o=e.find(".dynamic");o.html(""),a.appendDynamicIconFilter(o,t.icons.iconTags,"icon_library"),a.appendDynamicIconFilter(o,t.icons.industries,"industry")},this.appendDynamicIconFilter=function(a,t,e){for(var o=0;o<t.length;o++){var n=t[o];if(!a.find('.box[data-icon-tag-key="'+n.key+'"]').length){var i=$('<div class="box multiselect"></div>');i.attr({"data-icon-tag-identifier":e,"data-icon-tag-key":n.key}),i.append("<span>"+n.title+"</span>"),a.append(i)}}},this.translateComponentIntoVariationType=function(a){var t;switch(a){case"primary-font":default:t="name";break;case"secondary-font":t="slogan";break;case"color":t="color";break;case"icon":t="icon"}return t},this.translateVariationIntoComponentType=function(a){var t;switch(a){case"name":default:t="primary-font";break;case"slogan":t="secondary-font";break;case"color":t="color";break;case"icon":t="icon"}return t},this.appendLogosInInteractiveModal=function(t,e,o){var n=SmashingLogo.LogoMaker.bootstrapProgressObject(t.logoFileNames.length),i=[];SmashingLogo.LogoMaker.bootstrapSvgData(i,t);for(var r=0;r<t.logoFileNames.length;r++)$.get(t.logoPath+"/"+t.logoFileNames[r],(function(r){var d=this.url.substr(this.url.lastIndexOf("/")+1),s=i.map((function(a){return a.timestamp})).indexOf("0"===d.substr(0,1)?d.substr(0,14):d.substr(0,13));if(i[s].svgString=SmashingLogo.Utils.uniqueSVG(SmashingLogo.Utils.fluidSVG(r)),n.ajaxCounter+1===n.fileCount){var l=e.find(".item.add-more");l.length&&l.remove(),SmashingLogo.LogoMaker.appendLogos(e,i,t,"simple",o),SmashingLogo.LogoMaker.selectActiveColorMutation(e.find(".item"));var c=$page.modalInteractiveComponent;if(o){var m=e.find(".item.new:first").position().top;c.animate({scrollTop:m-20},800,(function(){SmashingLogo.Utils.hideLoadingAnimation()})),SmashingLogo.LogoMaker.addWatermarkupToSvgs(e.find(".item.new .svg-container svg")),e.find(".item.new").removeClass("new")}else SmashingLogo.LogoMaker.addWatermarkupToSvgs(e.find(".item .svg-container svg")),SmashingLogo.Utils.hideLoadingAnimation(),c.scrollTop(0);t.endReached||(l=$('<div class="item add-more"><button class="btn btn-lg btn-interactive-modal-add-more"><span class="glyphicon glyphicon-plus"></span>'+window.i18nAddMore+"</button></div>"),e.append(l));var p="0 ".concat(50," ").concat(550," ").concat(370);e.find(".mutation .svg-container svg").each((function(){$(this).removeAttr("viewBox"),$(this)[0].setAttribute("viewBox",p)})),SmashingLogo.QuickEdit.appendLogoMetaInfoFooter(t,a.translateComponentIntoVariationType($page.modalInteractiveComponent.attr("data-component-type")),e)}else n.ajaxCounter++,n.percentage=Math.round(n.ajaxCounter/n.fileCount*100)}),"text")},this.getSourceTileInContext=function(){var a;if($page.body.hasClass("page-generate")){var t=$page.modalBrandImage.attr("data-logo-path");a=$('.preview-container .logo-preview[data-svg-file-path*="'+t+'"]').closest(".item").find(".customizable-tile")}else($page.body.hasClass("page-preview")||$page.body.hasClass("page-branding-guidelines"))&&(a=$(".envision-section .branding-tiles .customizable-tile"));return a},this.updateDataAttributesOnTiles=function(t){var e=$page.modalBrandImage.find(".customizable-tile");e.attr("data-image",t.image.id),e.attr("data-image-source",t.image.source),e.attr("data-style",t.style),e.attr("data-logo",t.logo);var o=a.getSourceTileInContext();o.attr("data-image",t.image.id),o.attr("data-image-source",t.image.source),o.attr("data-style",t.style),o.attr("data-logo",t.logo)},this.updateEnvisionBrandContent=function(){$page.body.hasClass("page-preview")&&0!==$("#slide-live-your-dream").length&&SmashingLogo.EnvisionBrand&&SmashingLogo.EnvisionBrand.setupLiveYourDream(!0)},a.scrollToNewImages=function(a){var t=$page.modalBrandImage.find(".brand-images");if(0!==a.find(".brand-image.new:first").length){var e=a.find(".brand-image.new:first").position().top,o=t.scrollTop(),n=a.find(".brand-image:last").css("paddingBottom"),i=n?parseInt(n):0,r=Math.max(0,o+e-i);t.animate({scrollTop:r},800,(function(){a.find(".brand-image.new").removeClass("new")}))}},this.appendInteractiveBottomBar=function(t,e,o,n,i){$page.body.addClass("interactive-components-bar");var r=$('<div class="branding-tiles-bottom-bar interactive-components"></div>');if(i&&i.fixedBottomBar&&(r.addClass("fixed-position"),$page.body.addClass("fixed-bottom-bar")),i&&i.dynamicFilters&&r.attr("data-dynamic-filters",JSON.stringify(i.dynamicFilters)),!i||!i.onlyShowCallToActionBar){var d=a.buildComponents(t,o,n);r.append(d)}var s=$('<div class="branding-tiles-action-bar"></div>'),l=$('<button class="btn secondary btn-default btn-history-modal"><img class="ui-icon" src="/static/img/ui_icons/history.svg" width="200" height="172" alt="" /></button>');if(s.append(l),i&&!i.hasHistory&&l.addClass("empty-history"),i&&i.callToActions)for(var c=0;c<i.callToActions.length;c++){var m=i.callToActions[c],p=$('<button data-target-url="'+m.url+'" class="btn btn-cta-link">'+m.text+"</button>");"primary"===m.type?p.addClass("primary").addClass("btn-primary"):p.addClass("secondary").addClass("btn-default"),s.append(p)}r.append(s),i&&i.fixedBottomBar?$page.body.append(r):e.append(r)},this.buildComponents=function(a,t,e){var o=$('<div class="components"></div>'),n=$("<div></div>");n.attr({class:"component color logo-component","data-component-type":"color","data-ref-number":a.refNumber,"data-logo-id":a.logoId});var i=$('<div class="palette"></div>');n.append(i),SmashingLogo.Utils.buildColorPalette(i,t);var r=$("<div></div>");r.attr({class:"component font primary logo-component","data-component-type":"primary-font","data-ref-number":a.refNumber,"data-logo-id":a.logoId});var d,s=$('<div class="font-preview"></div>'),l=$(a.primaryFontPreviewSvg);if(s.append(l),r.append(s),a.secondaryFontPreviewSvg){(d=$("<div></div>")).attr({class:"component font secondary logo-component","data-component-type":"secondary-font","data-ref-number":a.refNumber,"data-logo-id":a.logoId});var c=$('<div class="font-preview"></div>'),m=$(a.secondaryFontPreviewSvg);c.append(m),d.append(c)}var p=$("<div></div>");if(p.attr({class:"component icon logo-component","data-component-type":"icon","data-ref-number":a.refNumber,"data-logo-id":a.logoId}),e){var g=$('<div class="standalone-icon"></div>'),v=e.clone();g.append(v),g.find("path").css("fill","#000000"),p.append(g)}else{var f=$('<div class="empty-icon-container"></div>');f.append('<span class="glyphicon glyphicon-search"></span><span class="text">'+window.i18nIcon+"</span>"),p.addClass("logo-has-no-icon"),p.append(f)}return o.append(n),o.append(r),d&&o.append(d),o.append(p),o},this.sendToggleFavoriteRequest=function(t,e,o,n,i){var r=t.hasClass("is-favorite")?"remove":"add";$.ajax({url:"/quick-editor/toggle-favorite/",type:"POST",data:{context:e,favoriteType:i,currentLogoPath:o,targetLogoPath:n,toggleType:r},timeout:6e4,success:function(o){if(o.limitReached){SmashingLogo.Utils.hideLoadingAnimation(),window.storedScrollPositionOfInteractiveModal=$page.modalInteractiveComponent.scrollTop(),$page.fakeModalManageFavoritesButton.removeClass("hidden"),$(".modal-backdrop.in").addClass("use-for-fake-modal");var n=a.translateVariationIntoComponentType(i);return $page.fakeModalComponentFavoriteLimit.attr("data-component-type",n),$page.fakeModalComponentFavoriteLimit.find(".items").remove(),void $page.fakeModalComponentFavoriteLimit.removeClass("hidden")}if(o.success){if($page.fakeModalComponentFavoriteLimit.find(".modal-title .count").html(" ("+o.newCount+"/10)"),"add"===r?t.addClass("is-favorite"):"remove"===r&&t.removeClass("is-favorite"),o.isCurrentComponentAFavorite?$page.modalInteractiveComponent.attr("data-favorite-status","favorite"):$page.modalInteractiveComponent.attr("data-favorite-status","no-favorite"),"current-logo"!==e){var d=t.closest(".item"),s=d.find(".logo-meta-info").attr("data-svg-file-path"),l=d.find(".logo-meta-info").attr("data-component-hash");$page.modalInteractiveComponent.find(".item").each((function(){var a=$(this);s!==a.find(".logo-meta-info").attr("data-svg-file-path")&&(a.find(".logo-meta-info").attr("data-component-hash")===l&&("add"===r?a.find(".toggle-favorite-button").addClass("is-favorite"):"remove"===r&&a.find(".toggle-favorite-button").removeClass("is-favorite")))}))}if("remove"===r&&"favorites-modal"===e){var c=t.closest(".item");c.addClass("remove-animation"),window.setTimeout((function(){c.remove()}),600)}SmashingLogo.Utils.hideLoadingAnimation()}else SmashingLogo.Utils.hideLoadingAnimation()},error:function(){console.log("process error")}})},this.attachEventHandler=function(){$page.body.on("click","#modalInteractiveComponent .filter-container .box.multiselect",(function(){var a=$(this);if("color"===$("#modalInteractiveComponent").attr("data-component-type"))a.toggleClass("selected"),$(".btn-interactive-modal-add-more").trigger("click");else{var t=a.hasClass("selected");a.closest(".filter-dropdown").find(".box").removeClass("selected"),t?a.removeClass("selected"):a.addClass("selected"),$(".btn-interactive-modal-add-more").trigger("click")}})),$page.body.on("click",".remove-original-color-palette",(function(a){a.preventDefault();var t=$(this),e=t.closest(".color-palette-warning").find(".palette"),o=$page.modalInteractiveComponent.attr("data-logo-path");SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/quick-editor/remove-color-favorite/",type:"POST",data:{currentLogoPath:o,colorHash:e.attr("data-color-hash")},success:function(a){if(a.success){a.isCurrentComponentAFavorite?$page.modalInteractiveComponent.attr("data-favorite-status","favorite"):$page.modalInteractiveComponent.attr("data-favorite-status","no-favorite"),$page.fakeModalComponentFavoriteLimit.find(".modal-title .count").html(" ("+a.newCount+"/10)");var e=t.closest(".item");e.addClass("remove-animation"),window.setTimeout((function(){e.remove()}),600),SmashingLogo.Utils.hideLoadingAnimation()}else SmashingLogo.Utils.hideLoadingAnimation()}})})),$page.body.on("click","#modalInteractiveComponent .modal-header .favorites-row .mode",(function(){$(this).addClass("active").siblings().removeClass("active"),$page.modalInteractiveComponent.find('.modal-header .nav-row .mode[data-section="favorite-based"]').trigger("click")})),$page.body.on("click",".branding-tiles-action-bar .btn-history-modal",(function(){if(!$(this).hasClass("empty-history")){var a=$page.body.hasClass("page-generate")?$(this).closest(".item"):$("#slide-tiles .tiles-container"),t=a.attr("data-ref-number")+"-"+a.attr("data-logo-id");SmashingLogo.QuickEdit.openHistory("timeline",t)}})),$page.body.on("click",".branding-tiles-action-bar .btn-cta-link",(function(){SmashingLogo.Utils.showLoadingAnimation(),window.location.assign($(this).attr("data-target-url"))})),$page.modalBrandImage.on("click",".brand-image img",(function(t){SmashingLogo.Utils.showLoadingAnimation();var e=$(this),o=e.closest(".brand-image"),n=a.getSourceTileInContext(),i=$page.modalBrandImage.attr("data-logo-path"),r=SmashingLogo.Utils.logoInfoFromSvgPath(i);r.tile={image:{id:o.attr("data-image"),source:o.attr("data-image-source")},style:n.attr("data-style"),logo:n.attr("data-logo")},r.imageSet=$page.modalBrandImage.find(".brand-images-categories .select-image-set").val(),$.ajax({url:"/v4/envision/brand/update/",type:"POST",data:r,success:function(t){if(t.success){var i=t.newlyAddedImageUrl||e.attr("src");o.addClass("selected").siblings().removeClass("selected"),a.updateDataAttributesOnTiles(r.tile);var d=$page.modalBrandImage.find(".customizable-tile");d.find("img").attr("src",i),n.find("img").attr("src",i);var s=d.find(".fade-item");s.removeClass("animated"),window.setTimeout((function(){s.addClass("animated"),a.updateEnvisionBrandContent(),SmashingLogo.Utils.hideLoadingAnimation()}),300)}}})})),$page.modalBrandImage.on("change",".effect-settings .select-style",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=a.getSourceTileInContext(),e=$page.modalBrandImage.attr("data-logo-path"),o=SmashingLogo.Utils.logoInfoFromSvgPath(e);o.tile={image:{id:t.attr("data-image"),source:t.attr("data-image-source")},style:$(this).val(),logo:t.attr("data-logo")},$.ajax({url:"/v4/envision/brand/update/",type:"POST",data:o,success:function(t){t.success&&(a.updateDataAttributesOnTiles(o.tile),a.updateEnvisionBrandContent(),SmashingLogo.Utils.hideLoadingAnimation())}})})),$page.modalBrandImage.on("change",".effect-settings .select-logo",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=a.getSourceTileInContext(),e=$page.modalBrandImage.attr("data-logo-path"),o=SmashingLogo.Utils.logoInfoFromSvgPath(e);o.tile={image:{id:t.attr("data-image"),source:t.attr("data-image-source")},style:t.attr("data-style"),logo:$(this).val()},$.ajax({url:"/v4/envision/brand/update/",type:"POST",data:o,success:function(t){t.success&&(a.updateDataAttributesOnTiles(o.tile),SmashingLogo.Utils.hideLoadingAnimation())}})})),$page.modalBrandImage.on("change",".brand-images-categories .select-image-set",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this).val(),e=$page.modalBrandImage.find(".image-prompt-form");if("search"===t)return e.removeClass("hidden"),SmashingLogo.Utils.hideLoadingAnimation(),void $page.modalBrandImage.find(".select-image-column .brand-images").html("");e.addClass("hidden"),$.ajax({url:"/v3/envision/images/collection/",type:"POST",data:{collection:t},success:function(e){var o=$page.modalBrandImage.find(".customizable-tile");a.buildImageSelection(e.images,o.attr("data-image")),"search"!==t&&a.addSomethingDifferentFooter(),SmashingLogo.Utils.hideLoadingAnimation()}})})),$page.modalBrandImage.on("click",".image-prompt-submit",(function(){var t=$page.modalBrandImage.find(".image-prompt-input"),e=t.val();e?(SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/envision/images/browse/",type:"POST",data:{userPrompt:e,userLangKey:$("html").attr("lang")},timeout:6e4,success:function(t){if("failed"!==t){if(0===t.length)return e&&$page.modalZeroImagesFoundNoAI.find(".search-term").html(e),$page.modalZeroImagesFoundNoAI.modal("show"),void SmashingLogo.Utils.hideLoadingAnimation();for(var o=$page.modalBrandImage.find(".select-image-column .brand-images"),n=0;n<t.length;n++){var i=t[n],r=SmashingLogo.EmbeddedImageSearch.buildBrandImageResult(i,!0);r.removeClass("image").addClass("brand-image"),r.attr("data-image",r.attr("data-image-id")),r.removeAttr("data-image-id"),o.append(r)}a.scrollToNewImages(o,!0),SmashingLogo.Utils.hideLoadingAnimation()}else SmashingLogo.Utils.hideLoadingAnimation()}})):t.focus()})),$page.modalBrandImage.on("click",".jump-to-search",(function(){$page.modalBrandImage.find(".brand-images-categories .select-image-set").val("search").trigger("change")})),$page.body.on("click",".branding-tiles-bottom-bar .component.cta .btn",(function(){SmashingLogo.Utils.showLoadingAnimation(),window.location.assign($(this).attr("href"))})),$page.body.on("click",".branding-tiles-bottom-bar:not(.interactive-components) .component:not(.cta)",(function(){SmashingLogo.Utils.showLoadingAnimation(),window.location.assign($(this).attr("data-editor-url"))})),$page.body.on("click",".branding-tiles-bottom-bar.interactive-components .logo-component",(function(){var t,e=$(this),o=e.closest(".branding-tiles-bottom-bar"),n=$page.body.hasClass("page-generate")?e.closest(".item").find(".primary-column .logo-preview").attr("data-svg-file-path"):$page.body.attr("data-logo-path");o.attr("data-dynamic-filters")&&(t=JSON.parse(o.attr("data-dynamic-filters")));var i=[];o.find(".logo-component[data-component-type]").each((function(){i.push($(this).attr("data-component-type"))})),a.buildInteractiveComponentsModal(e,n,i,t)})),$page.modalInteractiveComponent.on("click",".modal-header .nav-row .switch-modes .mode",(function(){var t=$(this);a.resetInteractiveComponentModal(),t.addClass("active").siblings().removeClass("active"),a.renderContentInInteractiveComponentsModal($page.modalInteractiveComponent.attr("data-component-type"),$page.modalInteractiveComponent.attr("data-logo-path"),$page.modalInteractiveComponent.attr("data-ref-number"),$page.modalInteractiveComponent.attr("data-logo-id"),t.attr("data-section"),JSON.parse($page.modalInteractiveComponent.attr("data-component-description")),$page.modalInteractiveComponent.attr("data-component-hash"),$page.modalInteractiveComponent.attr("data-favorite-status"))})),$page.modalInteractiveComponent.on("click",".btn-interactive-modal-editor",(function(){SmashingLogo.Utils.showLoadingAnimation();var a,t=$(this),e=$("html").attr("lang"),o=t.attr("data-component-type"),n=t.attr("data-ref-number"),i=t.attr("data-logo-id");switch(o){case"primary-font":default:a="name-text";break;case"secondary-font":a="slogan-text";break;case"color":a="color-edit";break;case"icon":a="icon-edit"}window.location.assign("/"+e+"/quick-edit?s="+n+"-"+i+"#"+a)})),$page.modalInteractiveComponent.on("click",".btn-interactive-modal-ideas",(function(){$page.modalInteractiveComponent.find('.nav-row .mode[data-section="browse-ideas"]').trigger("click")})),$page.modalInteractiveComponent.on("click",".component-preview",(function(){$(this).closest(".modal-body").find(".btn-interactive-modal-editor").trigger("click")})),$page.modalInteractiveComponent.on("click",".btn-interactive-modal-add-more",(function(){a.renderContentInInteractiveComponentsModal($page.modalInteractiveComponent.attr("data-component-type"),$page.modalInteractiveComponent.attr("data-logo-path"),$page.modalInteractiveComponent.attr("data-ref-number"),$page.modalInteractiveComponent.attr("data-logo-id"),$page.modalInteractiveComponent.attr("data-section"))})),$("#modalAllFontsRendered").on("hidden.bs.modal",(function(){$page.modalInteractiveComponent.hasClass("in")&&$page.body.addClass("modal-open")})),$page.modalInteractiveComponent.on("click",".btn-interactive-modal-toggle-favorite",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this),e=a.translateComponentIntoVariationType($page.modalInteractiveComponent.attr("data-component-type")),o=$page.modalInteractiveComponent.attr("data-logo-path"),n=o;a.sendToggleFavoriteRequest(t,"current-logo",o,n,e)})),$page.modalInteractiveComponent.on("click",".items .toggle-favorite-button",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this),e=a.translateComponentIntoVariationType($page.modalInteractiveComponent.attr("data-component-type")),o=$page.modalInteractiveComponent.attr("data-logo-path"),n=t.closest(".logo-meta-info").attr("data-svg-file-path"),i="browse-ideas"===$page.modalInteractiveComponent.attr("data-section")?"browse-ideas":"favorites-modal";a.sendToggleFavoriteRequest(t,i,o,n,e)})),$page.fakeModalComponentFavoriteLimit.on("click",".items .toggle-favorite-button",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this),e=a.translateComponentIntoVariationType($page.modalInteractiveComponent.attr("data-component-type")),o=$page.modalInteractiveComponent.attr("data-logo-path"),n=t.closest(".logo-meta-info").attr("data-svg-file-path");a.sendToggleFavoriteRequest(t,"favorites-modal",o,n,e)})),$page.fakeModalComponentFavoriteLimit.on("click",".modal-header .close, .btn-close-fake-modal",(function(){$page.fakeModalComponentFavoriteLimit.addClass("hidden"),$(".modal-backdrop.in").removeClass("use-for-fake-modal"),$page.modalInteractiveComponent.scrollTop(window.storedScrollPositionOfInteractiveModal||0)})),$page.fakeModalManageFavoritesButton.on("click",(function(){var t=$page.modalInteractiveComponent.attr("data-component-type"),e=$page.modalInteractiveComponent.attr("data-logo-path"),o=$page.fakeModalComponentFavoriteLimit.find(".modal-body");$page.fakeModalManageFavoritesButton.addClass("hidden");var n={userLangKey:$("html").attr("lang"),currentLogoPath:e,variationType:a.translateComponentIntoVariationType(t)};SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/logos/browse-favorites/",type:"POST",data:n,timeout:6e4,success:function(t){if(t.authError||t.drawError)window.location.reload();else if(t.noFavoritesYet)SmashingLogo.Utils.hideLoadingAnimation();else{var e=o.find(".items");0===e.length&&(e=$('<div class="items"></div>'),o.append(e));var n=e.find(".item").length>0;a.appendLogosInInteractiveModal(t,e,n)}},error:function(){console.log("process error")}})}))}}SmashingLogo.BrandingTiles=new BrandingTiles;
"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,n=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function QuickEdit(){var e=this;window.windowWidth=$page.window.width(),$page.variationWrappers={history:$(".variation-history .horizontal-logo-wrapper"),browse:$(".variation-browse .horizontal-logo-wrapper")},$page.quickEditSection=$("#quick-edit-section"),$page.quickEditMenu="post-purchase"===$page.body.attr("data-editor-context")?$("#variations-header-root .switch-modes"):$(".envision-brand-sub-navigation .switch-modes"),$page.variationModal=$(".variation-browse"),$page.historyModal=$(".variation-history"),$page.editorFavoriteModal=$("#modalManageEditorFavorites"),$page.editorFavoriteModalMenu=$page.editorFavoriteModal.find(".modal-header .switch-modes"),$page.variationModalMenu=$page.variationModal.find(".variations-header .switch-modes"),$page.historyModalMenu=$page.historyModal.find(".variations-header .switch-modes"),$page.variationModalFooter=$(".variation-modal-footer"),$page.addMoreVariationsButton=$page.variationModalFooter.find(".btn-generate-more"),$page.colorPaletteInBaseSection=$('.filter-section[data-filter-section="color-base"] .color-wrap .palette'),$page.colorPaletteInEditSection=$('.filter-section[data-filter-section="color-edit"] .color-wrap .palette'),$page.pantoneWrapInEditSection=$('.filter-section[data-filter-section="color-edit"] .color-swatch-wrap .pantone-wrap .swatches-container'),$page.gradientsWrapInEditSection=$('.filter-section[data-filter-section="color-edit"] .color-swatch-wrap .gradient-wrap'),$page.modalEditorFavoriteLimit=$("#modalEditorFavoriteLimitReached"),$page.fontStyleGlyphIndicesHiddenField=$("#fontStyleGlyphIndices"),this.init=function(){e.setCanvasLayout(),e.attachEventHandler(),e.loadQuickEditView(),SmashingLogo.Utils.appendReusableCloseButton()},this.loadQuickEditView=function(){var t={s:SmashingLogo.Utils.getParameterByName("s",window.location)},i="/quick-edit-view/";e.isPostPurchaseEditor()&&(i="/quick-edit-post-purchase-view/",t.isPostPurchaseEdit=!0),$.ajax({url:i,type:"GET",data:t,timeout:6e4,success:function(t){if("auth-error"!==t){SmashingLogo.SeamlessHeader.colorBranding(t.brandInfos.primaryBrandColor),$page.body.attr("data-logo-path",t.logoFileName),e.isPostPurchaseEditor()||SmashingLogo.ManageFavorites.setFavoriteCount(t.favoriteCount);var i=$(".variation-canvas-inner-wrap .item .mutations-container"),a="default"===t.renderInstructions.randomTemplate||"Default"===t.renderInstructions.randomTemplate;i.append($('<div data-template-identifier="Default" data-back-hex="ffffff" data-front-hex="'+t.hex1+";"+t.hex2+'" data-random-template="'+a+'" class="default mutation"></div>').append(t.svgString)),SmashingLogo.LogoMaker.renderTemplates(t.renderInstructions,t.logoFileName,t.svgString,i,"mutation",!1),e.isPostPurchaseEditor()?e.isPostPurchaseTrialLogo()&&SmashingLogo.LogoMaker.addWatermarkupToSvgs(i.find(".svg-container svg")):SmashingLogo.LogoMaker.addWatermarkupToSvgs(i.find(".svg-container svg")),e.refreshComponents(t,t.renderInstructions),e.isPostPurchaseEditor()||(e.setFavoriteCountsInFavoritesModal(t.quickEditorFavoriteCounts),SmashingLogo.SeamlessHeader.addDataUrls(),SmashingLogo.Utils.setPreviousLogoId(t.logoId));var o=window.location.hash?window.location.hash.replace("#",""):void 0,n=e.getActivePrimaryIdentifier(o);if(o&&n)if($('.filter-section[data-filter-section="'+o+'"]').length)e.activateSection(o);else{var r=$page.quickEditSection.find('.filter-container[data-filter-container="'+n+'"] .filter-section:first').attr("data-filter-section");e.setHashByGivenMenuIdentifier(r)}else e.setHashByGivenMenuIdentifier("name-text");"color-edit"!==o&&"color-customize"!==o||e.initColorisPicker(o,t.renderedColors,t.customColorMapping),"color-edit"===o&&(e.appendPantoneSwatches(),e.appendGradientSwatches()),e.isPostPurchaseEditor()||e.buildIconSearch(),e.isPostPurchaseEditor(),$page.body.removeClass("initial-page-setup-in-progress"),SmashingLogo.Utils.hideLoadingAnimation()}else window.location.assign($(".col-menu .link-logo-maker").attr("href"))},error:function(){console.log("process error")}})},this.addAIIcons=function(e){$('.filter-section[data-filter-section="icon-edit"]').append('<div class="ai-icons-container hidden"><h3>Icons from Add-Ons Store</h3><div class="ai-icons"></div></div>'),$.ajax({url:"/purchases/addons/ai-icons/",type:"GET",data:{logoId:e},timeout:6e4,success:function(e){var t=$(".ai-icons-container");t.hasClass("hidden")&&t.removeClass("hidden");var i,a=t.find(".ai-icons"),o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var n=i.value,r=$('<div class="ai-icon" data-icon-id="'+n.id+'">'+n.svgString+"</div>");a.append(r)}}catch(e){o.e(e)}finally{o.f()}},error:function(){}})},this.buildIconSearch=function(){$page.body.removeClass("icon-content-loaded"),$.ajax({url:"/v4/icons/suggested/info/",type:"GET",data:{userLangKey:$("html").attr("lang")},timeout:2e4,success:function(e){e.isAIPoweredIconSearchEnabled&&($page.body.addClass("ai-powered-icon-search-enabled"),$('#embedded-search-container .icon-search-categories .mode[data-search-category="ai"]').removeClass("hidden")),$("#embedded-search-container #search-section").removeClass("hidden"),$page.body.addClass("icon-content-loaded"),$("#embedded-search-container .icon-search-header .switch-modes").attr("data-placeholder-terms",JSON.stringify(e.placeholderTerms)),SmashingLogo.EmbeddedIconSearch.initPlaceholderAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})},this.isPostPurchaseEditor=function(){return"post-purchase"===$page.body.attr("data-editor-context")},this.isPostPurchaseTrialLogo=function(){return e.isPostPurchaseEditor()&&"true"===$page.body.attr("data-editor-watermark")},this.activateSection=function(t){var i=e.getActivePrimaryIdentifier(t);if(i){if($page.quickEditMenu.find('.mode[data-filter-container="'+i+'"]').addClass("active").siblings().removeClass("active"),"layout"!==i){var a=$page.editorFavoriteModal.find('.mode[data-favorite-type="'+i+'"]');a.length&&$(".variation-action-button.favorites .text-wrap").html(a.html())}$page.variationModalMenu.find('.mode[data-variations-section="'+i+'"]').addClass("active").siblings().removeClass("active"),$page.editorFavoriteModal.find('.mode[data-favorite-type="'+i+'"]').addClass("active").siblings().removeClass("active"),$page.inputs.variationHiddenFieldQuickEdit.val(i);var o=$('.filter-container[data-filter-container="'+i+'"]');o.siblings("[data-filter-container]").removeClass("active"),o.addClass("active"),$("#quick-edit-section").attr("data-active-variation-type",i),e.cleanupBrowse(),e.closeHistory(),e.cleanupHistory();var n=$("#quick-edit-section .filter-container.active .filter-sections-header .switch-modes .mode.active").attr("data-filter-section");if($("#quick-edit-section").attr("data-active-variation-sub-type",n||""),t){var r=$('.filter-section[data-filter-section="'+t+'"]');if(0!==r.length){var s=o.find('.filter-sections-header .mode[data-filter-section="'+t+'"]');$("#quick-edit-section").attr("data-active-variation-sub-type",t),"color-customize"===t&&e.switchColorCustomizeTarget(),s.addClass("active").siblings().removeClass("active"),r.siblings("[data-filter-section]").removeClass("active"),r.addClass("active"),e.setupQuickEditUI()}}}},e.updateInvisibleBoxes=function(){e.removeInvisibleBoxes();var t=e.getActiveTemplate(),i=t.find("svg"),a=i.get(0).getBoundingClientRect(),o=a.width/550;i.find("g, path").each((function(){var e=$(this),t=e.prop("tagName"),n=e.attr("data-paper-data");if(!(e.hasClass("watermark-group")||e.hasClass("watermark-path"))&&!("g"===t&&!n)){var r,s=!1;if(n){var d=$.parseJSON(n);if(d.isGlobalGroup)return;for(var c=["isContainerElementsWrapper","isPrimaryText","isMirroredPrimaryText","isSecondaryText","isAdditionalSecondaryTextDonut","isIcon"],l=0;l<c.length;l++)if(d[r=c[l]]){s=!0;break}}var p="element-id-"+Math.round(1e5*Math.random());e.attr("id",p);var g=e.get(0).getBoundingClientRect(),f=$("<rect></rect>");f.attr({"data-element-id":p,"stroke-width":"2",fill:"transparent",class:"invisible-element-box",x:Math.round((g.left-a.left)/o),y:Math.round((g.top-a.top)/o),width:Math.round(g.width/o),height:Math.round(g.height/o)}),s?(f.attr("data-element-name",r),f.addClass("grouping-element")):f.addClass("individual-element"),i.append(f)}})),e.zIndexLogicForSvgRectangles(i),t.find(".svg-container").html(t.find(".svg-container").html()),$page.body.hasClass("split-index-edit-mode")&&e.updateSvgForSplitIndexMode()},this.removeInvisibleBoxes=function(){$(".variation-canvas-inner-wrap .mutations-container .mutation svg .invisible-element-box").remove()},this.switchColorCustomizeTarget=function(){"group"===$(".color-chaining-button").attr("data-active-chaining-mode")?($page.quickEditSection.addClass("customize-group"),$page.quickEditSection.removeClass("customize-individual")):($page.quickEditSection.addClass("customize-individual"),$page.quickEditSection.removeClass("customize-group"))},this.switchToGroupChainingMode=function(){$(".color-chaining-button").attr("data-active-chaining-mode","group"),$page.quickEditSection.addClass("customize-group"),$page.quickEditSection.removeClass("customize-individual"),SmashingLogo.Utils.hideLoadingAnimation()},this.switchToIndividualChaining=function(){$(".color-chaining-button").attr("data-active-chaining-mode","individual"),$page.quickEditSection.addClass("customize-individual"),$page.quickEditSection.removeClass("customize-group"),SmashingLogo.Utils.hideLoadingAnimation()},this.restoreFrameScrollPosition=function(){window.storedFrameScrollPosition&&$(".variations-canvas .variation-filter-inner").scrollTop(window.storedFrameScrollPosition)},this.zIndexLogicForSvgRectangles=function(e){var t=e.find("rect").sort((function(e,t){var i=parseInt($(e).attr("width"))*parseInt($(e).attr("height")),a=parseInt($(t).attr("width"))*parseInt($(t).attr("height"));return i<a?1:i>a?-1:0}));e.find("rect").remove(),e.append(t)},this.getActivePrimaryIdentifier=function(e){if(e)return 0===e.indexOf("name")?"name":0===e.indexOf("slogan")?"slogan":0===e.indexOf("color")?"color":0===e.indexOf("icon")?"icon":0===e.indexOf("layout")?"layout":void 0},this.setHashByGivenMenuIdentifier=function(e){window.location.hash=e},this.attachEventHandler=function(){e.isPostPurchaseEditor()?e.attachPostPurchaseEvents():e.attachPrePurchaseEvents()},this.getAjaxParamsQuickEdit=function(e){var t={userLangKey:$("html").attr("lang"),currentLogoPath:$page.body.attr("data-logo-path"),companyName:$page.body.attr("data-company-name"),companyTagline:$page.body.attr("data-company-tagline"),variationType:$page.inputs.variationHiddenFieldQuickEdit.val()};return e&&(t=$.extend({},t,e)),t},this.getActiveFontFilters=function(e,t){var i=[],a=[];return("slogan"===e?t.find('.filter-container[data-filter-container="slogan"] .filter-section .box.selected'):t.find('.filter-container[data-filter-container="name"] .filter-section .box.selected')).each((function(){var e=$(this);e.attr("data-font-category-identifier")?i.push(e.attr("data-font-category-identifier")):e.attr("data-font-tag-identifier")&&a.push(e.attr("data-font-tag-identifier"))})),{activeCategories:i,activeTags:a}},this.updateCanvasLogo=function(t,i,a){var o=SmashingLogo.LogoMaker.bootstrapProgressObject(t.logoFileNames.length),n=[];SmashingLogo.LogoMaker.bootstrapSvgData(n,t);for(var r=0;r<t.logoFileNames.length;r++)$.get(t.logoPath+"/"+t.logoFileNames[r],(function(r){var s=this.url.substr(this.url.lastIndexOf("/")+1),d=n.map((function(e){return e.timestamp})).indexOf("0"===s.substr(0,1)?s.substr(0,14):s.substr(0,13));if(n[d].svgString=SmashingLogo.Utils.uniqueSVG(SmashingLogo.Utils.fluidSVG(r)),o.ajaxCounter+1===o.fileCount){i.html(""),SmashingLogo.LogoMaker.appendLogos(i,n,t,"simple"),SmashingLogo.LogoMaker.selectActiveColorMutation(i.find(".item")),e.isPostPurchaseEditor()?e.isPostPurchaseTrialLogo()&&SmashingLogo.LogoMaker.addWatermarkupToSvgs(i.find(".item .svg-container svg")):SmashingLogo.LogoMaker.addWatermarkupToSvgs(i.find(".item .svg-container svg"));var c=t.renderInstructions[0];t.logoFileName=this.url,e.refreshComponents(t,c),e.setupQuickEditUI(),SmashingLogo.SeamlessHeader.colorBranding(t.brandInfos.primaryBrandColor),a&&a(),e.restoreFrameScrollPosition(),SmashingLogo.Utils.hideLoadingAnimation()}}),"text")},this.openHistory=function(t,i){SmashingLogo.Utils.showLoadingAnimation();var a={s:i};(e.isPostPurchaseEditor()&&(a.isPostPurchaseEdit=!0),e.cleanupHistory(),$page.body.hasClass("page-variations"))&&($page.historyModalMenu.find('.mode[data-history-section="'+t+'"]').addClass("active").siblings().removeClass("active"),$page.quickEditSection.attr("data-active-history-section",t),$page.historyModal.scrollTop(0));"timeline"===t?$.ajax({url:"/editor/fetch-history/",type:"GET",data:a,timeout:6e4,success:function(t){if(0!==t.historyFileNames.length){for(var i=[],a=0;a<t.historyFileNames.length;a++)i.push(t.historyFileNames[a].substr(t.historyFileNames[a].lastIndexOf("/")+1));if(i.length){var o={renderInstructions:t.historyFilesRenderInstructions.reverse(),logoPath:t.historyFileNames[0].substr(0,t.historyFileNames[0].lastIndexOf("/")),logoFileNames:i.reverse()};e.appendHistoryLogos(o,$(".variation-history .horizontal-logo-wrapper"))}}else SmashingLogo.Utils.hideLoadingAnimation()},error:function(){console.log("process error")}}):(a.variationType=t,$.ajax({url:"/logos/browse-previous/",type:"POST",data:a,timeout:6e4,success:function(t){t.noPreviousItems||t.drawError||"auth-error"===t?SmashingLogo.Utils.hideLoadingAnimation():e.appendPreviousLogos(t,$("#quick-edit-section .variation-history-wrapper .horizontal-logo-wrapper"))},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}}))},this.openFavoritesModal=function(t){$page.editorFavoriteModal.find(".modal-body .logos").html(""),SmashingLogo.Utils.showLoadingAnimation();var i=e.getAjaxParamsQuickEdit();i.variationType=t,$.ajax({url:"/logos/browse-favorites/",type:"POST",data:i,timeout:6e4,success:function(t){t.authError||t.drawError?window.location.reload(!0):t.noFavoritesYet?SmashingLogo.Utils.hideLoadingAnimation():e.appendFavoriteLogos(t,$page.editorFavoriteModal.find(".logos"))},error:function(){console.log("process error")}})},this.openBrowseNew=function(t){$page.variationModal.scrollTop(0),e.cleanupBrowse(),e.triggerBrowse(t)},this.appendHistoryLogos=function(t,i){var a=SmashingLogo.LogoMaker.bootstrapProgressObject(t.logoFileNames.length),o=[],n=i.parent(),r=i.detach();SmashingLogo.LogoMaker.bootstrapSvgData(o,t);for(var s=0;s<t.logoFileNames.length;s++)$.get(t.logoPath+"/"+t.logoFileNames[s],(function(i){var s=this.url.substr(this.url.lastIndexOf("/")+1),d=o.map((function(e){return e.timestamp})).indexOf("0"===s.substr(0,1)?s.substr(0,14):s.substr(0,13));o[d].svgString=SmashingLogo.Utils.uniqueSVG(SmashingLogo.Utils.fluidSVG(i)),a.ajaxCounter+1===a.fileCount?(SmashingLogo.LogoMaker.appendLogos(r,o,t,"simple"),SmashingLogo.LogoMaker.selectActiveColorMutation(r.find(".item")),e.isPostPurchaseEditor()?e.isPostPurchaseTrialLogo()&&SmashingLogo.LogoMaker.addWatermarkupToSvgs(r.find(".svg-container svg")):SmashingLogo.LogoMaker.addWatermarkupToSvgs(r.find(".svg-container svg")),n.append(r),$page.body.addClass("expanded-history"),$page.historyModal.scrollTop(0),$page.body.hasClass("page-variations")?e.setupQuickEditUI():($page.body.hasClass("page-preview")||$page.body.hasClass("page-generate"))&&$("#modalHistory").modal("show"),SmashingLogo.Utils.hideLoadingAnimation()):(a.ajaxCounter++,a.percentage=Math.round(a.ajaxCounter/a.fileCount*100))}),"text")},this.appendBrowseIdeasLogos=function(t,i,a){var o=SmashingLogo.LogoMaker.bootstrapProgressObject(t.logoFileNames.length),n=[];SmashingLogo.LogoMaker.bootstrapSvgData(n,t);for(var r=0;r<t.logoFileNames.length;r++)$.get(t.logoPath+"/"+t.logoFileNames[r],(function(r){var s=this.url.substr(this.url.lastIndexOf("/")+1),d=n.map((function(e){return e.timestamp})).indexOf("0"===s.substr(0,1)?s.substr(0,14):s.substr(0,13));if(n[d].svgString=SmashingLogo.Utils.uniqueSVG(SmashingLogo.Utils.fluidSVG(r)),o.ajaxCounter+1===o.fileCount){var c;if(SmashingLogo.LogoMaker.appendLogos(i,n,t,"simple",a),SmashingLogo.LogoMaker.selectActiveColorMutation(i.find(".item")),$page.body.hasClass("expanded-browse")||($page.body.addClass("expanded-browse"),e.setupQuickEditUI()),c=$page.body.hasClass("highres-browse-layout")?$("#quick-edit-section .variation-browse-wrapper"):$page.variationModal,a){var l=i.find(".item.new:first").position().top;c.animate({scrollTop:l-20},800,(function(){e.hideLoadingStateForVariationModal()})),SmashingLogo.LogoMaker.addWatermarkupToSvgs(i.find(".item.new .svg-container svg"));var p=i.find(".item.new");p.each((function(){e.appendColorBrandedPencilIcon($(this).find(".logo-preview"))})),p.removeClass("new")}else SmashingLogo.LogoMaker.addWatermarkupToSvgs(i.find(".item .svg-container svg")),e.hideLoadingStateForVariationModal(),$page.variationModal.scrollTop(0),c.scrollTop(0),i.find(".item").each((function(){e.appendColorBrandedPencilIcon($(this).find(".logo-preview"))}));e.appendLogoMetaInfoFooter(t,$page.quickEditSection.attr("data-active-variation-type"),i)}else o.ajaxCounter++,o.percentage=Math.round(o.ajaxCounter/o.fileCount*100)}),"text")},this.appendFavoriteLogos=function(t,i,a){var o=SmashingLogo.LogoMaker.bootstrapProgressObject(t.logoFileNames.length),n=[];SmashingLogo.LogoMaker.bootstrapSvgData(n,t);for(var r=0;r<t.logoFileNames.length;r++)$.get(t.logoPath+"/"+t.logoFileNames[r],(function(r){var s=this.url.substr(this.url.lastIndexOf("/")+1),d=n.map((function(e){return e.timestamp})).indexOf("0"===s.substr(0,1)?s.substr(0,14):s.substr(0,13));n[d].svgString=SmashingLogo.Utils.uniqueSVG(SmashingLogo.Utils.fluidSVG(r)),o.ajaxCounter+1===o.fileCount?(SmashingLogo.LogoMaker.appendLogos(i,n,t,"simple",a),SmashingLogo.LogoMaker.selectActiveColorMutation(i.find(".item")),$page.body.trigger("editorFavoritesViewReady"),SmashingLogo.LogoMaker.addWatermarkupToSvgs(i.find(".item .svg-container svg")),i.find(".item").each((function(){e.appendColorBrandedPencilIcon($(this).find(".logo-preview"))})),e.appendLogoMetaInfoFooter(t,$page.quickEditSection.attr("data-active-variation-type"),i)):(o.ajaxCounter++,o.percentage=Math.round(o.ajaxCounter/o.fileCount*100))}),"text")},this.appendPreviousLogos=function(t,i){var a=SmashingLogo.LogoMaker.bootstrapProgressObject(t.logoFileNames.length),o=[];SmashingLogo.LogoMaker.bootstrapSvgData(o,t);for(var n=0;n<t.logoFileNames.length;n++)$.get(t.logoPath+"/"+t.logoFileNames[n],(function(n){var r=this.url.substr(this.url.lastIndexOf("/")+1),s=o.map((function(e){return e.timestamp})).indexOf("0"===r.substr(0,1)?r.substr(0,14):r.substr(0,13));o[s].svgString=SmashingLogo.Utils.uniqueSVG(SmashingLogo.Utils.fluidSVG(n)),a.ajaxCounter+1===a.fileCount?(SmashingLogo.LogoMaker.appendLogos(i,o,t,"simple",!0),SmashingLogo.LogoMaker.selectActiveColorMutation(i.find(".item")),$page.body.addClass("expanded-history"),e.setupQuickEditUI(),$page.historyModal.scrollTop(0),SmashingLogo.LogoMaker.addWatermarkupToSvgs(i.find(".item .svg-container svg")),SmashingLogo.Utils.hideLoadingAnimation(),i.find(".item").each((function(){e.appendColorBrandedPencilIcon($(this).find(".logo-preview"))}))):(a.ajaxCounter++,a.percentage=Math.round(a.ajaxCounter/a.fileCount*100))}),"text")},this.appendLogoMetaInfoFooter=function(t,i,a){if(t.fontInfos&&("name"===i||"slogan"===i))for(var o=0;o<t.fontInfos.length;o++){var n=t.fontInfos[o],r=a.find('.item .logo-preview[data-svg-file-path*="'+n.logoFileName+'"]').closest(".item");e.appendFontInfoFooter(n,r),r.append('<div class="logo-components-info"><p>'+n.description+"</p></div>")}if(t.colorInfos&&"color"===i)for(var s=0;s<t.colorInfos.length;s++){var d=t.colorInfos[s],c=a.find('.item .logo-preview[data-svg-file-path*="'+d.logoFileName+'"]').closest(".item"),l=d.description;e.appendColorInfoFooter(d,c);for(var p=$('<div class="logo-components-info"></div>'),g=$('<ul class="color-description-pills"></ul>'),f=0;f<l.length;f++){var u=l[f];g.append($('<li><span class="hexcode"><span class="inner" style="background: #'+u.hexCode+';"></span></span><span class="description">'+u.description+"</span></li>"))}p.append(g),c.append(p)}if(t.iconInfos&&"icon"===i)for(var v=0;v<t.iconInfos.length;v++){var h=t.iconInfos[v];e.appendIconInfoFooter(h,a.find('.item .logo-preview[data-svg-file-path*="'+h.logoFileName+'"]').closest(".item"))}},this.appendColorBrandedPencilIcon=function(e){e.append('<span class="glyphicon glyphicon-pencil"></span>');var t=e.find(".mutations-container .mutation.active"),i="#"+t.attr("data-back-hex"),a="#"+t.attr("data-front-hex").split(";")[0],o=SmashingLogo.ColorUtils.getSuitableBlendColorAdvanced(i,a);e.find(".glyphicon").css("color",o)},this.appendFontInfoFooter=function(t,i){var a=$("<div></div>");a.attr({class:"logo-meta-info font-meta-info","data-component-hash":t.fontHash,"data-font-id":t.fontId,"data-letter-case":t.letterCase,"data-svg-file-path":t.logoPath}),i.append(a);var o=e.getFavoriteButton("btn-font-favorite");t.isFavorite&&o.addClass("is-favorite"),a.append(o);var n=e.getSwitchDesignButton();a.append(n)},this.getFavoriteButton=function(e){var t=window.i18nAddToFavorites,i=window.i18nRemoveFromFavorites,a=$('<button class="btn btn-lg btn-default toggle-favorite-button"><span class="glyphicon glyphicon-heart"></span><span class="glyphicon glyphicon-heart-empty"></span><span class="text add">'+t+'</span><span class="text remove">'+i+"</span></button>");return a.addClass(e),a},this.getSwitchDesignButton=function(){return $('<button class="btn btn-lg btn-default btn-switch-to-design">'+window.i18nSelect+"</button>")},this.appendColorInfoFooter=function(t,i){i.find('.mutations-container .mutation[data-random-template="true"]');var a=$("<div></div>");if(a.attr({class:"logo-meta-info color-meta-info","data-component-hash":t.colorHash,"data-svg-file-path":t.logoPath}),i.closest("#modalInteractiveComponent").length&&"favorite-based"===$("#modalInteractiveComponent").attr("data-section")&&"component-favorites"===$("#modalInteractiveComponent .favorites-row .switch-modes .mode.active").attr("data-section")&&!t.isFavorite||i.closest("#fakeModalComponentFavoriteLimitReached").length&&!t.isFavorite||i.closest("#modalManageEditorFavorites").length&&!t.isFavorite){var o=window.i18nOriginalColorWarning,n=$('<div class="color-palette-warning"></div>'),r=$('<div class="inner-container"></div>');n.append(r),r.append("<h3>Info</h3>"),r.append("<p>"+o+"</p>");for(var s=$('<div class="palette" data-color-hash="'+t.colorHashFromFavorite+'"></div>'),d=0;d<t.colorPaletteFromFavorite.length;d++){var c=t.colorPaletteFromFavorite[d];s.append('<span class="stripe" style="background-color: '+c+'"></span>')}r.append(s);var l=$('<a href="#" class="remove-original-color-palette">'+window.i18nRemoveFromFavorites+"</a>");r.append(l);var p=i.find(".logo-preview");n.css("background-color","#"+p.find('[data-random-template="true"]').attr("data-back-hex")),i.append(n),i.append(a)}else{i.append(a);var g=e.getFavoriteButton("btn-color-favorite");t.isFavorite&&g.addClass("is-favorite"),a.append(g)}var f=e.getSwitchDesignButton();a.append(f)},this.appendIconInfoFooter=function(t,i){var a=$("<div></div>");a.attr({class:"logo-meta-info icon-meta-info","data-component-hash":t.iconHash,"data-svg-file-path":t.logoPath}),i.append(a);var o=e.getFavoriteButton("btn-icon-favorite");t.isFavorite&&o.addClass("is-favorite"),a.append(o);var n=e.getSwitchDesignButton();a.append(n)},this.setupQuickEditUI=function(){var t=$("#quick-edit-section .variations-canvas"),i=e.getActiveTemplate(),a=i.find("svg"),o=e.isPostPurchaseEditor()?parseInt($("#quick-edit-section #variations-header-root").outerHeight()):0,n=$page.body.hasClass("split-index-edit-mode")?t.find(".split-index-edit-mode-footer"):t.find(".envision-cta-footer"),r=t.find(".variation-filter-inner"),s=$(window).height()-n.offset().top,d=parseInt($page.window.height()-$(".seamless-header-container").outerHeight()-s),c="0 0 ".concat(550," ").concat(470),l=.47;if($page.quickEditSection.hasClass("layout-side-by-side"))a.css({height:d+"px"}),r.css({height:d-o+"px"});else{if($page.window.height()<800){l=.38;c="0 ".concat(50," ").concat(550," ").concat(370)}var p=d-o,g=parseInt(p*l);a.css({height:g+"px"}),r.css({height:p-g+"px"})}a.removeAttr("viewBox"),a[0].setAttribute("viewBox",c);var f=i.attr("data-back-hex")?"#"+i.attr("data-back-hex"):"#ffffff",u=i.attr("data-front-hex")?"#"+i.attr("data-front-hex").split(";")[0]:$page.body.attr("data-hex-1"),v=SmashingLogo.ColorUtils.getSuitableBlendColorAdvanced(f,u);e.colorBrandingOfCanvasElements(v,f)},this.showLoadingStateForVariationModal=function(){SmashingLogo.Utils.showLoadingAnimation(),$page.addMoreVariationsButton.attr("disabled","disabled")},this.hideLoadingStateForVariationModal=function(){SmashingLogo.Utils.hideLoadingAnimation(),$page.addMoreVariationsButton.removeAttr("disabled")},this.triggerBrowse=function(t){var i=e.getAjaxParamsQuickEdit();if(t&&(i.variationType=t),i.currentBrowseCount=$page.variationModal.find(".horizontal-logo-wrapper .item").length,"name"===i.variationType||"slogan"===i.variationType)i.fontVariationCategories=e.getActiveFontFilters(i.variationType,$page.variationModal).activeCategories,i.fontVariationTags=e.getActiveFontFilters(i.variationType,$page.variationModal).activeTags,i.renderedFontsInBrowseMode=[],$page.variationModal.find(".horizontal-logo-wrapper .item").each((function(){i.renderedFontsInBrowseMode.push(parseInt($(this).find(".logo-meta-info").attr("data-font-id")))}));else if("icon"===i.variationType){var a=$page.variationModal.find('.filter-container[data-filter-container="icon"] .filter-section .box.selected'),o=a.attr("data-icon-tag-identifier");i.iconBrowseTag={identifier:o||"random",key:a.attr("data-icon-tag-key")}}else if("color"===i.variationType)i.colorVariationSpectrums=SmashingLogo.LogoMaker.getActiveColorSpectrums($("#quick-edit-section"));else if("layout"===i.variationType){var n=$page.variationModal.find('.filter-container[data-filter-container="layout"] .filter-section .logo-container.selected');i.selectedLogoContainers=[],n.each((function(){i.selectedLogoContainers.push($(this).attr("data-container-identifier"))}))}e.showLoadingStateForVariationModal(),e.autoCleanupBrowseSection(i.currentBrowseCount,100,10),$.ajax({url:"/logos/browse-ideas/",type:"POST",data:i,timeout:6e4,success:function(t){if(t.authError)window.location.reload(!0);else{if(t.drawError)return e.hideLoadingStateForVariationModal(),void $("#modalGenerateError").modal("show");if(t.allFontsRendered)return e.hideLoadingStateForVariationModal(),void $("#modalAllFontsRendered").modal("show");var i=$page.variationWrappers.browse.find(".item").length>0;e.appendBrowseIdeasLogos(t,$("#quick-edit-section .variation-browse-wrapper .horizontal-logo-wrapper"),i)}},error:function(){console.log("process error")}})},this.autoCleanupBrowseSection=function(e,t,i){e>t&&$(".variation-browse .horizontal-logo-wrapper .item").slice(0,i).remove()},this.sendEditRequest=function(t,i){SmashingLogo.Utils.showLoadingAnimation();var a=e.getAjaxParamsQuickEdit(t);a.s=SmashingLogo.Utils.getParameterByName("s",window.location),e.isPostPurchaseEditor()&&(a.isPostPurchaseEdit=!0),window.storedFrameScrollPosition=$(".variations-canvas .variation-filter-inner").scrollTop(),$.ajax({url:"/quick-editor/edit/",type:"POST",data:a,timeout:6e4,success:function(t){if("failed"!==t){if("draw-error"===t)return SmashingLogo.Utils.hideLoadingAnimation(),void $("#modalGenerateError").modal("show");SmashingLogo.ManageFavorites.getFavoriteCount()!==t.favoriteCount&&SmashingLogo.SeamlessHeader.refreshFavoriteButton(t.favoriteCount),e.closeHistory(),e.closeModalsIfNecessary(),e.updateCanvasLogo(t,$(".variation-canvas-inner-wrap"),i)}else window.location.reload(!0)},error:function(){console.log("process error")}})},this.sendToggleFavoriteRequest=function(t,i,a,o,n){var r=t.hasClass("is-favorite")?"remove":"add";$.ajax({url:"/quick-editor/toggle-favorite/",type:"POST",data:{context:i,favoriteType:n,currentLogoPath:a,targetLogoPath:o,toggleType:r},timeout:6e4,success:function(a){if(a.limitReached)return SmashingLogo.Utils.hideLoadingAnimation(),void $page.modalEditorFavoriteLimit.modal("show");if(a.success){"add"===r?t.addClass("is-favorite"):"remove"===r&&t.removeClass("is-favorite");var o=$(".envision-cta-footer .btn.favorites .count"),s=$page.editorFavoriteModal.find('.mode[data-favorite-type="'+n+'"] .count'),d=$page.variationModal.find('.variation-filter-inner [data-filter-container="'+n+'"] .mode.favorite .count');if(o.add(s).add(d).each((function(){e.setFavoriteCount($(this),a.newCount)})),"browse-ideas"===i||"favorites-modal"===i){var c=$('#quick-edit-section .variations-canvas .filter-container[data-filter-container="'+n+'"] .toggle-favorite-button');a.isCurrentComponentAFavorite?c.addClass("is-favorite"):c.removeClass("is-favorite");var l=t.closest(".item").find(".logo-meta-info").attr("data-component-hash");$page.variationWrappers.browse.find(".item").each((function(){var e=$(this);e.find(".logo-meta-info").attr("data-component-hash")===l&&("add"===r?e.find(".toggle-favorite-button").addClass("is-favorite"):"remove"===r&&e.find(".toggle-favorite-button").removeClass("is-favorite"))}))}if("remove"===r&&"favorites-modal"===i){var p=t.closest(".item");p.addClass("remove-animation"),window.setTimeout((function(){p.remove()}),600)}SmashingLogo.Utils.hideLoadingAnimation()}else SmashingLogo.Utils.hideLoadingAnimation()},error:function(){console.log("process error")}})},this.refreshComponents=function(t,i){e.updateBodyData(t,i),e.updateSections(t),e.updateInvisibleBoxes(),e.updateStateOfUndoButton(t.historyCount)},this.updateStateOfUndoButton=function(e){var t=$(".variation-action-button.undo");0===e?t.addClass("empty-history"):t.removeClass("empty-history")},this.updateBodyData=function(e,t){$page.body.attr("data-logo-path",e.logoFileName),$page.body.attr("data-hex-1","#"+e.hex1.replace("#","")),$page.body.attr("data-hex-2","#"+e.hex2.replace("#","")),$page.body.attr("data-primary-font-id",parseInt(e.primaryFontId)),$page.body.attr("data-secondary-font-id",parseInt(e.secondaryFontId)),$page.body.attr("data-company-name",e.companyName),$page.body.attr("data-company-tagline",e.companyTagline),t.gradientMode?$page.body.attr("data-gradient-mode",!0):$page.body.removeAttr("data-gradient-mode")},this.updateSections=function(t){e.updateNameSection(t.isPrimaryFontAFavorite,parseInt(t.primaryFontId),t.companyName,t.primaryFontPreviewSvg,t.availableTextStyles,t.textStyle,t.availableFontStyles,t.fontStyle,t.fontStyleGlyphIndices),e.updateSloganSection(t.isSecondaryFontAFavorite,parseInt(t.secondaryFontId),t.companyTagline,t.secondaryText,t.secondaryFontPreviewSvg,t.availableSecondaryTextStyles,t.secondaryTextStyle,t.disableSecondaryAutoSnap),e.updateColorsSection(t.isColorPaletteFavorite,e.getBackHexOfCurrentMutation(),t.availableColorMutations,t.activeColorMutation,t.renderedColors,t.customColorMapping),e.isPostPurchaseEditor()?t.iconPaperData:e.updateIconSection(t.isIconAFavorite,t.iconPathData,t.iconFillRule,t.iconPaperData,t.iconInnerHtml,t.availableIconThemes,t.iconTheme,t.iconContainerPreview),e.updateLayoutSections(t),e.isPostPurchaseEditor()||e.updateBrowseModal(t.dynamicFilters)},this.updateBrowseModal=function(t){var i=$page.variationModalMenu.find('.mode[data-variations-section="slogan"]');e.logoHasSecondaryFont()?i.removeClass("hidden"):i.addClass("hidden");var a=$page.variationModal.find('.filter-container[data-filter-container="icon"] .icon-filter-section .filter-dropdown .box-group.categories');a.find(".box:first").addClass("selected").siblings().removeClass("selected");var o=a.find(".dynamic");o.html(""),e.appendDynamicIconFilter(o,t.icons.iconTags,"icon_library"),e.appendDynamicIconFilter(o,t.icons.industries,"industry")},this.appendDynamicIconFilter=function(e,t,i){for(var a=0;a<t.length;a++){var o=t[a];if(!e.find('.box[data-icon-tag-key="'+o.key+'"]').length){var n=$('<div class="box multiselect"></div>');n.attr({"data-icon-tag-identifier":i,"data-icon-tag-key":o.key}),n.append("<span>"+o.title+"</span>"),e.append(n)}}},this.updateNameSection=function(t,i,a,o,n,r,s,d,c){e.updateCompanyNameField(a),e.updatePrimaryFontSection(t,i,o,n,r,s,d,c)},this.updateSloganSection=function(t,i,a,o,n,r,s,d){e.updateCompanyTaglineField(a),e.updateSecondaryFontSection(t,i,o,n,r,s),e.updateSecondaryAutoSnap(d)},this.updateSecondaryAutoSnap=function(e){var t=$("#disable-secondary-auto-snap");e?t.attr("checked","checked"):t.removeAttr("checked")},this.updateColorsSection=function(t,i,a,o,n,r){e.setCustomColorMappingGlobally(r),e.isPostPurchaseEditor()||e.updateColorsBaseSection(t,a,o);var s=$page.colorPaletteInEditSection.find(".stripe.active"),d=s.length?s.attr("data-stripe-hex")||s.attr("data-gradient-pair"):i;e.updateColorPalette($page.colorPaletteInEditSection,e.getActiveTemplate(),d),"#color-edit"===window.location.hash&&((d=e.getHexOfActiveStripe())&&e.updateColorPicker(d),e.filterPantoneColorsBySimilarity(d),e.colorContainerScrollReset()),e.updateColorisSwatches(n,r)},this.updateColorisSwatches=function(t,i){$(".coloris-target-container #clr-picker").length&&Coloris({swatches:e.getPresetSwatchesForColorPicker(t,i)})},this.updateColorsBaseSection=function(t,i,a){e.updateColorPalette($page.colorPaletteInBaseSection,e.getActiveTemplate());var o=$('.filter-section[data-filter-section="color-base"] .favorite-column');o.length&&o.remove(),o=$('<div class="favorite-column"></div>');var n=e.getFavoriteButton("btn-color-favorite");t&&n.addClass("is-favorite"),o.append(n),$('.filter-section[data-filter-section="color-base"] .color-preview').prepend(o),e.updateColorMutationOptions(i,a)},this.getBackHexOfCurrentMutation=function(){var t=e.getActiveTemplate();return t.attr("data-back-hex")?"#"+t.attr("data-back-hex"):"#ffffff"},this.getHexOfActiveStripe=function(){return $page.colorPaletteInEditSection.find(".active[data-stripe-hex]").attr("data-stripe-hex")},this.getActiveTemplate=function(){return $('.variation-canvas-inner-wrap .mutations-container .mutation[data-random-template="true"]')},this.buildFullCustomColorMapping=function(){var t=e.getActiveTemplate().find("svg"),i={paths:[]};return t.find("path").each((function(){var t=$(this);if(!t.hasClass("watermark-path")){var a=SmashingLogo.ColorUtils.findSvgFillColor(t),o=SmashingLogo.LogoMaker.buildUniquePathIdentifier(t);e.isValidHex(a)&&i.paths.push({uniquePathIdentifier:o,fill:a})}})),i},this.setCustomColorMappingGlobally=function(e){window.customColorMapping=e||{paths:[]}},this.updateColorPalette=function(e,t,i){e.html("");var a=SmashingLogo.Utils.getColorPaletteForGivenLogo(t),o=$("<span></span>");if(o.attr({"data-background-stripe":!0,"data-original-stripe-hex":a.background,"data-stripe-hex":a.background,class:SmashingLogo.ColorUtils.brightnessByColor(a.background)>240?"stripe very-bright":"stripe",style:"background-color: "+a.background}),e.append(o),2===a.gradientColors.length){var n=$("<span></span>");n.attr({"data-gradient-stripe":!0,"data-original-gradient-pair":a.gradientColors[0]+"-"+a.gradientColors[1],"data-gradient-pair":a.gradientColors[0]+"-"+a.gradientColors[1],class:"stripe",style:"background:linear-gradient(90deg, "+a.gradientColors[0]+", "+a.gradientColors[1]+")"}),e.addClass("gradient"),e.append(n)}for(var r=0;r<a.solidColors.length;r++){var s=$("<span></span>");s.attr({"data-solid-color-stripe":!0,"data-original-stripe-hex":a.solidColors[r],"data-stripe-hex":a.solidColors[r],class:SmashingLogo.ColorUtils.brightnessByColor(a.solidColors[r])>240?"stripe very-bright":"stripe",style:"background-color: "+a.solidColors[r]}),e.append(s)}if(i){var d=i.indexOf("-")>=0,c=d?e.find('.stripe[data-gradient-pair="'+i+'"]'):e.find('.stripe[data-stripe-hex="'+i+'"]'),l=c.length?c.index():0;e.find(".stripe").eq(l).addClass("active"),d&&0===c.length&&$page.quickEditSection.removeClass("gradient-selection-mode")}},this.updateColorMutationOptions=function(t,i){var a=$('[data-filter-section="color-base"] .color-mutation-wrap');a.addClass("hidden"),t&&t.length>1&&(e.appendColorMutationOptions(a,t,i),a.removeClass("hidden"))},this.updateColorPicker=function(t){0!==$(".coloris-input").length&&"color"===$page.quickEditSection.attr("data-active-variation-type")&&(e.updateColorisInputField(t),e.updateColorisValueField(t),window.hueSlider.noUiSlider.set(e.getColorisHue()))},this.initColorisPicker=function(t,i,a){var o="color-edit"===t?e.getBackHexOfCurrentMutation():i[0];$page.quickEditSection.addClass("coloris-bbox-hack");var n=$('[data-filter-section="'+t+'"] .coloris-wrap'),r=$('<input class="form-control coloris-input" type="text" value="'+o+'" data-coloris></input>');n.prepend(r),Coloris({parent:'[data-filter-section="'+t+'"] .coloris-target-container',el:'[data-filter-section="'+t+'"] .coloris-input',wrap:!0,theme:"pill",themeMode:"light",format:"hex",formatToggle:!1,alpha:!1,swatchesOnly:!1,focusInput:!1,selectInput:!1,clearButton:!1,swatches:e.getPresetSwatchesForColorPicker(i,a),inline:!0,defaultColor:o}),$page.quickEditSection.removeClass("coloris-bbox-hack");var s=$('<div class="smlogo-hue"></div>'),d=$('<div id="noui-hue-slider"></div>');s.append(d),s.insertBefore("#clr-picker .clr-hue"),window.hueSlider=document.getElementById("noui-hue-slider");var c=e.getColorisHue();noUiSlider.create(window.hueSlider,{start:[c],step:1,range:{min:0,max:360}}),window.hueSlider.noUiSlider.on("slide",(function(e,t,i,a,o,n){var r=parseInt(n.get()),s=$("#clr-hue-slider");s.val(r),s.get(0).dispatchEvent(new Event("input",{bubbles:!0}))})),$page.body.attr("data-selected-colorpicker-hex",o),document.addEventListener("coloris:pick",(function(i){var a=i.detail.color;e.updateColorisInputField(a),$page.body.attr("data-selected-colorpicker-hex",a),"color-edit"===t&&e.applyLiveColorChange(a)})),$page.body.on("click",".clr-swatches button",(function(){window.hueSlider.noUiSlider.set(e.getColorisHue())})),"color-edit"===t?(e.bindEventsForEditColorSection(),$('.filter-section[data-filter-section="color-edit"] .color-preview-wrap').removeClass("hidden")):"color-customize"===t&&$('.filter-section[data-filter-section="color-customize"] .color-customize-notice').removeClass("hidden"),e.updateColorisPosition(o)},this.bindEventsForEditColorSection=function(){window.hueSlider.noUiSlider.on("change",(function(){var t=$page.colorPaletteInEditSection.find(".stripe.active");t.attr("data-original-stripe-hex")!==t.attr("data-stripe-hex")&&e.applyServerSideColorChange()}));var t=null,i=$page.body.hasClass("touch-device")?"touchstart":"mousedown",a=$page.body.hasClass("touch-device")?"touchend":"mouseup";$("#clr-color-area").on(i,(function(e){t=e.target})),$(document).on(a,(function(i){if(t){var a=$(t);"clr-color-marker"!==a.attr("id")&&"clr-color-area"!==a.attr("id")||(t=null,window.setTimeout((function(){e.applyServerSideColorChange()}),100))}})),$page.body.on("click",".clr-swatches button",(function(){e.applyServerSideColorChange()})),$(document).keyup((function(t){$("#clr-color-value").is(":focus")&&"Enter"==t.key&&e.applyServerSideColorChange()}))},this.updateColorisInputField=function(e){var t=$(".coloris-input");t.val(e),t.get(0).dispatchEvent(new Event("input",{bubbles:!0}))},this.updateColorisValueField=function(e){var t=$("#clr-color-value");t.val(e),t.get(0).dispatchEvent(new Event("change",{bubbles:!0}))},this.updateColorisPosition=function(t){Coloris.updatePosition(),e.updateColorisValueField(t)},this.getColorisHue=function(){var e=$("#clr-hue-slider").val();return e?parseInt(e):0},this.appendPantoneSwatches=function(){$.getJSON("/static/pantone-color-selection.json",(function(t){for(var i=$('<div class="swatches"></div>'),a=0;a<t.length;a++){var o=$('<div class="swatch"></div>');o.attr({"data-pantone-hex":"#"+t[a].hex});var n=$("<span></span>");n.attr({class:"color",style:"background: #"+t[a].hex+";"}),o.append(n),o.append('<span class="text">'+t[a].name+"</span>"),i.append(o)}$page.pantoneWrapInEditSection.append(i),e.filterPantoneColorsBySimilarity(e.getHexOfActiveStripe())}))},this.sortByHue=function(e,t){return parseInt($(t).attr("data-hue-diff"))<parseInt($(e).attr("data-hue-diff"))?1:-1},this.sortByBrightness=function(e,t){return parseInt($(t).attr("data-brightness-diff"))<parseInt($(e).attr("data-brightness-diff"))?1:-1},this.filterPantoneColorsBySimilarity=function(t){if(t&&e.isValidHex(t)){var i=$page.pantoneWrapInEditSection.find(".swatches");if(0!==i.length){var a=i.detach(),o=a.find(".swatch");o.each((function(){var i=$(this),a=i.attr("data-pantone-hex"),o=e.getColorHueDiff(t,a),n=e.getColorBrightnessDiff(t,a);i.attr("data-hue-diff",o),i.attr("data-brightness-diff",n)}));var n=SmashingLogo.ColorUtils.brightnessByColor(t);n>230||n<45?o.sort(e.sortByBrightness).appendTo(a):o.sort(e.sortByHue).appendTo(a),$page.pantoneWrapInEditSection.append(a)}}},this.getColorHueDiff=function(e,t){var i=SmashingLogo.ColorUtils.hexToRgb(e),a=SmashingLogo.ColorUtils.rgbToHsl(i.r,i.g,i.b),o=SmashingLogo.ColorUtils.hexToRgb(t),n=SmashingLogo.ColorUtils.rgbToHsl(o.r,o.g,o.b),r=Math.abs(n[0]-a[0]);return Math.round(r)},this.getColorBrightnessDiff=function(e,t){var i=SmashingLogo.ColorUtils.brightnessByColor(e),a=SmashingLogo.ColorUtils.brightnessByColor(t),o=Math.abs(i-a);return Math.round(o)},this.isValidHex=function(e){return/^#[0-9A-F]{6}$/i.test(e)},this.appendGradientSwatches=function(){for(var e=[{name:"Gold","hex-pair":"#ac8400-#fdee79"},{name:"Platin","hex-pair":"#bdc3c7-#767a7c"},{name:"Ocean","hex-pair":"#2193b0-#6dd5ed"},{name:"Teal","hex-pair":"#00968f-#00fff4"},{name:"Lime","hex-pair":"#01998e-#fefe67"},{name:"Cactus","hex-pair":"#56ab2f-#a8e063"},{name:"Rose","hex-pair":"#ee9ca7-#ffdde1"},{name:"Sand","hex-pair":"#eacda3-#d6ae7b"},{name:"Energetic","hex-pair":"#7b4397-#dc2430"},{name:"Royal","hex-pair":"#4568dc-#b06ab3"},{name:"Orange","hex-pair":"#ff5f6d-#ffc371"},{name:"Peach","hex-pair":"#ed4264-#ffedbc"},{name:"Crayola","hex-pair":"#f04393-#f9c449"},{name:"Meadow","hex-pair":"#8360c3-#2ebf91"},{name:"Lavender","hex-pair":"#ff9cda-#ea4492"},{name:"Orchid","hex-pair":"#d0e6a5-#ffdd94"}],t=$('<div class="gradients swatches"></div>'),i=0;i<e.length;i++){var a=e[i]["hex-pair"].split("-")[0],o=e[i]["hex-pair"].split("-")[1],n=$('<div class="gradient swatch"></div>');n.attr({"data-gradient-pair":e[i]["hex-pair"]}),n.append('<span class="text">'+e[i].name+"</span>");var r=$("<span></span>");r.attr({class:"color",style:"background: linear-gradient(90deg, "+a+" 35%, "+o+" 100%);"}),n.append(r),t.append(n)}$page.gradientsWrapInEditSection.append(t)},this.getPresetSwatchesForColorPicker=function(e,t){var i=["#ffffff","#000000"];if(t&&t.paths)for(var a=0;a<t.paths.length;a++){var o=t.paths[a].fill.toLowerCase();-1===i.indexOf(o)&&i.push(o)}if(e&&e.length)for(var n=0;n<e.length;n++){var r=e[n].toLowerCase();-1===i.indexOf(r)&&i.push(r)}return i},this.updateLayoutSections=function(t){e.updateTextLayoutSection(t.textLayoutVariationIdentifiers,t.activeTextLayoutIdentifier),e.updateSloganLayoutSection(t),e.updateLetterSpacingSection(t.primaryLetterSpacing,t.primaryLetterSpacingRange),e.updateIconSizeSection(t.iconSize,t.relativeSizeRange),e.updateIconGapSection(t.iconGap,t.relativeGapRange,t.activeIconLayoutIdentifier),e.updateContainerLayoutSection(t.activeContainerLayoutIdentifier,t.logoContainerPreview,t.activeLogoContainerDropdowns),e.updateIconLayoutSection(t.iconVariationIdentifiers,t.activeIconLayoutIdentifier),e.updateIconContainerSection(t.iconVariationIdentifiers),e.updateIconEffectsSection(t.iconTransformations,t.hasIcon,t.activeIconLayoutIdentifier)},this.updateTextLayoutSection=function(e,t){var i=$('.filter-section[data-filter-section="name-layout"] .text-variation-options');e&&e.length>1?(i.removeClass("hidden"),i.find(".option").each((function(){var i=$(this),a=i.attr("data-variation-identifier");e.indexOf(a)>=0?i.removeClass("hidden"):i.addClass("hidden"),a===t?i.addClass("active"):i.removeClass("active")}))):i.addClass("hidden")},this.updateSloganLayoutSection=function(t){var i=$('.filter-sections-header .mode[data-filter-section="slogan-layout"]'),a=$('.filter-sections-header .mode[data-filter-section="slogan-effects"]');if(""===t.secondaryText)return i.addClass("hidden"),a.addClass("hidden"),void("#slogan-layout"!==window.location.hash&&"#slogan-effects"!==window.location.hash||e.setHashByGivenMenuIdentifier("slogan-text"));i.removeClass("hidden"),a.removeClass("hidden");var o,n=t.secondaryTextPositionVariationIdentifiers;n&&(o=n[t.activeSecondaryTextPositionVariationIndex],e.appendSloganPositionOptions($(".slogan-positions-container"),n,o)),t.secondaryLayoutVariationCount&&e.appendSloganEffectOptions($('.filter-section[data-filter-section="slogan-effects"] .slogan-effect-options'),t.secondaryText,t.secondaryLayoutVariationIdentifiers,t.activeSecondaryLayoutVariationIndex),e.updateSloganGapSection(t.secondaryGap,t.relativeSecondaryGapRange),e.updateSloganSizeSection(t.sloganSize,t.sloganSizeRange);var r=$(".slogan-sliders"),s=$(".auto-snap-wrap");"simple"===o?(r.removeClass("hidden"),s.removeClass("hidden")):(r.addClass("hidden"),s.addClass("hidden"))},this.updateContainerLayoutSection=function(e,t,i){var a=$(".logo-container-selection .active-container");t?(a.find(".no-container").addClass("hidden"),a.find(".has-container").removeClass("hidden"),0===t.indexOf("<img")&&a.find(".has-container .preview").html(t)):(a.find(".no-container").removeClass("hidden"),a.find(".has-container").addClass("hidden"));var o=$('.filter-section[data-filter-section="layout-container"] .secondary-container-selection');o.attr("data-container-identifier",e),o.html("");for(var n=0;n<i.length;n++){var r=i[n],s=$('<div class="dropdown-container"></div>');s.append('<span class="dropdown-title">'+r.title+"</span>");var d=$('<select class="dropdown-select"></select>');d.attr("data-container-key",r.key);for(var c=0;c<r.available.length;c++){var l=r.available[c],p=$("<option></option>");p.val(l),p.html(l),l===r.active&&p.attr("selected","selected"),d.append(p)}s.append(d),o.append(s)}},this.updateIconLayoutSection=function(t,i){var a=$('.filter-section[data-filter-section="icon-edit"] .search-buttons'),o=$('.filter-section[data-filter-section="icon-edit"] .effect-containers');if(e.isPostPurchaseEditor()){if($('.filter-section[data-filter-section="icon-edit"] .current-icon-row').addClass("hidden"),a.addClass("hidden"),!t)return void o.addClass("hidden");o.removeClass("hidden")}else{if(!t)return a.addClass("hidden"),void o.addClass("hidden");a.removeClass("hidden"),o.removeClass("hidden");var n=$(".icon-size.slider-box");i.indexOf("icon-in-text")>=0?n.addClass("hidden"):n.removeClass("hidden")}$('.filter-section[data-filter-section="icon-edit"]').find(".icon-variation-options .option").each((function(){var e=$(this),t=e.attr("data-variation-identifier");0===i.indexOf(t)?e.addClass("active"):e.removeClass("active")}));var r=$(".additional-icon-variation-options"),s=r.find(".inner-container");if(0!==s.length)if(s.html(""),i.indexOf("icon-in-text")>=0){for(var d=0;d<t.length;d++){var c=d+1,l=$('<div class="option" data-variation-identifier="'+t[d]+'">'+c+"</div>");t[d]===i&&l.addClass("active"),s.append(l)}r.removeClass("hidden")}else if(i.indexOf("standalone-beside")>=0){var p="standalone-beside",g="standalone-beside-plus-separator",f=$('<div class="option" data-variation-identifier="'+p+'">1</div>'),u=$('<div class="option" data-variation-identifier="'+g+'">2</div>');i===p?f.addClass("active"):i===g&&u.addClass("active"),s.append(f),s.append(u),r.removeClass("hidden")}else r.addClass("hidden")},this.updateIconContainerSection=function(t){var i=$('.filter-section[data-filter-section="icon-edit"] .icon-container-selection'),a=$('.filter-section[data-filter-section="icon-edit"] .icon-container-filter');if(!t||e.isPostPurchaseEditor())return i.addClass("hidden"),void a.addClass("hidden");i.removeClass("hidden"),a.removeClass("hidden")},this.updateIconEffectsSection=function(t,i,a){if(i){$('.filter-section[data-filter-section="icon-edit"] .effect-container').removeClass("selected");var o=_toConsumableArray(Array(360).keys()),n=_toConsumableArray(Array(100).keys()),r=0,s=50;if(t&&t.length)for(var d=0;d<t.length;d++)0===t[d].indexOf("rotate")?r=parseInt(t[d].substring("rotate".length)):0===t[d].indexOf("translate")&&(s=parseInt(t[d].substring("translate".length))),$('.effect-container[data-effect-name="'+t[d]+'"].selectable').addClass("selected");var c=$('.filter-section[data-filter-section="icon-edit"]'),l=c.find('[data-effect-name="size"]'),p=c.find('[data-effect-name="translate"]'),g=c.find('[data-effect-name="gap"]');e.insertOrUpdateSlider("icon-rotate-slider","iconRotateHiddenField",c.find(".icon-rotate.slider-container"),r,o,"icon-rotate"),e.insertOrUpdateSlider("icon-translate-slider","iconTranslateHiddenField",c.find(".icon-translate.slider-container"),s,n,"icon-translate"),$(".effect-container-outer").removeClass("hidden"),"standalone-above"===a?(p.find(".glyphicon-resize-horizontal").removeClass("hidden"),p.find(".glyphicon-resize-vertical").addClass("hidden"),g.find(".glyphicon-resize-vertical").removeClass("hidden"),g.find(".glyphicon-resize-horizontal").addClass("hidden")):0===a.indexOf("standalone-beside")?(p.find(".glyphicon-resize-horizontal").addClass("hidden"),p.find(".glyphicon-resize-vertical").removeClass("hidden"),g.find(".glyphicon-resize-vertical").addClass("hidden"),g.find(".glyphicon-resize-horizontal").removeClass("hidden")):(l.closest(".effect-container-outer").addClass("hidden"),p.closest(".effect-container-outer").addClass("hidden"),g.closest(".effect-container-outer").addClass("hidden"))}},this.getIconTransforms=function(){var e={iconTransforms:[]};return $('.filter-container[data-filter-container="icon"] .effect-container.icon-apply-effect').each((function(){var t=$(this).closest(".effect-container"),i=t.attr("data-effect-name"),a={effectName:i};if("rotate"===i)a.rotateAngle=$("#iconRotateHiddenField").val()||0;else if("translate"===i)a.translateValue=$("#iconTranslateHiddenField").val()||0;else if(!t.hasClass("selected"))return;e.iconTransforms.push(a)})),0===e.iconTransforms.length&&(e.removeIconTransforms=!0),e},this.updateCompanyNameField=function(e){$page.inputs.name.val(decodeEntities(e))},this.updateCompanyTaglineField=function(e){$page.inputs.tagline.val(decodeEntities(e))},this.closeHistory=function(){$page.body.hasClass("expanded-history")&&($page.body.removeClass("expanded-history"),e.setupQuickEditUI())},this.cleanupHistory=function(){$page.variationWrappers.history.html("")},this.closeBrowse=function(){$page.body.hasClass("expanded-browse")&&($page.body.removeClass("expanded-browse"),e.setupQuickEditUI())},this.cleanupBrowse=function(){$page.variationWrappers.browse.html("")},this.closeModalsIfNecessary=function(){$page.quickEditSection.hasClass("layout-side-by-side")||$(".modal.in").each((function(){$(this).modal("hide")}))},this.colorBrandingOfCanvasElements=function(e,t){var i=SmashingLogo.ColorUtils.hexToRgb(e),a="rgba("+i.r+", "+i.g+", "+i.b+", 0.1)";$("#quick-edit-section .variations-canvas").css("background-color",t);var o=$(".color-chaining-button");o.css("color",e),o.css("background-color",a)},this.insertOrUpdateSlider=function(t,i,a,o,n,r,s){var d=$("#"+t),c=$("#"+i);d.length&&d.get(0).noUiSlider?(c.val(o),d.get(0).noUiSlider.updateOptions({start:[o],step:1,connect:[!0,!1],range:{min:[n[0]],max:[n.length]}})):(a.append('<div id="'+t+'" class="noUiEditorStyle"></div>'),a.append('<input id="'+i+'" type="hidden" value="'+o+'" name="'+r+'"></input>'),e.initSlider(o,n,document.getElementById(t),$("#"+i),s))},this.initSlider=function(t,i,a,o,n){var r={start:[t],step:1,connect:[!0,!1],range:{min:[i[0]],max:[i.length]}};"icon-rotate-slider"===$(a).attr("id")||"icon-translate-slider"===$(a).attr("id")?(r.pips={mode:"count",values:5},r.tooltips=!0):"icon-size-slider"===$(a).attr("id")?(r.pips={mode:"count",values:6},r.tooltips=!0):"icon-gap-slider"===$(a).attr("id")&&(r.pips={mode:"count",values:7},r.tooltips=!0),noUiSlider.create(a,r),a.noUiSlider.on("set",(function(t,i,a,r,s,d){var c=parseInt(o.val()),l=parseInt(d.get());if(c!==l){o.val(l);var p={};n&&(p[n]=l),("icon-rotate-slider"===$(d.target).attr("id")||"icon-translate-slider"===$(d.target).attr("id"))&&(p=Object.assign(p,e.getIconTransforms())),e.sendEditRequest({editModeOptions:p})}}))},this.updateLetterSpacingSection=function(t,i){t&&i&&e.insertOrUpdateSlider("primary-letter-spacing-slider","primaryLetterSpacingHiddenField",$('.filter-section[data-filter-section="name-layout"] .letter-spacing .slider-container'),t,i,"primary-letter-spacing","primaryLetterSpacing")},this.updateIconSizeSection=function(t,i){t&&i&&e.insertOrUpdateSlider("icon-size-slider","iconSizeHiddenField",$('.filter-section[data-filter-section="icon-edit"] .icon-size.slider-container'),t,i,"icon-size","iconSize")},this.updateIconGapSection=function(t,i,a){t&&i&&a&&e.insertOrUpdateSlider("icon-gap-slider","iconGapHiddenField",$('.filter-section[data-filter-section="icon-edit"] .icon-gap.slider-container'),t,i,"icon-gap","iconGap")},this.updateSloganGapSection=function(t,i){t&&i&&e.insertOrUpdateSlider("slogan-gap-slider","sloganGapHiddenField",$('.filter-section[data-filter-section="slogan-layout"] .slogan-gap .slider-container'),t,i,"slogan-gap","secondaryGap")},this.updateSloganSizeSection=function(t,i){t&&i&&e.insertOrUpdateSlider("slogan-size-slider","sloganSizeHiddenField",$('.filter-section[data-filter-section="slogan-layout"] .slogan-size .slider-container'),t,i,"slogan-size","sloganSize")},this.updatePrimaryFontSection=function(t,i,a,o,n,r,s,d){if(!e.isPostPurchaseEditor()){$page.quickEditSection.addClass("name-bbox-hack");var c=$('.filter-section[data-filter-section="name-text"] .font-preview-wrap'),l=$(a);c.html('<div class="font-preview"></div>');var p=$('<div class="content-column"></div>');c.find(".font-preview").append(p),p.append(l);var g=$('<div class="favorite-column" data-font-id="'+i+'" data-letter-case="'+n+'"></div>'),f=e.getFavoriteButton("btn-font-favorite");t&&f.addClass("is-favorite"),g.append(f),c.find(".font-preview").prepend(g),p.append('<span class="glyphicon glyphicon-search"></span>'),$page.quickEditSection.removeClass("name-bbox-hack")}var u=$('.filter-section[data-filter-section="name-layout"] .font-style-options');r&&r.length>1?(e.appendFontStyleOptions(u,r,s,d),u.removeClass("hidden")):u.addClass("hidden");var v=$('.filter-section[data-filter-section="name-text"] .letter-case-wrap');o&&o.length>1?(v.removeClass("hidden"),e.appendLetterCaseOptions(v,o,n)):v.addClass("hidden")},this.updateSecondaryFontSection=function(t,i,a,o,n,r){if(!e.isPostPurchaseEditor()){var s=$('.filter-section[data-filter-section="slogan-text"] .font-preview-wrap');if(s.html(""),$page.quickEditSection.addClass("slogan-bbox-hack"),o){var d=$(o);s.html('<div class="font-preview"></div>');var c=$('<div class="content-column"></div>');s.find(".font-preview").append(c),c.append(d);var l=$('<div class="favorite-column" data-font-id="'+i+'" data-letter-case="'+r+'"></div>'),p=e.getFavoriteButton("btn-font-favorite");t&&p.addClass("is-favorite"),l.append(p),s.find(".font-preview").prepend(l),c.append('<span class="glyphicon glyphicon-search"></span>')}$page.quickEditSection.removeClass("slogan-bbox-hack")}var g=$('.filter-section[data-filter-section="slogan-text"] .letter-case-wrap');n&&n.length>1&&""!==a?(g.removeClass("hidden"),e.appendLetterCaseOptions(g,n,r)):g.addClass("hidden")},this.updateIconSection=function(t,i,a,o,n,r,s,d){!!$(".variation-canvas-inner-wrap g[data-paper-data*=isIcon]").length?$page.quickEditSection.addClass("logo-has-non-subtracted-icon"):$page.quickEditSection.removeClass("logo-has-non-subtracted-icon");var c=$('[data-filter-section="icon-edit"]'),l=c.find(".current-icon-slot"),p=$("#monogram-text-input");l.addClass("empty"),c.removeClass("editable-monogram-text"),p.val("");var g=l.find(".icon");g.html("");var f=c.find(".icon-theme-wrap");f.addClass("hidden");var u=l.find(".btn-icon-favorite");u.length&&u.remove(),u=e.getFavoriteButton("btn-icon-favorite"),t&&u.addClass("is-favorite"),l.prepend(u);var v=$('[data-filter-section="icon-combine"]').find('.combine-step[data-combine-step="1"] [data-sub-section-mix-type-identifier="selected"] .combine-icon-list');if(v.html(""),o&&n){l.removeClass("empty"),l.attr("data-icon-data",o);var h=$.parseJSON(o);e.isEditableMonogram(h)&&(p.val(h.initialText),c.addClass("editable-monogram-text")),$page.quickEditSection.addClass("icon-bbox-hack");var m=$('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="thumbnail-icon" width="550" height="470"></svg>');g.append(m),m.html('<g data-paper-data="'+SmashingLogo.Utils.escapeHtml(o)+'">'+n+"</g>"),SmashingLogo.Utils.transformPreviewSvg(m);var b=$('<div class="icon icon-to-combine selected"></div>'),y=m.clone();y.attr("width","100%"),b.append(y),v.append(b),$page.quickEditSection.removeClass("icon-bbox-hack"),!$page.body.attr("data-gradient-mode")&&r&&r.length>1&&(f.removeClass("hidden"),e.appendIconThemeOptions(f,r,s));var C=$(".icon-container-selection .active-container");if(d){if(C.find(".no-container").addClass("hidden"),C.find(".has-container").removeClass("hidden"),0===d.indexOf("<img"))C.find(".has-container .preview").html(d);else if(0===d.indexOf("<svg")){$page.quickEditSection.addClass("icon-container-bbox-hack");var S=$(d);C.find(".has-container .preview").html(""),C.find(".has-container .preview").append(S),SmashingLogo.Utils.transformPreviewSvg(S),$page.quickEditSection.removeClass("icon-container-bbox-hack")}}else C.find(".no-container").removeClass("hidden"),C.find(".has-container").addClass("hidden")}},this.isEditableMonogram=function(e){var t=e.monogramSpecial&&["wreath","seven-nation-army"].indexOf(e.monogramSpecial)>=0;return"initial"===e.iconType&&e.rawInitialId&&!t},this.setCanvasLayout=function(){SmashingLogo.Utils.isWidescreenResolution()||window.matchMedia("(min-width: 1450px)").matches?$page.quickEditSection.addClass("layout-side-by-side"):$page.quickEditSection.removeClass("layout-side-by-side"),window.matchMedia("(min-width: 1150px)").matches?$page.body.addClass("highres-browse-layout"):$page.body.removeClass("highres-browse-layout")},this.appendLetterCaseOptions=function(e,t,i){var a=e.find(".variation-options");a.html("");for(var o=0;o<t.length;o++){var n=void 0;switch(t[o]){case"upper":default:n="AA";break;case"lower":n="aa";break;case"capitalized":n="Aa";break;case"mixed":n='<span class="glyphicon glyphicon-user"></span>'}a.append('<div class="option" data-variation-identifier="'+t[o]+'"><span class="variation-option-label">'+n+"</span></div>"),t[o]===i&&a.find(".option:last").addClass("selected")}},this.appendFontStyleOptions=function(e,t,i,a){var o=e.find(".variation-options"),n=e.find(".options-row .settings");o.html(""),n.addClass("hidden");for(var r=0;r<t.length;r++)o.append('<div class="option" data-variation-identifier="'+t[r]+'"><span class="variation-option-label">'+(r+1)+"</span></div>"),t[r]===i&&o.find(".option:last").addClass("selected");"same-same"!==i&&a&&($page.fontStyleGlyphIndicesHiddenField.val(a.join(",")),n.removeClass("hidden")),$page.body.hasClass("split-index-edit-mode")&&("same-same"!==i?$page.body.addClass("edit-mode-active"):$page.body.removeClass("edit-mode-active"))},this.appendSloganPositionOptions=function(e,t,i){var a=e.find(".variation-options");a.html("");for(var o=0;o<t.length;o++){var n=t[o],r="simple"===n?window.i18nCustomize:"Preset "+o;a.append('<div class="option" data-variation-identifier="'+n+'"><span class="variation-option-label">'+r+"</span></div>"),n===i&&a.find(".option:last").addClass("selected")}},this.appendSloganEffectOptions=function(e,t,i,a){e.find(".variation-options").remove(),e.append('<div class="variation-options"></div>');for(var o=0;o<i.length;o++){var n="no-container.svg";switch(i[o]){case"plain":n="no-container.svg";break;case"top-line":n="top-line.svg";break;case"top-bottom-lines":n="top-bottom-lines.svg";break;case"outline-box":n="outline-box.svg";break;case"filled-box":n="filled-box.svg"}var r=$('<div class="option" data-variation-identifier="'+i[o]+'"></div>');a===o&&r.addClass("selected"),r.append('<img src="/static/img/layout-variation-icons/slogan/'+n+'" alt=""></img>'),e.find(".variation-options").append(r)}},this.appendIconThemeOptions=function(e,t,i){var a=e.find(".variation-options");a.html("");for(var o=0;o<t.length;o++)a.append('<div class="option" data-variation-identifier="'+t[o]+'"><span class="variation-option-label">'+(o+1)+"</span></div>"),t[o]===i&&a.find(".option:last").addClass("selected")},this.appendColorMutationOptions=function(e,t,i){var a=e.find(".variation-options");a.html("");for(var o=0;o<t.length;o++)a.append('<div class="option" data-variation-identifier="'+t[o]+'"><span class="variation-option-label">'+(o+1)+"</span></div>"),t[o]===i&&a.find(".option:last").addClass("selected")},e.logoHasSecondaryFont=function(){return!!$('.filter-section[data-filter-section="slogan-text"] .font-preview-wrap svg').length},e.fillElementWithPickedColor=function(e,t){for(var i=SmashingLogo.LogoMaker.buildUniquePathIdentifier(e),a=!0,o=0;o<window.customColorMapping.paths.length;o++)window.customColorMapping.paths[o].uniquePathIdentifier===i&&(a=!1,window.customColorMapping.paths[o]={uniquePathIdentifier:i,fill:t});a&&window.customColorMapping.paths.push({uniquePathIdentifier:i,fill:t}),e.attr("fill",t),e.attr("fill-opacity")&&e.attr("fill-opacity","1")},this.getNewColorConfig=function(){var t=e.getActiveTemplate().find("svg"),i={newColorConfig:{customColorMappingFromClient:e.buildFullCustomColorMapping(),usedColors:SmashingLogo.ColorUtils.getUsedColorsOfPathElements(t)}};"#color-customize"===window.location.hash&&(i.newColorConfig.advancedSectionContext=!0);var a=$page.colorPaletteInEditSection.find(".stripe.active"),o=$page.colorPaletteInEditSection.find(".stripe[data-background-stripe]");if(i.newColorConfig.backgroundHex=o.attr("data-stripe-hex"),!a.attr("data-background-stripe")){i.newColorConfig.colorDiff={hexBefore:a.attr("data-original-stripe-hex"),hexAfter:a.attr("data-stripe-hex")};var n=$page.colorPaletteInEditSection.find(".stripe[data-gradient-stripe]");n.length&&(i.newColorConfig.gradientPair={pairBefore:n.attr("data-original-gradient-pair"),pairAfter:n.attr("data-gradient-pair")})}return i},this.applyLiveColorChange=function(e){var t=$page.colorPaletteInEditSection.find(".stripe.active");if(t.attr("data-background-stripe")){var i=$("#quick-edit-section .variations-canvas");i.find('.variation-canvas-inner-wrap .mutations-container .mutation[data-random-template="true"]').attr("data-back-hex",e.replace("#","")),i.css("background-color",e)}t.attr("data-solid-color-stripe")&&$("#quick-edit-section .variations-canvas").find('.variation-canvas-inner-wrap .mutations-container .mutation[data-random-template="true"]').find("svg").find("path").each((function(){var i=$(this);i.hasClass("watermark-path")||SmashingLogo.ColorUtils.findSvgFillColor(i)===t.attr("data-stripe-hex")&&i.attr("fill",e)}));t.css("background-color",e),t.attr("data-stripe-hex",e)},this.applyServerSideColorChange=function(){SmashingLogo.Utils.showLoadingAnimation();var t=e.getNewColorConfig();e.sendEditRequest({editModeOptions:t})},this.iconContainerScrollReset=function(){var e=$(".icon-container-selection .icon-containers");e.scrollLeft(0),e.scrollTop(0)},this.colorContainerScrollReset=function(){var e=$(".layout-side-by-side.pantone-selection-mode:not(.gradient-selection-mode) .color-selection-wrap");e.length&&e.scrollTop(0)},this.setFavoriteCount=function(e,t){e.text(t)},this.getFavoriteCount=function(e){return parseInt(e.text())},this.increaseFavoriteCount=function(t){var i=e.getFavoriteCount(t);e.setFavoriteCount(t,i+1)},this.decreaseFavoriteCount=function(t){var i=e.getFavoriteCount(t);e.setFavoriteCount(t,i-1)},this.setFavoriteCountsInFavoritesModal=function(t){for(var i=["name","slogan","icon","color"],a=0;a<i.length;a++)e.setFavoriteCount($page.editorFavoriteModal.find('.mode[data-favorite-type="'+i[a]+'"] .count'),t[i[a]])},this.hardReloadForSpecialSections=function(e){SmashingLogo.Utils.showLoadingAnimation();var t=window.location.href.replace(window.location.hash,"#"+e);window.location.assign(t),window.location.reload(!0)},this.resetSvgForSplitIndexMode=function(){var t=e.getActiveTemplate(),i=t.find("svg");t.find(".invisible-element-box").removeClass("primary-glyph-box"),i.find("path").removeClass("primary-glyph"),e.setupQuickEditUI()},this.updateSvgForSplitIndexMode=function(){e.resetSvgForSplitIndexMode();var t=e.getActiveTemplate();t.find("svg").find("g").each((function(){var e=$(this);(e.attr("data-paper-data")?$.parseJSON(e.attr("data-paper-data")):{}).isPrimaryText&&e.find("path").each((function(){var e=$(this),i=e.attr("id");e.attr("data-paper-data")&&i&&(t.find('.invisible-element-box[data-element-id="'+i+'"]').addClass("primary-glyph-box"),e.addClass("primary-glyph"))}))}))},this.renderIconFavorites=function(e,t){e.html("");for(var i=0;i<t.length;i++){var a=t[i],o=$('<div data-icon-id="'+a.id+'" data-file-name="'+a.fileName+'" data-is-svg-icon="true" class="icon icon-to-combine">'+a.svgString+"</div>");e.append(o)}},this.mockIconOptionsForEditMode=function(t,i,a,o,n){e.mockCommonOptionsForNewIconOrInitial(t,i,a),t.iconType="icon",t.iconData.iconType="icon",t.iconData.rawIconId=o,t.iconData.combineTerms=n},this.mockMonogramOptionsForEditMode=function(t,i,a,o,n){e.mockCommonOptionsForNewIconOrInitial(t,i,a),t.iconType="initial",t.iconData.iconType="initial",t.iconData.rawInitialId=o,t.iconData.initialText=n},this.mockCommonOptionsForNewIconOrInitial=function(e,t,i){e.isNewIcon=!0,e.removeIcon=!1,e.iconMode=!0,e.iconStyle="standalone",e.iconSvgString=i,e.selectedEffects={container:"",transformation:"",pattern:""},e.disableIconEffects=!1,e.monogramSpecial=!1,e.iconFillRule=t,e.iconFillRuleOriginal=t,e.iconData={isIcon:"true",selectedEffects:e.selectedEffects,fillRule:t,fillRuleOriginal:t}},this.browseIconsForCombine=function(e,t){if(!($.active>0)){var i=e.closest(".combine-step"),a=i.find(".combine-input-field"),o=a.val(),n=i.attr("data-combine-step");e.attr("disabled","disabled"),a.attr("disabled","disabled"),t||($("body").attr("data-noun-page-combine-1",0),$("body").attr("data-noun-page-combine-2",0)),$.ajax({url:"/v2/icons/browse/",type:"POST",data:{term:o,page:$("body").attr("data-noun-page-combine-"+n),userLangKey:$("html").attr("lang")},timeout:2e4,success:function(r){e.removeAttr("disabled"),a.removeAttr("disabled");var s=i.find('.sub-section-mix-type[data-sub-section-mix-type-identifier="search-new"]');if(t||s.find(".combine-icon-list").remove(),!r.error){$("body").attr("data-noun-page-combine-"+n,r.page),t?i.find(".add-more").remove():s.append('<div class="combine-icon-list"></div>');for(var d=s.find(".combine-icon-list"),c=0;c<r.icons.length;c++)d.append('<div class="icon icon-to-combine" data-combine-terms="'+o+'" data-icon-url="'+r.icons[c].icon_url+'" data-icon-id="'+r.icons[c].id+'"><img src="'+r.icons[c].preview_url+'" alt=""></img></div>');(!t||t&&"end"!==r.page)&&d.append('<div class="add-more"><button class="btn btn-default btn-load-more"><span class="glyphicon glyphicon-plus"></span><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></button></div>')}}})}},this.attachCommonEvents=function(){$(window).on("hashchange",(function(){if(!$page.body.hasClass("initial-page-setup-in-progress")){var t=window.location.hash?window.location.hash.replace("#",""):void 0;e.activateSection(t)}})),$page.body.on("click",".logo-container-selection .btn-remove-logo-container",(function(t){e.sendEditRequest({editModeOptions:{containerLayoutVariationIdentifier:""}})})),$page.body.on("click",'#quick-edit-section .filter-section[data-filter-section="icon-edit"] .icon-variation-options .box, .additional-icon-variation-options .option',(function(){var t=$(this);if(!t.hasClass("active")){var i=t.attr("data-variation-identifier"),a={iconStyle:i.indexOf("icon-in-text")>=0?"icon-in-text":"standalone",iconVariationIdentifier:i};e.sendEditRequest({editModeOptions:a})}})),$page.body.on("click",'#quick-edit-section[data-active-variation-type!="color"] .invisible-element-box',(function(){var t,i=$(this).attr("data-element-name");i&&($page.body.hasClass("split-index-edit-mode")||("isIcon"===i?t="icon-edit":"isPrimaryText"===i||"isMirroredPrimaryText"===i?t="name-text":"isSecondaryText"!==i&&"isAdditionalSecondaryTextDonut"!==i||(t="slogan-text"),t&&e.setHashByGivenMenuIdentifier(t)))})),$page.body.on("click",'.filter-section[data-filter-section="color-edit"] .color-wrap .palette .stripe',(function(){var t=$(this),i=$(".color-mode-switch");t.addClass("active").siblings().removeClass("active");var a=t.attr("data-stripe-hex"),o=t.attr("data-gradient-pair");if(a)$page.quickEditSection.removeClass("gradient-selection-mode"),i.removeClass("hidden"),e.updateColorPicker(a),$page.quickEditSection.hasClass("pantone-selection-mode")&&e.filterPantoneColorsBySimilarity(a);else if(o){$page.gradientsWrapInEditSection.find('.gradient[data-gradient-pair="'+o+'"]').addClass("active").siblings().removeClass("active"),$page.quickEditSection.addClass("gradient-selection-mode"),i.addClass("hidden")}})),$page.body.on("click",'.filter-section[data-filter-section="color-edit"] .pantone-wrap .swatch',(function(){var t=$(this).attr("data-pantone-hex").toLowerCase();e.applyLiveColorChange(t),e.updateColorPicker(t),e.applyServerSideColorChange()})),$page.body.on("click",'.filter-section[data-filter-section="color-edit"] .color-swatch-wrap .gradient',(function(){var t=$(this);t.addClass("active").siblings().removeClass("active");var i=t.attr("data-gradient-pair"),a=$page.colorPaletteInEditSection.find(".active");a.attr("data-gradient-pair",i);var o=i.split("-")[0],n=i.split("-")[1];a.css("background","linear-gradient(90deg, "+o+", "+n+")"),e.applyServerSideColorChange()})),$page.body.on("click",'#quick-edit-section[data-active-variation-type="color"] .invisible-element-box',(function(t){var i=e.getActiveTemplate(),a=$page.body.attr("data-selected-colorpicker-hex"),o=$(t.target),n=o.attr("data-element-id");if(o.hasClass("grouping-element")){i.find("#"+n).find("path").each((function(){e.fillElementWithPickedColor($(this),a)}))}else{var r=i.find("#"+n);e.fillElementWithPickedColor(r,a)}e.applyServerSideColorChange()})),$page.quickEditMenu.on("click",".mode",(function(){var t=$(this).attr("data-filter-container"),i=$('.filter-container[data-filter-container="'+t+'"]').find(".switch-modes .mode:first").attr("data-filter-section");"color"===t&&e.isPostPurchaseEditor()?e.hardReloadForSpecialSections("color-edit"):e.setHashByGivenMenuIdentifier(i)})),$page.body.on("click",'.filter-container[data-filter-container="name"] .letter-case-wrap .option, .filter-container[data-filter-container="slogan"] .letter-case-wrap .option',(function(){var t={},i=$(this);i.hasClass("selected")||(i.closest('[data-filter-section="name-text"]').length?t.textStyleVariationIdentifier=i.attr("data-variation-identifier"):i.closest('[data-filter-section="slogan-text"]').length&&(t.secondaryTextStyleVariationIdentifier=i.attr("data-variation-identifier")),i.addClass("selected").siblings().removeClass("selected"),e.sendEditRequest({editModeOptions:t}))})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="name"] .font-style-options .option',(function(){var t={},i=$(this);i.hasClass("selected")||(t.fontStyleVariationIdentifier=i.attr("data-variation-identifier"),i.addClass("selected").siblings().removeClass("selected"),e.sendEditRequest({editModeOptions:t}))})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="name"] .font-style-options .btn-open-split-index-edit-mode',(function(){$page.body.addClass("split-index-edit-mode"),$page.body.addClass("edit-mode-active"),e.updateSvgForSplitIndexMode()})),$page.body.on("click",".split-index-edit-mode-footer .btn",(function(){$page.body.removeClass("split-index-edit-mode"),$page.body.removeClass("edit-mode-active"),e.resetSvgForSplitIndexMode()})),$(document).on("click","body.split-index-edit-mode .invisible-element-box.primary-glyph-box",(function(t){var i=e.getActiveTemplate(),a=$(t.target).attr("data-element-id"),o=i.find("#"+a),n=$.parseJSON(o.attr("data-paper-data")).glyphIndex.toString(),r=$page.fontStyleGlyphIndicesHiddenField.val().split(","),s=r.indexOf(n);s>=0?r.splice(s,1):r.push(n),$page.fontStyleGlyphIndicesHiddenField.val(r.join(",").replace(/^,|,$/g,""));var d={fontStyleGlyphIndices:$page.fontStyleGlyphIndicesHiddenField.val()};e.sendEditRequest({editModeOptions:d})})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="slogan"] .slogan-effect-options .option',(function(){var t={},i=$(this);i.hasClass("selected")||(t.secondaryLayoutVariationIdentifier=i.attr("data-variation-identifier"),i.addClass("selected").siblings().removeClass("selected"),e.sendEditRequest({editModeOptions:t}))})),$page.historyModalMenu.on("click",".mode",(function(){var t=$(this);t.hasClass("active")||(t.addClass("active").siblings().removeClass("active"),e.openHistory(t.attr("data-history-section"),SmashingLogo.Utils.getParameterByName("s",window.location)))})),$page.body.on("click","#quick-edit-section .filter-sections-header .switch-modes .mode",(function(){var t=$(this),i=t.attr("data-filter-section");t.hasClass("disabled")||("color-edit"!==i&&"color-customize"!==i?($(".variations-canvas .variation-filter-inner").scrollTop(0),e.setHashByGivenMenuIdentifier(i)):e.hardReloadForSpecialSections(i))})),$page.body.on("click","#quick-edit-section .btn-change-text",(function(){$page.body.attr("data-company-name",$("#companyName").val()),$page.body.attr("data-company-tagline",$("#companyTagline").val()),e.sendEditRequest()})),$page.body.on("click",'#quick-edit-section .filter-section[data-filter-section="name-layout"] .text-variation-options .box',(function(){var t={textLayoutVariationIdentifier:$(this).attr("data-variation-identifier")};e.sendEditRequest({editModeOptions:t})})),$page.body.on("click",'#quick-edit-section .filter-section[data-filter-section="layout-container"] .logo-containers .logo-container',(function(){var t={containerLayoutVariationIdentifier:$(this).attr("data-container-identifier")};e.sendEditRequest({editModeOptions:t})})),$page.body.on("change",'.filter-section[data-filter-section="layout-container"] .secondary-container-selection select',(function(){var t,i={},a=$(this).closest(".secondary-container-selection");switch(a.attr("data-container-identifier")){case"jbenson":t="jbensonValues";break;case"jbenson-portrait":t="jbensonPortraitValues";break;case"shield":t="shieldValues";break;case"bar-badge":t="barBadgeValues";break;case"circle":t="circleValues";break;case"square":t="squareValues";break;case"rectangle-clip":t="rectangleClipValues"}i[t]={},a.find("select").each((function(){var e=$(this);i[t][e.attr("data-container-key")]=e.val()})),e.sendEditRequest({editModeOptions:i})})),$("#disable-secondary-auto-snap").change((function(){var t={disableSecondaryAutoSnap:this.checked};e.sendEditRequest({editModeOptions:t})})),$page.body.on("click","#quick-edit-section .variation-action-button.undo",(function(){$(this).hasClass("empty-history")||("color-customize"===$page.quickEditSection.attr("data-active-variation-sub-type")&&e.setHashByGivenMenuIdentifier("color-base"),e.openHistory("timeline",SmashingLogo.Utils.getParameterByName("s",window.location)))})),$page.body.on("click","#quick-edit-section .color-chaining-button",(function(){var t=$(this).attr("data-active-chaining-mode");if("individual"===t)SmashingLogo.Utils.showLoadingAnimation(),window.setTimeout((function(){e.switchToGroupChainingMode()}),300);else if("group"===t){SmashingLogo.Utils.showLoadingAnimation();var i=e.getNewColorConfig();i.forceIndependantPaths=!0,e.sendEditRequest({editModeOptions:i},e.switchToIndividualChaining)}})),$page.body.on("click",".btn-close-browse-history, #quick-edit-section .btn-close-variation-history",(function(){e.closeHistory()})),$page.body.on("click","#quick-edit-section .variation-history .horizontal-logo-wrapper .item, #quick-edit-section .variation-browse .horizontal-logo-wrapper .item .logo-preview, #modalManageEditorFavorites .logos .item .logo-preview",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this).hasClass("logo-preview")?$(this).closest(".item"):$(this),i=t.closest(".variation-history").length,a=t.closest(".variation-browse").length,o=t.closest("#modalManageEditorFavorites").length,n=t.find(".logo-preview").attr("data-svg-file-path");$.ajax({url:"/editor/override-design/",type:"POST",data:{logoPath:n,s:SmashingLogo.Utils.getParameterByName("s",window.location)},timeout:6e4,success:function(t){"failed"!==t?(SmashingLogo.ManageFavorites.getFavoriteCount()!==t.favoriteCount&&SmashingLogo.SeamlessHeader.refreshFavoriteButton(t.favoriteCount),e.updateCanvasLogo(t,$(".variation-canvas-inner-wrap")),i?(e.closeHistory(),e.cleanupBrowse()):a?e.closeBrowse():o&&(e.closeBrowse(),$page.editorFavoriteModal.modal("hide"))):window.location.reload(!0)},error:function(){console.log("process error")}})})),$page.body.on("click","#quick-edit-section .variation-browse .horizontal-logo-wrapper .item .btn-switch-to-design",(function(){$(this).closest(".item").find(".logo-preview").trigger("click")})),$page.body.on("click","#modalManageEditorFavorites .logos .item .btn-switch-to-design",(function(){$(this).closest(".item").find(".logo-preview").trigger("click")})),$page.body.on("click",'#quick-edit-section .filter-section[data-filter-section="color-edit"] .btn-switch-to-pantone',(function(){$(this).addClass("active").siblings().removeClass("active"),e.filterPantoneColorsBySimilarity(e.getHexOfActiveStripe()),$page.quickEditSection.addClass("pantone-selection-mode")})),$page.body.on("click",'#quick-edit-section .filter-section[data-filter-section="color-edit"] .btn-switch-to-coloris',(function(){$(this).addClass("active").siblings().removeClass("active"),$page.quickEditSection.removeClass("pantone-selection-mode")})),$page.body.on("click","#quick-edit-section .slogan-positions-container .option",(function(){var t={},i=$(this);i.hasClass("selected")||(t.secondaryTextPositionVariationIdentifier=i.attr("data-variation-identifier"),i.addClass("selected").siblings().removeClass("selected"),e.sendEditRequest({editModeOptions:t}))})),$page.window.on("resize",(function(){e.setCanvasLayout(),e.getActiveTemplate().length&&(e.setupQuickEditUI(),"#color-edit"!==window.location.hash&&"#color-customize"!==window.location.hash||$(".coloris-target-container #clr-picker").length&&e.updateColorisPosition($page.body.attr("data-selected-colorpicker-hex")))})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="icon"] .effect-container.selectable .inner-container',(function(){$(this).closest(".effect-container").toggleClass("selected");var t=e.getIconTransforms();e.sendEditRequest({editModeOptions:t})})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="icon"] .icon-size .noUi-value',(function(){var e=parseInt($(this).attr("data-value"));$("#icon-size-slider").get(0).noUiSlider.set(e)})),$page.body.on("click",'#quick-edit-section .effect-container[data-effect-name="size"] .btn-plus-step',(function(){var e=parseInt($("#iconSizeHiddenField").val());$("#icon-size-slider").get(0).noUiSlider.set(e+1)})),$page.body.on("click",'#quick-edit-section .effect-container[data-effect-name="size"] .btn-minus-step',(function(){var e=parseInt($("#iconSizeHiddenField").val());$("#icon-size-slider").get(0).noUiSlider.set(e-1)})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="icon"] .icon-rotate .noUi-value',(function(){var e=parseInt($(this).attr("data-value"));$("#icon-rotate-slider").get(0).noUiSlider.set(e)})),$page.body.on("click",'#quick-edit-section .effect-container[data-effect-name="rotate"] .btn-reset-effect',(function(){$("#icon-rotate-slider").get(0).noUiSlider.set(0)})),$page.body.on("click",'#quick-edit-section .effect-container[data-effect-name="rotate"] .btn-plus-step',(function(){var e=parseInt($("#iconRotateHiddenField").val());$("#icon-rotate-slider").get(0).noUiSlider.set(e+1)})),$page.body.on("click",'#quick-edit-section .effect-container[data-effect-name="rotate"] .btn-minus-step',(function(){var e=parseInt($("#iconRotateHiddenField").val());$("#icon-rotate-slider").get(0).noUiSlider.set(e-1)})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="icon"] .icon-translate .noUi-value',(function(){var e=parseInt($(this).attr("data-value"));$("#icon-translate-slider").get(0).noUiSlider.set(e)})),$page.body.on("click",'#quick-edit-section .effect-container[data-effect-name="translate"] .btn-reset-effect',(function(){$("#icon-translate-slider").get(0).noUiSlider.set(50)})),$page.body.on("click",'#quick-edit-section .effect-container[data-effect-name="translate"] .btn-plus-step',(function(){var e=parseInt($("#iconTranslateHiddenField").val());$("#icon-translate-slider").get(0).noUiSlider.set(e+1)})),$page.body.on("click",'#quick-edit-section .effect-container[data-effect-name="translate"] .btn-minus-step',(function(){var e=parseInt($("#iconTranslateHiddenField").val());$("#icon-translate-slider").get(0).noUiSlider.set(e-1)})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="icon"] .icon-gap .noUi-value',(function(){var e=parseInt($(this).attr("data-value"));$("#icon-gap-slider").get(0).noUiSlider.set(e)})),$page.body.on("click",'#quick-edit-section .effect-container[data-effect-name="gap"] .btn-plus-step',(function(){var e=parseInt($("#iconGapHiddenField").val());$("#icon-gap-slider").get(0).noUiSlider.set(e+1)})),$page.body.on("click",'#quick-edit-section .effect-container[data-effect-name="gap"] .btn-minus-step',(function(){var e=parseInt($("#iconGapHiddenField").val());$("#icon-gap-slider").get(0).noUiSlider.set(e-1)}))},this.attachPostPurchaseEvents=function(){e.attachCommonEvents(),$page.body.on("click",".ai-icons .ai-icon",(function(){if(!($.active>0)){var t={editMode:!0},i=$(this),a=i.attr("data-icon-id"),o=i.attr("data-combine-terms"),n=i.find("path").attr("fill-rule");SmashingLogo.Utils.showLoadingAnimation(),e.mockIconOptionsForEditMode(t,n,i.html(),a,o),e.sendEditRequest({editModeOptions:t})}}))},this.attachPrePurchaseEvents=function(){e.attachCommonEvents(),$page.body.on("click",".icon-container-filter .switch-modes .mode",(function(t){var i=$(this),a=i.attr("data-filter-by");if(i.addClass("active").siblings().removeClass("active"),"all"===a)return $(".icon-container-selection .icon-container").removeClass("hidden"),void e.iconContainerScrollReset();$(".icon-container-selection .icon-container").each((function(){var e=$(this),t=e.attr("data-container-identifier");0===t.indexOf(a)||0===t.indexOf("enclosed_circle")&&"circle"===a?e.removeClass("hidden"):e.addClass("hidden")})),e.iconContainerScrollReset()})),$page.body.on("click",".icon-container-selection .btn-remove-icon-container",(function(t){var i={newIconContainer:""};e.sendEditRequest({editModeOptions:i})})),$page.body.on("click",".icon-container-selection .icon-container",(function(t){var i=$(this).attr("data-container-identifier"),a={};a.newIconContainer=i,e.sendEditRequest({editModeOptions:a})})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="icon"] .icon-theme-wrap .option',(function(){var t={},i=$(this);i.hasClass("selected")||(t.iconTheme=i.attr("data-variation-identifier"),i.addClass("selected").siblings().removeClass("selected"),e.sendEditRequest({editModeOptions:t}))})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="icon"] .btn-remove-icon',(function(){e.sendEditRequest({editModeOptions:{removeIcon:!0}})})),$page.body.on("click",'#quick-edit-section .filter-container[data-filter-container="color"] .color-mutation-wrap .option',(function(){var t={},i=$(this);i.hasClass("selected")||(t.randomTemplate=i.attr("data-variation-identifier"),i.addClass("selected").siblings().removeClass("selected"),e.sendEditRequest({editModeOptions:t}))})),$page.variationModalMenu.on("click",".mode",(function(){var t=$(this);if(!t.hasClass("active")){var i=t.attr("data-variations-section"),a=$('.filter-container[data-filter-container="'+i+'"]').find(".switch-modes .mode:first").attr("data-filter-section");e.setHashByGivenMenuIdentifier(a),e.cleanupBrowse(),e.triggerBrowse(i)}})),$page.body.on("editorFavoritesViewReady",(function(){$page.editorFavoriteModal.hasClass("in")||$page.editorFavoriteModal.modal("show"),SmashingLogo.Utils.hideLoadingAnimation()})),$page.editorFavoriteModalMenu.on("click",".mode",(function(){var t=$(this);if(!t.hasClass("active")){var i=t.attr("data-favorite-type"),a=$('.filter-container[data-filter-container="'+i+'"]').find(".switch-modes .mode:first").attr("data-filter-section");e.setHashByGivenMenuIdentifier(a),e.openFavoritesModal(t.attr("data-favorite-type"))}})),$page.body.on("click","#quick-edit-section .envision-cta-footer .btn.favorites",(function(){e.openFavoritesModal($page.quickEditSection.attr("data-active-variation-type"))})),$page.addMoreVariationsButton.on("click",(function(){e.triggerBrowse()})),$page.body.on("click","#quick-edit-section .variations-filter .box.multiselect",(function(){var e=$(this);if("color"===$page.quickEditSection.attr("data-active-variation-type"))e.toggleClass("selected"),$page.addMoreVariationsButton.trigger("click");else{var t=e.hasClass("selected");e.closest(".filter-dropdown").find(".box").removeClass("selected"),t?e.removeClass("selected"):e.addClass("selected"),$page.addMoreVariationsButton.trigger("click")}})),$page.body.on("click","#quick-edit-section .variations-filter .layout-filter-section .logo-container",(function(){$(this).toggleClass("selected"),$page.addMoreVariationsButton.trigger("click")})),$(document).on("click",".variation-browse .filter-dropdown",(function(e){e.stopPropagation()})),$page.body.on("click","#quick-edit-section .variation-filter .filter-section .font-preview .content-column",(function(){e.cleanupBrowse(),e.triggerBrowse()})),$page.body.on("click",'#quick-edit-section .variation-filter .filter-section[data-filter-section="color-base"] .color-preview .content-column',(function(){e.cleanupBrowse(),e.triggerBrowse()})),$page.body.on("click","#quick-edit-section .variation-filter .filter-section .current-icon-slot",(function(){$(this).hasClass("empty")&&(e.cleanupBrowse(),e.triggerBrowse())})),$page.body.on("click",".envision-cta-footer .btn.ideas",(function(){"color-customize"===$page.quickEditSection.attr("data-active-variation-sub-type")&&e.setHashByGivenMenuIdentifier("color-base"),e.logoHasSecondaryFont()||"slogan"!==$page.quickEditSection.attr("data-active-variation-type")?e.openBrowseNew():(e.setHashByGivenMenuIdentifier("name-text"),e.openBrowseNew("name"))})),$page.body.on("click",".btn-close-browse-ideas, #quick-edit-section .btn-close-variation-browse",(function(){e.closeBrowse()})),$page.body.on("click","#quick-edit-section .variation-browse .toggle-favorite-button",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this),i=$page.quickEditSection.attr("data-active-variation-type"),a=$page.body.attr("data-logo-path"),o=t.closest(".logo-meta-info").attr("data-svg-file-path");e.sendToggleFavoriteRequest(t,"browse-ideas",a,o,i)})),$page.editorFavoriteModal.on("click",".toggle-favorite-button",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this),i=$page.quickEditSection.attr("data-active-variation-type"),a=$page.body.attr("data-logo-path"),o=t.closest(".logo-meta-info").attr("data-svg-file-path");e.sendToggleFavoriteRequest(t,"favorites-modal",a,o,i)})),$page.body.on("click","#quick-edit-section .variation-filter .filter-section .toggle-favorite-button",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this),i=$page.quickEditSection.attr("data-active-variation-type"),a=$page.body.attr("data-logo-path"),o=a;e.sendToggleFavoriteRequest(t,"current-logo",a,o,i)})),$page.body.on("click",".btn-icon-ideas",(function(){e.cleanupBrowse(),e.triggerBrowse()})),$page.body.on("click",".btn-icon-editor",(function(){e.setHashByGivenMenuIdentifier("icon-customize")})),$page.body.on("click",".btn-icon-favorites",(function(){$(".variation-action-button.favorites").trigger("click")})),$page.body.on("click",".variation-filter-inner .switch-modes.icon-combine .mode",(function(){var t=$(this);t.addClass("active").siblings().removeClass("active");var i=t.attr("data-sub-section"),a=t.closest(".combine-step").find('[data-sub-section-mix-type-identifier="'+i+'"]');a.siblings(".sub-section-mix-type").removeClass("active"),a.addClass("active"),"suggestions"===i&&(SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/v4/icons/suggested/favorites/",type:"GET",timeout:6e4,success:function(t){e.renderIconFavorites(a.find(".icon-combine-favorite-slots"),t.icons),SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}}))})),$page.modalEditorFavoriteLimit.find(".btn-open-editor-favorite-modal").on("click",(function(){$page.modalEditorFavoriteLimit.modal("hide"),$(".envision-cta-footer .btn.favorites").trigger("click")})),$page.body.on("click","#embedded-search-container .icon",(function(){if(!($.active>0)){var t={editMode:!0},i=$(this),a=i.attr("data-icon-id"),o=i.attr("data-combine-terms"),n=i.find("img").length,r=i.attr("data-is-svg-icon");if(SmashingLogo.Utils.showLoadingAnimation(),n)$.ajax({url:"/get-icon-svg-string/",type:"POST",data:{iconPath:i.attr("data-icon-url"),iconId:a},timeout:6e4,success:function(i){var n=$(i).find("path").attr("fill-rule");e.mockIconOptionsForEditMode(t,n,i,a,o),e.sendEditRequest({editModeOptions:t})},error:function(){console.log("process error")}});else if(r){var s=i.find("path").attr("fill-rule");e.mockIconOptionsForEditMode(t,s,i.html(),a,o),e.sendEditRequest({editModeOptions:t})}}})),$page.body.on("click",".combine-step .combine-results .icon",(function(){if(!($.active>0)){var t={editMode:!0},i=$(this),a=i.attr("data-icon-id"),o=i.attr("data-combine-terms"),n=i.find("path").attr("fill-rule");i.addClass("selected").siblings().removeClass("selected"),SmashingLogo.Utils.showLoadingAnimation(),$(".combine-steps .icon-to-combine").removeClass("selected"),e.mockIconOptionsForEditMode(t,n,i.html(),a,o),e.sendEditRequest({editModeOptions:t})}})),$page.body.on("click",".btn-edit-monogram-text",(function(){var t={};t.newMonogramText=$("#monogram-text-input").val(),e.sendEditRequest({editModeOptions:t})})),$page.body.on("click",".btn-combine-search",(function(){e.browseIconsForCombine($(this))})),$page.body.on("click",".combine-step .icon-to-combine",(function(){if(!($.active>0)){var e=$(this);if(e.hasClass("selected"))e.removeClass("selected");else{e.closest(".combine-step").find(".icon-to-combine").removeClass("selected"),e.addClass("selected");var t={icons:[]},i=[];$(".combine-steps .icon-to-combine.selected").each((function(){var e=$(this),a={iconType:e.attr("data-initial-id")?"initial":"icon"};if("initial"===a.iconType?a.initialId=e.attr("data-initial-id"):a.iconId=e.attr("data-icon-id"),e.find("svg").length?a.svgString=e.html():e.find("img").length&&(a.iconUrl=e.find("img").attr("src")),e.attr("data-combine-terms")){var o=e.attr("data-combine-terms").split(",");a.combineTerms=o,i.push.apply(i,_toConsumableArray(a.combineTerms))}t.icons.push(a)})),2===t.icons.length&&(SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/combine-icons/",type:"POST",data:t,timeout:6e4,success:function(t){SmashingLogo.Utils.hideLoadingAnimation();var a=$(".combine-results");if(a.find(".combine-icon-list").remove(),"failed"!==t){a.append('<div class="combine-icon-list"></div>');for(var o=a.find(".combine-icon-list"),n=0;n<t.length;n++){var r=$('<div class="icon" data-icon-id="'+t[n].iconId+'">'+t[n].svgString+"</div>");if(i.length){var s=i.filter((function(e,t){return i.indexOf(e)===t}));r.attr("data-combine-terms",s.join())}o.append(r)}$(".variations-canvas .variation-filter-inner").animate({scrollTop:$('[data-combine-step="3"]').offset().top},800)}else e.removeClass("selected")},error:function(){console.log("combine error"),SmashingLogo.Utils.hideLoadingAnimation()}}))}}})),$page.body.on("click",".combine-steps .btn-load-more",(function(t){t.preventDefault(),e.browseIconsForCombine($(this),!0)}))}}SmashingLogo.QuickEdit=new QuickEdit;
"use strict";function EnvisionBrand(){var a=this;window.windowWidth=$page.window.width(),$page.envisionBrand={container:$(".envision-brand"),sliderWrapper:$(".envision-brand .slider-wrapper"),animationModuleSliderNext:$(".animation-preview-wrapper .slider-next"),animationModuleSliderPrev:$(".animation-preview-wrapper .slider-prev"),animationModuleContainer:$(".animation-preview"),liveYourDreamMaskContainer:$(".item-live-dream"),liveYourDreamMask:$(".item-live-dream .live-your-dream-mask")},this.init=function(i){a.envisionSujetHeight(),$page.envisionBrand.sliderWrapper.append(SmashingLogo.Utils.uniqueSVG(i.svgString)),$(".envision-brand .slider-wrapper svg:not(.deco)").attr("class","main"),$page.body.attr("data-brand-infos",JSON.stringify(i.brandInfos)),a.buildContent(i),a.attachEventHandler(),$(".animation-module").length&&(a.setAnimationsSliderLayout(),a.handleAnimationModuleUI())},this.buildContent=function(i){a.defineGlobalVars(),$("svg.main").find("*").css("fill","#ffffff"),$("svg.main").find("rect.invisible-bbox").remove(),$page.body.hasClass("page-logo-animations")||(i&&i.isKenBurnsEffectEnabled?a.setupTiles(i.extendedLogoInfos,!0):i&&a.setupTiles(i.extendedLogoInfos),a.setupGoodieTable(),a.setupBusinessCardTable(),a.setupCoffeeMug()),$page.body.hasClass("page-branding-guidelines")&&(i&&a.setupFontsSection(i.primaryFontPreviewSvg,i.primaryFontDescription,i.secondaryFontPreviewSvg,i.secondaryFontDescription),a.setupIcon(),a.setupColorsSection()),($page.body.hasClass("page-preview")||$page.body.hasClass("page-shared"))&&(i&&a.setupInteractiveComponentsInContent(i.brandInfos),a.setupLiveYourDream()),$page.body.hasClass("page-preview")&&a.setupPricing(),$page.body.hasClass("page-branding-guidelines")||(a.setupBillboard(),a.setupSignboard(),a.setupBusinessCardPhoto(),a.colorBrandingPackage(),a.setupShirt(),a.setupBookAnimation(),a.setupDrawing()),($page.body.hasClass("page-preview")||$page.body.hasClass("page-shared")||$page.body.hasClass("page-logo-animations"))&&a.setupAnimations()},this.defineGlobalVars=function(){window.defaultTemplate=$(".preview-logo-source .mutation[data-template-identifier=Default]"),window.activeTemplate=$('.preview-logo-source .mutation[data-random-template="true"]'),window.customColorBackgroundColor=window.activeTemplate.attr("data-back-hex"),window.blackMagicTemplate1=$(".preview-logo-source .mutation[data-template-identifier=BlackAndHighlightColorHex1]"),window.blackMagicTemplate2=$(".preview-logo-source .mutation[data-template-identifier=BlackAndHighlightColorHex2]"),window.blackMagicTemplate=window.blackMagicTemplate1.length?window.blackMagicTemplate1:window.blackMagicTemplate2,window.pastelHex1=$(".preview-logo-source .mutation[data-template-identifier=SingleColorHex1]").attr("data-back-hex"),window.pastelHex2=$(".preview-logo-source .mutation[data-template-identifier=SingleColorHex2]").attr("data-back-hex"),window.contrastHex=$(".preview-logo-source .mutation[data-template-identifier=Contrast]").attr("data-back-hex"),window.hex1=$page.body.attr("data-hex-1"),window.hex2=$page.body.attr("data-hex-2"),window.isGradientLogo=!!$page.body.attr("data-gradient-mode"),window.targetColor="#000000",SmashingLogo.ColorUtils.brightnessByColor(window.hex2)>SmashingLogo.ColorUtils.brightnessByColor(window.hex1)&&!window.isGradientLogo?window.targetColor=window.hex2:window.targetColor=window.hex1,window.alternativeBackgroundColor=void 0,window.backgroundBrightness=void 0,"ffffff"!==window.activeTemplate.attr("data-back-hex")&&(window.alternativeBackgroundColor="#"+window.activeTemplate.attr("data-back-hex"),window.backgroundBrightness=SmashingLogo.ColorUtils.brightnessByColor(window.alternativeBackgroundColor))},this.setupTiles=function(a,i){var e=$("#slide-tiles .tiles-container");if(!e.find(".branding-tiles").length){var n=JSON.parse($page.body.attr("data-brand-infos")),t=window.defaultTemplate.clone();if(t.html(SmashingLogo.Utils.uniqueSVG(t.html())),e.find(".mutations-container").append(t),"Default"!==window.activeTemplate.attr("data-template-identifier")){var o=window.activeTemplate.clone();o.html(SmashingLogo.Utils.uniqueSVG(o.html())),e.find(".mutations-container").append(o)}var s={compactViewbox:$(window).height()<=1024};if($page.body.hasClass("page-preview")){s.appendBottomBar=!0,"enabled"===$page.body.attr("data-interactive-components-status")&&(s.interactiveBottomBar=!0,s.fixedBottomBar=!0,s.onlyShowCallToActionBar=!0);var r=$page.body.attr("data-logo-path"),d=r.substr(r.lastIndexOf("/")+1).split("_")[1].substr(0,9),l=r.replace("/static/tmp_private/_","").substr(0,9),g=$("html").attr("lang");s.callToActions=[{text:window.i18nEditLogo,url:"/"+g+"/quick-edit?s="+l+"-"+d+"#name-text"},{text:window.i18nBuyOneWord,type:"primary",url:"/"+g+"/checkout?s="+l+"-"+d}],s.showVideoPlayButton=!1}if(($page.body.hasClass("page-preview")||$page.body.hasClass("page-branding-guidelines"))&&(s.editableThirdTile=!0),($page.body.hasClass("page-preview")||$page.body.hasClass("page-shared"))&&(s.addWatermarkToPrimaryTile=!0,i&&(s.autoplayKenBurns=!0)),$page.body.hasClass("page-branding-guidelines")&&(s.disableBrandImage=!0),a){var c=a[n.logoId];s.isFavorite=c.isFavorite,s.hasHistory=!!(c.historyCount&&parseInt(c.historyCount)>0),s.dynamicFilters=c.dynamicFilters}SmashingLogo.BrandingTiles.buildTiles(e,n,s),$("#slide-tiles").addClass("ready")}},this.setupGoodieTable=function(){var a=$("#slide-overview"),i=SmashingLogo.Utils.extractIconFromSvg($("svg.main").clone()),e=i&&i.data&&i.data.suitableAsStandaloneIcon,n="#000000"===window.hex1&&window.pastelHex2&&window.pastelHex2.length?window.pastelHex2:window.pastelHex1;if(a.css("background-color","#"+n),window.alternativeBackgroundColor&&window.backgroundBrightness>50&&a.css("background-color",SmashingLogo.ColorUtils.getMixedColor("#ffffff",window.alternativeBackgroundColor,.1)),a.find(".svg-neck-overlay path").css("fill",window.targetColor),a.find(".business-card-front").css("background",window.alternativeBackgroundColor||window.targetColor),"#xxxxxx"===hex2||"#000000"===hex2||window.isGradientLogo?(a.find(".tablet-header").css("background",window.alternativeBackgroundColor||window.targetColor),a.find(".notepad-background").css("background",window.alternativeBackgroundColor||window.targetColor),a.find(".pencil-background").css("background",window.targetColor)):(a.find(".tablet-header").css("background",window.alternativeBackgroundColor||window.hex2),a.find(".notepad-background").css("background",window.alternativeBackgroundColor||window.hex2),a.find(".pencil-background").css("background",window.hex2)),$(".overview-collage.overlay").addClass("active"),0===$(".svg-bag").length){var t=$("svg.main").clone();window.activeTemplate&&window.alternativeBackgroundColor&&window.backgroundBrightness&&window.backgroundBrightness<80?t.html(SmashingLogo.Utils.uniqueSVG(window.activeTemplate.find("svg").html())):t.find("*").css("fill","#fff"),t.attr("class","svg-bag"),t.appendTo(a)}if(0===$(".svg-tablet-header").length){var o=window.activeTemplate&&window.alternativeBackgroundColor?window.activeTemplate.find("svg").clone():$("svg.main").clone();o.attr("class","svg-tablet-header"),o.html(SmashingLogo.Utils.uniqueSVG(o.html())),o.appendTo(a)}if(0===$(".svg-shirt").length){var s=$("svg.main").clone();s.attr("class","svg-shirt"),s.appendTo(a)}if(0===$(".svg-business-card").length){var r=window.activeTemplate&&window.alternativeBackgroundColor?window.activeTemplate.find("svg").clone():$("svg.main").clone();r.attr("class","svg-business-card"),r.html(SmashingLogo.Utils.uniqueSVG(r.html())),r.appendTo(a)}if(0===$(".svg-notepad").length){var d=window.activeTemplate&&window.alternativeBackgroundColor?window.activeTemplate.find("svg").clone():$("svg.main").clone();d.attr("class","svg-notepad"),d.html(SmashingLogo.Utils.uniqueSVG(d.html())),d.appendTo(a)}if(0===$(".svg-keychain").length){var l=$("svg.main").clone();l.attr("class","svg-keychain"),l.appendTo(a)}if(0===$(".svg-smartphone").length){var g=$("svg.main").clone();g.attr("class","svg-smartphone"),g.appendTo(a)}if(0===$(".twitter-avatar-container").length){a.append('<div class="twitter-avatar-container"></div>');var c,v=a.find(".twitter-avatar-container");if(e)(c=$('<svg class="svg-twitter-avatar" width="100%" viewBox="'+i.data.bounds.x+" "+i.data.bounds.y+" "+i.data.bounds.width+" "+i.data.bounds.height+'" preserveAspectRatio="xMidYMid meet"></svg>')).append(i.jQueryObject),c.find("g:first").attr("fill-rule",i.data.fillRule),v.addClass("standalone");else(c=$("svg.main").clone()).attr("class","svg-twitter-avatar");c.appendTo(v)}if(0===$(".svg-watermark").length){var m=$("svg.main").clone();m.attr("class","svg-watermark"),m.appendTo(a)}$(".svg-twitter-avatar").length&&$(".svg-twitter-avatar").find("*").css("fill",window.targetColor),$(".svg-shirt").length&&(window.defaultTemplate&&!window.isGradientLogo?$(".svg-shirt").html(SmashingLogo.Utils.uniqueSVG(window.defaultTemplate.find("svg").html())):$(".svg-shirt").find("*").css("fill","#000000"))},this.setupBusinessCardTable=function(){var a=$("#slide-bc-mockup"),i="#000000"===window.hex1&&window.pastelHex2&&window.pastelHex2.length?window.pastelHex2:window.pastelHex1;if(a.css("background-color","#"+i),window.alternativeBackgroundColor&&window.backgroundBrightness>50&&a.css("background-color",SmashingLogo.ColorUtils.getMixedColor("#ffffff",window.alternativeBackgroundColor,.45)),a.find(".bc-mockup-bg-right-bottom").css("background",window.alternativeBackgroundColor||"transparent"),a.find(".bc-mockup-bg-left-bottom").css("background",window.targetColor||"#333333"),a.find(".color-overlay img").css({filter:SmashingLogo.ColorUtils.rotateColor("A49476",window.targetColor),opacity:"0.2"}),"#xxxxxx"===window.hex2||"#000000"===window.hex2||window.isGradientLogo?(a.find(".tablet-header").css("background",window.alternativeBackgroundColor||window.targetColor),a.find(".notepad-background").css("background",window.alternativeBackgroundColor||window.targetColor),a.find(".pencil-background").css("background",window.targetColor)):(a.find(".tablet-header").css("background",window.alternativeBackgroundColor||window.hex2),a.find(".notepad-background").css("background",window.alternativeBackgroundColor||window.hex2),a.find(".pencil-background").css("background",window.hex2)),0===$(".svg-bc-right-bottom").length){var e=window.activeTemplate&&window.alternativeBackgroundColor?window.activeTemplate.find("svg").clone():window.defaultTemplate.find("svg").clone();e.attr("class","svg-bc-right-bottom"),e.html(SmashingLogo.Utils.uniqueSVG(e.html())),e.appendTo(a)}if(0===$(".svg-bc-left-top").length){var n=window.defaultTemplate?window.defaultTemplate.find("svg").clone():window.activeTemplate.find("svg").clone();n.attr("class","svg-bc-left-top"),n.html(SmashingLogo.Utils.uniqueSVG(n.html())),n.appendTo(a)}if(0===$(".svg-bc-right-top").length){var t=n.clone();t.attr("class","svg-bc-right-top"),t.html(SmashingLogo.Utils.uniqueSVG(t.html())),t.appendTo($(".svg-bc-right-top-wrapper"))}if(0===$(".svg-bc-left-bottom").length){var o=window.activeTemplate&&window.alternativeBackgroundColor?window.activeTemplate.find("svg").clone():$("svg.main").clone();o.attr("class","svg-bc-left-bottom"),o.html(SmashingLogo.Utils.uniqueSVG(n.html())),o.appendTo(a)}var s=SmashingLogo.Utils.extractIconFromSvg($(".svg-bc-right-top"));s&&s.data&&s.data.suitableAsStandaloneIcon&&($(".svg-bc-right-top-wrapper").html('<svg class="svg-bc-right-top" width="100%" viewBox="'+s.data.bounds.x+" "+s.data.bounds.y+" "+s.data.bounds.width+" "+s.data.bounds.height+'"></svg>'),$(".svg-bc-right-top-wrapper").find(".svg-bc-right-top").append(s.jQueryObject),$(".svg-bc-right-top-wrapper").find("g:first").attr("fill-rule",s.data.fillRule),$(".svg-bc-right-top").addClass("standalone")),$(".svg-bc-right-top-wrapper").append('<div class="background-layer"></div>'),$(".svg-bc-right-top-wrapper .background-layer").css({background:window.hex1}),$(".svg-bc-right-top path").css("fill",window.hex1),$(".svg-bc-right-top").height()>.7*$(".svg-bc-right-top-wrapper").height()&&($(".svg-bc-right-top").css("width","auto"),$(".svg-bc-right-top").css("height","70%"))},this.setupCoffeeMug=function(){var a=$("#slide-coffee-mug"),i="#"+window.activeTemplate.attr("data-back-hex"),e=window.activeTemplate.find("svg"),n=SmashingLogo.ColorUtils.getUsedColorsOfPathElements(e),t=n.gradientColors.concat(n.solidColors)[0],o=!1;SmashingLogo.ColorUtils.brightnessByColor(i)>230&&(o=!0,i=t);var s=SmashingLogo.ColorUtils.hexToRgb(i),r=SmashingLogo.ColorUtils.getMixedColor("#ffffff",i,.65),d=SmashingLogo.ColorUtils.hexToRgb(r),l=SmashingLogo.ColorUtils.getMixedColor("#000000",i,.75);if(window.brandColor=i,window.brandColorRgb=s,window.lightBrandColorRgb=d,window.darkBrandColorRgb=SmashingLogo.ColorUtils.hexToRgb(l),a.find(".mockup-background-layer").css("background","linear-gradient(275deg, rgb("+s.r+", "+s.g+", "+s.b+") 46%, rgb("+d.r+", "+d.g+", "+d.b+")) 100% center"),0===$(".svg-mug").length){var g=$("svg.main").clone();g.attr("class","svg-mug"),g.html(SmashingLogo.Utils.uniqueSVG(e.html())),o&&g.find("path").css("fill","#ffffff"),g.appendTo($("#slide-coffee-mug"))}if(0===$(".svg-mug-business-card").length){var c=$("svg.main").clone();c.attr("class","svg-mug-business-card"),c.html(SmashingLogo.Utils.uniqueSVG(e.html())),c.appendTo($(".svg-business-card-wrapper"))}if(0===$(".svg-mug-business-card-light").length){var v=$("svg.main").clone();v.attr("class","svg-mug-business-card-light"),v.html(SmashingLogo.Utils.uniqueSVG(v.html())),v.appendTo($(".svg-business-card-wrapper-light"))}var m=SmashingLogo.Utils.extractIconFromSvg($(".svg-mug-business-card")),p=m&&m.data&&m.data.suitableAsStandaloneIcon;p&&($(".svg-business-card-wrapper").html('<svg class="svg-mug-business-card" width="100%" viewBox="'+m.data.bounds.x+" "+m.data.bounds.y+" "+m.data.bounds.width+" "+m.data.bounds.height+'"></svg>'),$(".svg-business-card-wrapper").find(".svg-mug-business-card").append(m.jQueryObject),$(".svg-business-card-wrapper").find("g:first").attr("fill-rule",m.data.fillRule),$(".svg-mug-business-card").addClass("standalone")),o?($(".svg-business-card-wrapper").css("background-color",t),$(".svg-mug-business-card path").css("fill","#ffffff")):($(".svg-business-card-wrapper").css("background-color",i),p&&$(".svg-mug-business-card path").css("fill",t)),$(".svg-business-card-wrapper-light").css("background-color","#ffffff"),$(".svg-mug-business-card-light path").css("fill","#000000"),$(".svg-mug-business-card").height()>.4*$(".svg-business-card-wrapper").height()&&($(".svg-mug-business-card").css("width","auto"),$(".svg-mug-business-card").css("height","40%")),p||($(".svg-mug-business-card").css("width","70%"),$(".svg-mug-business-card").css("height","auto"))},this.setupFontsSection=function(a,i,e,n){var t=$(".font-row.primary"),o=$(a);if(t.html('<div class="font-preview"></div><div class="font-description"><p>'+i+"</p></div>"),t.find(".font-preview").append(o),e){var s=$(".font-row.secondary"),r=$(e);s.html('<div class="font-preview"></div><div class="font-description"><p>'+n+"</p></div>"),s.find(".font-preview").append(r)}},this.setupIcon=function(){if(!$(".icon-container svg").length){var a=SmashingLogo.Utils.extractIconFromSvg(window.defaultTemplate.find("svg").clone());if(a&&a.data&&a.data.suitableAsStandaloneIcon){$page.body.hasClass("page-branding-guidelines")?$(".item-row.icon").removeClass("hidden"):$(".item-row.logo-components .component.icon").removeClass("hidden");var i=$('<svg class="svg-standalone-icon" width="100%" viewBox="'+a.data.bounds.x+" "+a.data.bounds.y+" "+a.data.bounds.width+" "+a.data.bounds.height+'"></svg>');i.append(a.jQueryObject),$(".icon-container .svg-wrapper").append(i),i.find("g:first").attr("fill-rule",a.data.fillRule)}else $page.body.hasClass("page-branding-guidelines")?$(".item-row.icon").addClass("hidden"):$(".item-row.logo-components .component.icon").addClass("hidden")}},this.setupInteractiveComponentsInContent=function(a){var i,e=$('#slide-tiles .primary-column .mutation[data-random-template="true"]'),n=e.find("svg"),t=SmashingLogo.Utils.extractIconFromSvg(n.clone());t&&t.data&&t.data.suitableAsStandaloneIcon&&((i=$('<svg class="svg-standalone-icon" width="100%" viewBox="'+t.data.bounds.x+" "+t.data.bounds.y+" "+t.data.bounds.width+" "+t.data.bounds.height+'"></svg>')).append(t.jQueryObject),i.find("g:first").attr("fill-rule",t.data.fillRule));var o=$(".item-row.logo-components");SmashingLogo.BrandingTiles.buildComponents(a,e,i).find(".component").each((function(){var e=$(this);switch(e.attr("data-component-type")){case"primary-font":case"secondary-font":o.find(".component-wrapper.fonts").append(e);break;case"color":o.find(".component-wrapper.colors").append(e);break;case"icon":i?o.find(".component-wrapper.icon").append(e):o.find(".component-wrapper.icon").addClass("hidden")}var n=o.find(".component-wrapper.fonts");n.css("background",a.primaryBrandColor),n.find(".section-title").css("color","#ffffff"),n.find(".font-preview svg path").css("fill",a.primaryBrandColor)}))},this.setupColorsSection=function(){0===$(".color-section-container").find(".palette").length&&a.addColorPalette()},this.addColorPalette=function(){var a=$('<div class="item-row brand-colors"></div>');a.append('<div class="item limited-width item-brand-colors"><div class="palette"></div></div>'),$(".color-section-container .item-rows").append(a);var i=a.find(".palette");SmashingLogo.Utils.buildColorPalette(i,$('.branding-tiles .primary-column .mutation[data-random-template="true"]'))},this.setupLiveYourDream=function(i){a.isLiveDreamAnimationEnabled()?a.setDynamicHeightForLiveYourDream():$page.envisionBrand.liveYourDreamMaskContainer.addClass("static-fallback");var e=$("#slide-live-your-dream");if(!e.hasClass("content-builded")||i){e.html("");var n=$("#slide-tiles .tiles-container .third-tile"),t=n.find(".fade-item").clone();-1===n.attr("data-style").indexOf("colored-hex")&&(t.find(".image-filter-clone").remove(),t.find(".coloring-tile").remove()),e.append(t);var o=n.find("svg.watermark-logo").clone();e.append(o),e.addClass("content-builded")}},this.setupPricing=function(){var a=$(".item-pricing");if(!a.hasClass("content-builded")){var i=window.activeTemplate.clone();i.html(SmashingLogo.Utils.uniqueSVG(i.html()));var e=$(".pricing-container-row .col-logo .svg-outer-container");e.append(i),e.closest(".col-logo").css("background-color","#"+i.attr("data-back-hex")),e.find("img.wm").remove(),SmashingLogo.LogoMaker.addWatermarkupToSvgs(e.find(".svg-container svg")),a.addClass("content-builded")}},this.setDynamicHeightForLiveYourDream=function(){$page.envisionBrand.liveYourDreamMask.css("height",$(window).height()+"px")},this.setupBillboard=function(){if(0===$(".svg-billboard").length){var a=$("svg.main").clone();a.attr("class","svg-billboard"),a.appendTo($("#slide-4"))}$(".svg-billboard").css({transform:"perspective(1400px) rotateY(-35deg) skew(0deg, -18deg) rotateX(0deg)"}),window.activeTemplate&&window.customColorBackgroundColor?($(".envision-brand .billboard-background-layer").css("background-color","#"+window.customColorBackgroundColor),$(".svg-billboard").html(SmashingLogo.Utils.uniqueSVG(window.activeTemplate.find("svg").html()))):($(".envision-brand .billboard-background-layer").css("background-color","transparent"),$(".svg-billboard").find("*").css("fill","#000000"))},this.setupSignboard=function(){var a=$("#slide-signboard");if(0===$(".svg-signboard").length){var i=$("svg.main").clone();i.attr("class","svg-signboard"),window.activeTemplate&&window.customColorBackgroundColor?($(".envision-brand .signboard-background-layer").css("background-color","#"+window.customColorBackgroundColor),i.html(SmashingLogo.Utils.uniqueSVG(window.activeTemplate.find("svg").html()))):($(".envision-brand .signboard-background-layer").css("background-color","transparent"),i.find("*").css("fill","#ffffff")),i.appendTo(a)}},this.setupBusinessCardPhoto=function(){var i=$("#slide-11");if(i.find(".overlay").css("filter",SmashingLogo.ColorUtils.rotateColor("8A7B60",a.getKeyColor(),!0)),0===$(".svg-bc-photo").length){var e=$("svg.main").clone();window.blackMagicTemplate.length&&"#xxxxxx"!==$page.body.attr("data-hex-2")&&!window.isGradientLogo?e.html(window.blackMagicTemplate.find("svg").html()):window.defaultTemplate&&window.isGradientLogo&&e.html(SmashingLogo.Utils.uniqueSVG(window.defaultTemplate.find("svg").html())),e.attr("class","svg-bc-photo"),e.appendTo(i)}},this.colorBrandingPackage=function(){$(".item-row.package .package-list .glyphicon").css("color",window.targetColor)},this.setupShirt=function(){var i=$("#slide-10");if(i.find(".overlay").css("filter",SmashingLogo.ColorUtils.rotateColor("6A5F4A",a.getKeyColor())),0===$(".svg-shirt-photo").length){var e=$("svg.main").clone();window.blackMagicTemplate.length&&"#xxxxxx"!==$page.body.attr("data-hex-2")&&!window.isGradientLogo?e.html(window.blackMagicTemplate.find("svg").html()):window.defaultTemplate&&window.isGradientLogo&&e.html(SmashingLogo.Utils.uniqueSVG(window.defaultTemplate.find("svg").html())),e.attr("class","svg-shirt-photo"),e.appendTo(i)}},this.activateAnimation=function(){if(!window.ongoingVivusAnimation){window.svgVivus&&($("#svg-vivus-back").remove(),$("#svg-vivus-front").remove(),window.svgVivus.destroy());var a=$("#slide-1"),i=$("svg.main").clone();i.attr("class","svg-vivus"),i.attr("id","svg-vivus-back"),i.appendTo(a);var e=$("svg.main").clone();e.attr("class","svg-vivus"),e.attr("id","svg-vivus-front"),e.appendTo(a),window.ongoingVivusAnimation=!0,window.svgVivus=new Vivus("svg-vivus-front",{type:"async",duration:200,dashGap:20,forceRender:!1,start:"manual"},(function(){window.setTimeout((function(){$("#svg-vivus-back").css("opacity","0.08"),window.ongoingVivusAnimation=!1}),200)})),window.setTimeout((function(){window.svgVivus.play()}),500)}},this.setupBookAnimation=function(){$("#slide-1").find(".overlay").css("filter",SmashingLogo.ColorUtils.rotateColor("EFD8AD",a.getKeyColor())+" blur(2px)")},this.setupDrawing=function(){var i=$("#slide-13");if(i.find(".overlay").css("filter",SmashingLogo.ColorUtils.rotateColor("AB9A7B",a.getKeyColor(),!0)),0===$(".svg-drawing").length){var e=$("svg.main").clone();e.attr("class","svg-drawing"),e.html(SmashingLogo.Utils.uniqueSVG(e.html())),e.appendTo(i)}$(".svg-drawing").find("*").css("fill",window.targetColor)},this.setupAnimations=function(){if(!$(".item-animations .animation-slide svg").length){window.logoMutations={},window.logoAnimations={},$(".preview-logo-source .mutation").each((function(){var a=$(this),i=a.attr("data-template-identifier");window.logoMutations[i]=a}));var i=$('.preview-logo-source .mutation[data-random-template="true"]').attr("data-template-identifier");$(".item-animations .animation-slide").each((function(){a.appendAnimation($(this),i,!0)}))}},this.appendAnimation=function(a,i,e){var n=a.attr("data-animation-identifier"),t=a.find(".inner-wrap");t.html("");var o=$('<div class="animation" id="'+n+'"></div>');t.append(o);var s=window.logoMutations[i],r=i;e&&("fadeSmooth"===n?r="InvertedHex1":"pulse"===n&&(r="SingleColorHex1")),s=window.logoMutations[r],o.attr("data-mutation-identifier",r);var d=s.find("svg"),l=d[0].outerHTML,g=SmashingLogo.ColorUtils.getUsedColorsOfPathElements(d),c=g.gradientColors.concat(g.solidColors),v={name:n,fps:25,background:"#"+s.attr("data-back-hex"),foreground:c};o.attr("data-animation-config",JSON.stringify(v));var m=window.animation.Animations.apply(o[0],SmashingLogo.Utils.uniqueSVG(l),v);if(window.logoAnimations[n]=m,m.hasColorSupport()&&e){for(var p=$('<ul class="animation-mutations-nav"></ul>'),w=0,u=Object.keys(window.logoMutations);w<u.length;w++){var h=u[w],f=$('<li class="animation-mutations-nav-item" data-mutation-identifier="'+h+'"></li>');f.append('<span class="hidden">'+h+"</span>"),s.attr("data-template-identifier")===h&&f.addClass("active"),p.append(f)}a.find(".download-animation-bar .mutations-nav-column").prepend(p)}a.css("background-color",m.config.background)},this.attachEventHandler=function(){if(!window.EnvisionBrandEventsAttached){window.EnvisionBrandEventsAttached=!0;var i,e,n=a.isLiveDreamAnimationEnabled(),t=$(".envision-brand-sub-navigation"),o=!!t.length;$(window).scroll((function(){n&&a.animateLiveDreamMask(),o&&(a.setActiveStateOfNavigation(),window.clearTimeout(i),i=setTimeout((function(){}),750))})),o&&t.find(".switch-modes .mode").on("click",(function(){if(!$page.body.hasClass("is-animated")){$page.body.addClass("is-animated");var a=$(this).attr("data-section"),i=$('.envision-brand-section[data-section="'+a+'"]');$("html,body").animate({scrollTop:i.position().top},800,(function(){$page.body.removeClass("is-animated")}))}})),$page.body.on("click",".item-row.logo-components .component",(function(){if($page.body.hasClass("interactive-components-bar")){var a,i=$(this),e=$page.body.find(".branding-tiles-bottom-bar"),n=$page.body.attr("data-logo-path");e.attr("data-dynamic-filters")&&(a=JSON.parse(e.attr("data-dynamic-filters")));var t=[];$(".item-row.logo-components").find(".logo-component[data-component-type]").each((function(){t.push($(this).attr("data-component-type"))})),SmashingLogo.BrandingTiles.buildInteractiveComponentsModal(i,n,t,a)}})),$page.body.on("click",".envision-section .branding-tiles .third-tile:not(.read-only)",(function(){var a=$(this),i={id:a.attr("data-image"),source:a.attr("data-image-source"),style:a.attr("data-style"),logo:a.attr("data-logo")},e=$page.body.attr("data-logo-path"),n=SmashingLogo.Utils.logoInfoFromSvgPath(e);n.userLangKey=$("html").attr("lang"),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/v3/envision/brand/info/",type:"POST",data:n,success:function(n){"failed"!==n?(SmashingLogo.BrandingTiles.buildBrandEditorModal(n,a.clone(),i,e),SmashingLogo.Utils.hideLoadingAnimation()):SmashingLogo.Utils.hideLoadingAnimation()}})})),$(".animation-module").length&&($page.envisionBrand.animationModuleSliderNext.on("click",(function(){var a=$(".animation-preview"),i=$(".animation-nav .mode.active").attr("data-animation-identifier"),e=a.find('.animation-slide[data-animation-identifier="'+i+'"]').index()+1;$(".animation-nav .mode").eq(e).trigger("click")})),$page.envisionBrand.animationModuleSliderPrev.on("click",(function(){var a=$(".animation-preview"),i=$(".animation-nav .mode.active").attr("data-animation-identifier"),e=a.find('.animation-slide[data-animation-identifier="'+i+'"]').index()-1;$(".animation-nav .mode").eq(e).trigger("click")})),$page.envisionBrand.animationModuleContainer.scroll((function(){a.handleAnimationModuleUI()})),$page.body.on("click",".animation-nav .switch-modes .mode",(function(){var a=$(".animation-preview");if(a.hasClass("is-animated"))return!1;a.addClass("is-animated");var i=$(this),e=i.attr("data-animation-identifier"),n=$('.animation-slide[data-animation-identifier="'+e+'"]'),t=n.index(),o=n.position().left,s=$(window).width()*window.animationSlideOffsetFactor;a.closest(".animation-preview-wrapper").attr("data-active-animation",e),a.removeClass("left-end-reached"),a.removeClass("right-end-reached"),0===t?a.addClass("left-end-reached"):t===a.find(".animation-slide").length-1&&a.addClass("right-end-reached"),a.animate({scrollLeft:"+="+(o-s)},800,(function(){a.removeClass("is-animated"),window.logoAnimations[e].play();for(var i=0,n=Object.keys(window.logoAnimations);i<n.length;i++){var t=n[i];t!==e&&window.logoAnimations[t].reset()}})),i.addClass("active").siblings().removeClass("active")})),$page.body.on("click",".animation-mutations-nav-item",(function(){var i=$(this);if(!i.hasClass("active")){var e=i.attr("data-mutation-identifier"),n=i.closest(".animation-slide").attr("data-animation-identifier");window.logoAnimations[n].reset(),a.appendAnimation($('.animation-slide[data-animation-identifier="'+n+'"]'),e),window.logoAnimations[n].play(),i.addClass("active").siblings().removeClass("active")}}))),$page.window.on("resize",(function(){clearTimeout(e),$page.window.width()!==window.windowWidth&&(window.windowWidth=$page.window.width(),a.envisionSujetHeight(),a.buildContent(),$(".animation-module").length&&(e=setTimeout(a.setAnimationsSliderLayout,200)))})),document.addEventListener("swiped-left",(function(a){$(a.target).closest(".animation-slide").length&&!$(a.target).closest(".animation-preview").hasClass("right-end-reached")&&$(".animation-preview-wrapper .slider-next").trigger("click")})),document.addEventListener("swiped-right",(function(a){$(a.target).closest(".animation-slide").length&&!$(a.target).closest(".animation-preview").hasClass("left-end-reached")&&$(".animation-preview-wrapper .slider-prev").trigger("click")}))}},this.animateLiveDreamMask=function(){var i=$(window).width()<=768?70:55,e=1e4*a.getScrollProgress();$page.envisionBrand.liveYourDreamMask.css("maskSize","auto "+(i+e)+"%")},this.isLiveDreamAnimationEnabled=function(){return 0!==$page.envisionBrand.liveYourDreamMaskContainer.length},this.getScrollProgress=function(){var a=0;return a+=.15*($page.envisionBrand.liveYourDreamMask.position().top/($page.envisionBrand.liveYourDreamMaskContainer.height()-$(window).height())-a),$page.envisionBrand.liveYourDreamMask.find("svg.watermark-logo").css("opacity",Math.max(parseInt($page.envisionBrand.liveYourDreamMask.position().top)/1e3),1),a},this.envisionSujetHeight=function(){var a=$page.window.width()/$page.window.height();$page.envisionBrand.container.removeClass("portrait-mode"),a<.82&&$page.envisionBrand.container.addClass("portrait-mode"),$(".sujet-container").each((function(){var a=$(this),i=$(".envision-brand .sujet-containers .items #slide-overview img"),e=parseInt(i.attr("width"))/parseInt(i.attr("height"));if("slide-tiles"===a.attr("id"))return!0;var n=a.width();$page.envisionBrand.container.hasClass("portrait-mode")?a.css("height",n*e):a.css("height",n/e)}))},this.getCanvasHeight=function(){var a=0,i=0,e=40;return $page.body.hasClass("page-preview")?(a=$(".seamless-header-container").length?$(".seamless-header-container").height():0,i=$(".envision-cta-footer").outerHeight()):($page.body.hasClass("page-shared")||$page.body.hasClass("page-branding-guidelines"))&&(a=$(".header-container").length?$(".header-container").height():0,e=100),$(window).height()-a-i-e},this.fadeImagesOfGivenContainer=function(a){var i=a.find(".fade-item.active").index(),e=i+1;i>=a.find(".fade-item").length-1&&(e=0),$(".watermark-fade-nav").length&&$(".watermark-fade-nav").find("a").eq(e).addClass("active").siblings().removeClass("active"),a.find(".fade-item").eq(e).addClass("active").siblings().removeClass("active")},this.getKeyColor=function(){return SmashingLogo.ColorUtils.brightnessByColor(window.hex2)>SmashingLogo.ColorUtils.brightnessByColor(window.hex1)&&!window.isGradientLogo?window.hex2:window.hex1},this.setAnimationsSliderLayout=function(){var a=$(window).width()>=1301;window.animationSlideOffsetFactor=a?.2:0,window.animationSlideOffsetFactor=0,$(".animation-nav .mode.active").trigger("click")},this.handleAnimationModuleUI=function(){var a=$page.envisionBrand.animationModuleContainer,i=a.scrollLeft();if(i>0){$page.envisionBrand.animationModuleSliderPrev.removeClass("hidden");var e=a.width(),n=a.find("> .animation-slide:visible"),t=$(window).width()*window.animationSlideOffsetFactor,o=[],s=0;n.each((function(){o.push($(this).position().left+i)}));for(var r=0;r<o.length;r++)if(o[r]>i+e-a.find("> .animation-slide:first").width()+t){s=o[r];break}0===s?$page.envisionBrand.animationModuleSliderNext.addClass("hidden"):$page.envisionBrand.animationModuleSliderNext.removeClass("hidden")}else $page.envisionBrand.animationModuleSliderPrev.addClass("hidden"),$page.envisionBrand.animationModuleSliderNext.removeClass("hidden")},this.setActiveStateOfNavigation=function(){var i=$(".envision-brand-section"),e=SmashingLogo.Utils.getMostVisible(i).attr("data-section"),n=$('.envision-brand-sub-navigation .mode[data-section="'+e+'"]'),t=$(".envision-brand-sub-navigation .switch-modes");e===t.find(".mode.active").attr("data-section")||t.hasClass("animation-in-progress")||a.animateActiveItemInView(t,n),clearTimeout($.data(this,"scrollTimer")),$.data(this,"scrollTimer",setTimeout((function(){a.animateActiveItemInView(t,n)}),500)),n.addClass("active").siblings().removeClass("active"),"pricing"===e?$page.body.addClass("last-section-reached"):$page.body.removeClass("last-section-reached")},a.animateActiveItemInView=function(a,i){if(i.length&&!$page.body.hasClass("is-animated")){var e=a.scrollLeft()+i.offset().left-2*parseInt(i.css("marginLeft"));i.offset().left>0&&i.offset().left+i.outerWidth()<$(window).width()||(a.addClass("animation-in-progress"),a.animate({scrollLeft:e},300,(function(){a.removeClass("animation-in-progress")})))}},this.showUiControls=function(){var a=$(".branding-tiles-bottom-bar.fixed-position");0!==a.length&&(a.removeClass("slide-out"),$(".scroll-indicator").removeClass("fade-out"))},this.hideUiControls=function(){var a=$(".branding-tiles-bottom-bar.fixed-position");0!==a.length&&(a.addClass("slide-out"),$(".scroll-indicator").addClass("fade-out"))}}SmashingLogo.EnvisionBrand=new EnvisionBrand;
"use strict";function _defineProperty(e,t,o){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function LogoMaker(){var e=this;window.components={industries:{loaded:!1},logos:{loaded:!1}};window.pendingAutoplayIds=[],SmashingLogo.Utils.isIntersectionObserverSupported()?window.backgroundTransitionObserver=new IntersectionObserver((function(e){e.forEach((function(e){var t=$(e.target);e.isIntersecting?($(".preview-outer-container").css("background-color",t.attr("data-highlight-color")),t.addClass("focused-item"),$page.body.hasClass("ken-burns-effect-enabled")&&t.find(".customizable-tile .fade-item").addClass("animated")):(t.removeClass("focused-item"),$page.body.hasClass("ken-burns-effect-enabled")&&t.find(".customizable-tile .fade-item").removeClass("animated"))}))}),{rootMargin:"0px",threshold:.9}):($page.body.addClass("disable-background-transition"),$(".preview-container .item").each((function(){var e=$(this);e.css("background-color",e.attr("data-highlight-color"))}))),$page.inputs={name:$("#companyName"),tagline:$("#companyTagline"),industries:$("#companyIndustries"),brandAttributes:$("#companyKeywords"),variationHiddenField:$("#variationTypeHiddenField"),variationHiddenFieldQuickEdit:$("#variationTypeHiddenFieldQuickEdit")},$page.buttons.generateMore=$(".btn-generate-more"),$page.buttons.deleteFavorites=$('.btn[data-target="#modalDeleteAllExceptFavorites"]'),$page.virtualDesignerBar=$(".virtual-designer-bar"),$page.logoMakerNavBar=$(".logo-maker-nav-bar"),$page.headerContainer=$(".header-container"),$page.overallInputScoreTooltip=$(".overall-input-score .step-info-icon"),$page.modalFavoriteLimit=$("#modalFavoriteLimitReached"),$page.modalIconFavoriteLimit=$("#modalIconFavoriteLimitReached"),$page.modalImageFavoriteLimit=$("#modalImageFavoriteLimitReached"),$page.onboardingBackground=$(".industry-background-layer"),$page.onboardingProgress=$(".onboarding-progress-animation .percent-progress"),$page.onboardingPercentageNumber=$page.onboardingProgress.find(".percentage-number"),this.init=function(){e.attachEventHandler(),$.ajax({url:"/session/info/logo-maker/",type:"GET",timeout:6e4,success:function(t){t.isKenBurnsEffectEnabled&&$page.body.addClass("ken-burns-effect-enabled"),t.isInteractiveComponentsEnabled&&$page.body.attr("data-interactive-components-status","enabled"),e.buildContent(t),e.switchOnboardingMedia(t.onboardingMedia),e.applyInputScores(t)},error:function(){console.log("process error")}})},this.ajaxIndustries=function(t){return $.ajax({url:"/v2/inds?lang="+$("html").attr("lang"),type:"GET",timeout:6e4,success:function(o){var a=new Bloodhound({local:$.map(o.l10n,(function(t){return{key:t.key,value:e.normalizeStringForIndustrySearch(t.translation),translation:t.translation}})),datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:function(t){return Bloodhound.tokenizers.whitespace(e.normalizeStringForIndustrySearch(t))}});a.initialize();var n=new Bloodhound({local:o.en,datumTokenizer:Bloodhound.tokenizers.obj.whitespace("translation"),queryTokenizer:Bloodhound.tokenizers.whitespace});n.initialize();var i=[{menu:$(".typeahead-industries-results"),highlight:!0,hint:!1},{name:"industries-l10n",displayKey:"translation",source:a.ttAdapter(),limit:50,templates:{suggestion:function(t){return e.industrySuggestionTemplate(t.key,t.translation)},notFound:function(t){return'<div class="add-freeinput"><span class="glyphicon glyphicon-plus"></span><span class="term">'+e.validateIndustryString(t.query)+"</span></div>"}}}];"en"!==$("html").attr("lang")&&i.push({name:"industries-en",displayKey:"translation",source:n.ttAdapter(),limit:50,templates:{header:'<div class="tt-header"><h3>'+window.i18nResultsInEnglish+"</h3></div>",suggestion:function(t){return e.industrySuggestionTemplate(t.key,t.translation)},notFound:function(e){return""}}}),$page.inputs.industries.tagsinput({maxTags:3,itemValue:"key",itemText:"translation",typeaheadjs:i});var r=$(".input-container.industry .tt-input");if(r.bind("typeahead:render",(function(e,t){var o=$(".typeahead-industries-results .tt-dataset .tt-suggestion:first");if(o.length&&r.offset().top>o.offset().top){var a=$("html,body"),n=0;$page.body.hasClass("take-tour")?n=o.offset().top-o.outerHeight()-20:$page.body.hasClass("take-tour")||"#industry"!==$(".local-nav .section-nav li.active a:first").attr("data-hash")||(a=$page.logoMakerNavBar.find(".config-column"),n=o.position().top-o.outerHeight()-20),a.scrollTop(n)}})),$(".typeahead-industries-results .tt-dataset").on("click",".add-freeinput",(function(){var t=e.validateIndustryString($(".typeahead-industries-results .tt-dataset .add-freeinput .term").text()),o="freeinput_"+t.toLowerCase().trim().replace(/\s+/g,"_");$page.inputs.industries.tagsinput("add",{key:o,translation:t}),e.addCustomIndustryToLocalStorage(o,t)})),t.companyIndustries&&t.companyIndustries.length){var s=t.companyIndustries.split(","),d=e.addItemsToTagsInput([o.l10n,o.en],s,$page.inputs.industries);if("undefined"!=typeof Storage)for(var l=window.localStorage.getItem("customIndustries"),c=l?JSON.parse(l):[],g=0;g<c.length;g++){var p=c[g].key,u=c[g].translation;s.indexOf(p)>=0&&-1===d.indexOf(p)&&$page.inputs.industries.tagsinput("add",{key:p,translation:u},{preventPost:!0})}$page.body.hasClass("take-tour")&&e.nextTourButtonState()}e.handleIndustrySlots($page.inputs.industries.tagsinput("items"))}})},this.ajaxBrandAttributes=function(){return SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/v2/bkw?lang="+$("html").attr("lang"),type:"GET",timeout:6e4,success:function(t){var o=new Bloodhound({local:t.all,datumTokenizer:Bloodhound.tokenizers.obj.whitespace("translation"),queryTokenizer:Bloodhound.tokenizers.whitespace});if(o.initialize(),$page.inputs.brandAttributes.tagsinput({maxTags:5,itemValue:"key",itemText:"translation",typeaheadjs:{name:"keywords",displayKey:"translation",source:o.ttAdapter()}}),t.companyKeywords&&t.companyKeywords.length){var a=t.companyKeywords.split(",");e.addItemsToTagsInput([t.all],a,$page.inputs.brandAttributes),$page.body.hasClass("take-tour")&&e.nextTourButtonState()}if(""===$page.inputs.brandAttributes.val()&&($(".recommended-colors .provide-brand-attributes").removeClass("hidden"),$(".recommended-fonts .provide-brand-attributes").removeClass("hidden")),$(".select-attributes-column .keywords.suggested").length&&$(".select-attributes-column .keywords.suggested").remove(),$(".select-attributes-column .suggested-keywords-headline").length&&$(".select-attributes-column .suggested-keywords-headline").remove(),$(".select-attributes-column .all-keywords-headline").length&&$(".select-attributes-column .all-keywords-headline").remove(),t.suggested&&t.suggested.length){for(var n=$('<ul class="keywords suggested"></ul>'),i=0;i<t.suggested.length;i++){var r=t.suggested[i],s=$('<li class="keyword"></li>'),d=$('<div class="keyword-filter-tag" data-keyword="'+r.key+'"></div>'),l=$('<div class="icon"><img src="/static/img/keywords/'+r.key+'.svg" /></div>'),c=$('<span class="text">'+r.translation+"</span>");d.append(l),d.append(c),s.append(d),n.append(s)}$('<h3 class="all-keywords-headline">'+window.i18nAllAttributes+"</h3>").insertBefore(".select-attributes-column ul.keywords"),$(".select-attributes-column").prepend(n),$(".select-attributes-column").prepend('<h3 class="suggested-keywords-headline">'+window.i18nSuggestedAttributes+"</h3>")}e.applyActiveAttributes(),SmashingLogo.Utils.hideLoadingAnimation()}})},this.setupBrandAttributes=function(){$page.inputs.brandAttributes.on("itemRemoved itemAdded",(function(t){if(t.options&&t.options.preventPost)return!1;SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-bkw/",type:"POST",data:{bkw:$page.inputs.brandAttributes.val()},success:function(t){e.applyActiveAttributes(),e.nextTourButtonState(),e.updateColorSpectrums(t.recommendedColors,t.selectedColors),e.updateFontCategories(t.recommendedFonts,t.selectedFonts),e.applyInputScores(e.mockDataForInputScores()),SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})}))},this.applyActiveAttributes=function(){var t=$(".chosen-attributes-inner-column .attributes"),o=$page.inputs.brandAttributes.val();if(t.html(""),$(".keyword-filter-tag").removeClass("active"),o){var a=$page.inputs.brandAttributes.tagsinput("items");5===a.length?e.brandAttributesLimitReached():e.brandAttributesLimitNotReached();for(var n=0;n<5;n++)if(a[n]){var i=a[n].key,r=a[n].translation,s=$('<div class="attribute" data-keyword="'+i+'"></div>'),d=$('<button class="remove-attribute-favorite"><span class="glyphicon glyphicon-remove"></span></button>'),l=$('<div class="inner-container"><img src="/static/img/keywords/'+i+'.svg"></img><span class="text">'+r+"</span></div>");s.append(l).append(d),$('.keyword-filter-tag[data-keyword="'+i+'"]').addClass("active"),t.append(s)}else{var c=$('<div class="placeholder"></div>');t.append(c)}}else for(var g=0;g<5;g++)t.append('<div class="placeholder"></div>')},this.brandAttributesLimitReached=function(){$(".section-brand-attributes").addClass("attribute-limit-reached")},this.brandAttributesLimitNotReached=function(){$(".section-brand-attributes").removeClass("attribute-limit-reached")},this.addItemsToTagsInput=function(e,t,o){for(var a=[],n=0;n<t.length;n++)for(var i=0;i<e.length;i++)for(var r=e[i],s=0;s<r.length;s++){var d=r[s].key,l=r[s].translation;d===t[n]&&-1===a.indexOf(d)&&(o.tagsinput("add",{key:d,translation:l},{preventPost:!0}),a.push(d))}return a},this.industrySuggestionTemplate=function(t,o){for(var a=[],n=$page.inputs.industries.tagsinput("items"),i=0;i<n.length;i++)a.push(n[i].key);return'<div class="tt-suggestion '+(a.indexOf(t)>=0?"active":"inactive")+'" data-industry-identifier="'+t+'"><div class="industry-image-wrap"> '+('<img class="industry-image" src="'+e.getImageSourceForIndustry(t)+'" width="150" height="150" />')+'</div><span class="industry-name">'+o+'</span><span class="glyphicon glyphicon-plus"></span></div>'},this.loadingAnimationCheck=function(t){e.areAllComponentsReady(t)&&SmashingLogo.Utils.hideLoadingAnimation()},this.areAllComponentsReady=function(e){for(var t in e)if(!e[t].loaded)return!1;return!0},this.buildContent=function(t){if($.when(e.ajaxIndustries(t)).done((function(){window.components.industries.loaded=!0,e.loadingAnimationCheck(window.components)})),$page.body.on("logosReady",(function(){window.components.logos.loaded=!0,e.loadingAnimationCheck(window.components),window.backgroundTransitionObserver&&document.querySelectorAll(".preview-container .item").forEach((function(e){e&&window.backgroundTransitionObserver.observe(e)}))})),e.tabSettings(t),e.updateColorSpectrums(t.recommendedColorSpectrums,t.colorSpectrums),e.updateFontCategories(t.recommendedFontCategories,t.fontCategories),SmashingLogo.Utils.appendReusableCloseButton(),e.setupIndustryKeywords(),e.setupBrandAttributes(),e.setupColorSelectionRadioButtons(t),e.setupFontSelectionRadioButtons(t),SmashingLogo.ManageFavorites.setFavoriteCount(t.favoriteCount),e.setIconFavoriteCount(t.iconFavoriteCount),e.setImageFavoriteCount(t.imageFavoriteCount),t.activeSession){if(window.location.hash){var o=window.location.hash.replace("#","");if(e.getTourSteps().indexOf(o)>=0&&"tour-completed"!==o)return e.activateTourSection(o),SmashingLogo.Utils.hideLoadingAnimation(),void(t.logoFileNames.length>0&&e.appendRenderedSvgLogos(t,$(".preview-container")))}$page.body.removeClass("not-started-yet"),$page.body.addClass("active-session"),0===t.logoFileNames.length?e.setupForSessionWithNoLogos():e.appendRenderedSvgLogos(t,$(".preview-container"))}else e.setupForNewUser()},this.fillNameAndTagline=function(e){$page.inputs.name.val(e.companyName),$page.inputs.tagline.val(e.companyTagline)},this.setCharacterCountForName=function(){var t=$(".input-container.logo-name .character-count .count"),o=$page.inputs.name.val().length;t.html(o);var a=e.getNameScore($page.inputs.name.val());t.removeClass("good").removeClass("bad").removeClass("ugly"),a>70?t.addClass("good"):a>40?t.addClass("bad"):t.addClass("ugly")},this.setCharacterCountForTagline=function(){var t=$(".input-container.slogan .character-count .count"),o=$page.inputs.tagline.val().length;t.html(o);var a=e.getTaglineScore($page.inputs.tagline.val());t.removeClass("good").removeClass("bad").removeClass("ugly"),a>70?t.addClass("good"):a>40?t.addClass("bad"):t.addClass("ugly")},this.getAnimationSpeedForCarousel=function(){return $page.window.width()>1200?800:$page.window.width()>700?600:300},this.attachEventHandler=function(){$page.body.on("click","#modalCredits .package .image-wrap",(function(){$(this).closest(".package").find(".btn.buy").trigger("click")})),$page.body.on("click","#modalCredits .package .actions .btn.buy",(function(){})),$page.body.on("click","#modalInteractiveComponent .item .logo-preview",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this).attr("data-svg-file-path"),o=t.substr(t.indexOf("_hex")-9,9);$.ajax({url:"/editor/override-design/",type:"POST",data:{logoPath:t,s:SmashingLogo.Utils.getParameterByName("s",window.location)},timeout:6e4,success:function(t){e.overrideDesignCallback(t,o),SmashingLogo.Utils.hideLoadingAnimation(),$("#modalInteractiveComponent").modal("hide")},error:function(){console.log("process error")}})})),$page.body.on("click","#modalInteractiveComponent .item .btn-switch-to-design",(function(){$(this).closest(".item").find(".logo-preview").trigger("click")})),$page.body.on("click","#modalInteractiveComponent .dropdown-menu .item",(function(){var e=$(this).attr("data-component"),t=$("#modalInteractiveComponent").attr("data-logo-id");$('.preview-container .item[data-logo-id="'+t+'"]').find('.branding-tiles-bottom-bar .component[data-component-type="'+e+'"]').trigger("click")})),$page.body.on("click",".preview-container .item .logo-preview svg",(function(){SmashingLogo.Utils.showLoadingAnimation(),window.location.assign($(this).closest(".item").find(".logo-option-button.envision").attr("href"))})),$page.body.on("click",".preview-container .item .second-tile svg",(function(){SmashingLogo.Utils.showLoadingAnimation(),window.location.assign($(this).closest(".item").find(".logo-option-button.envision").attr("href"))})),$(window).on("hashchange",(function(){if(window.location.hash){var t=window.location.hash.replace("#","");e.getTourSteps().indexOf(t)>=0&&e.activateTourSection(t)}})),$(window).scroll((function(){$page.body.hasClass("take-tour")&&"tour-designer"===$page.body.attr("data-tour-step")&&e.setActiveDesignerNav()})),$page.logoMakerNavBar.find(".config-column").scroll((function(){$page.body.hasClass("take-tour")||"#virtual-designers"!==$(".local-nav .section-nav li.active a:first").attr("data-hash")||e.setActiveDesignerNav()})),$page.body.on("click","#modalHistory .horizontal-logo-wrapper .item",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this).find(".logo-preview").attr("data-svg-file-path"),o=t.substr(t.indexOf("_hex")-9,9);$.ajax({url:"/editor/override-design/",type:"POST",data:{logoPath:t,s:SmashingLogo.Utils.getParameterByName("s",window.location)},timeout:6e4,success:function(t){e.overrideDesignCallback(t,o),SmashingLogo.Utils.hideLoadingAnimation(),$("#modalHistory").modal("hide")},error:function(){console.log("process error")}})})),window.addEventListener("error",(function(e){if("undefined"!=typeof Sentry&&e.srcElement&&"IMG"===$(e.srcElement).prop("tagName")){var t=$(e.srcElement).attr("src");t&&t.indexOf("unsplash")>=0&&Sentry.captureMessage("Image not loaded: "+t)}}),!0),$page.modalFavoriteLimit.find(".btn-open-favorite-modal").on("click",(function(){$page.modalFavoriteLimit.modal("hide"),$page.body.find(".btn-manage-favorites").trigger("click")})),$page.inputs.name.on("input",(function(){e.setCharacterCountForName()})),$page.inputs.tagline.on("input",(function(){e.setCharacterCountForTagline()})),$page.body.on("click",".logo-type-container li .logo-type, .logo-type-container li .checkmark",(function(){$(this).closest("li").toggleClass("active"),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-logo-types/",type:"POST",data:{logoTypes:e.getActiveLogoTypes()},success:function(){SmashingLogo.Utils.hideLoadingAnimation(),e.applyInputScores(e.mockDataForInputScores())},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})})),$page.body.on("click",".section-brand-attributes .keyword-filter-tag",(function(e){e.preventDefault(),SmashingLogo.Utils.showLoadingAnimation();var t=$(this),o=$(".chosen-attributes-inner-column .attributes"),a=t.hasClass("active"),n=t.attr("data-keyword"),i=t.find(".text").text();a?(t.removeClass("active"),$page.inputs.brandAttributes.tagsinput("remove",n)):o.find(".attribute").length<5?(t.addClass("active"),$page.inputs.brandAttributes.tagsinput("add",{key:n,translation:i})):SmashingLogo.Utils.hideLoadingAnimation()})),$page.body.on("click",".remove-attribute-favorite",(function(){var e=$(this).closest(".attribute").attr("data-keyword");$('.select-attributes-column .keyword-filter-tag[data-keyword="'+e+'"]').trigger("click")})),$page.body.on("click","#presentation-carousel .carousel-indicators li",(function(){$("#presentation-carousel").carousel("pause")})),$(".page-purchases").on("click","#additional-color-carousel .carousel-indicators li",(function(){$("#additional-color-carousel").carousel("pause")})),$page.body.on("click","#presentation-carousel .carousel-control",(function(){$("#presentation-carousel").carousel("pause")})),$(".page-purchases").on("click","#additional-color-carousel .carousel-control",(function(){$("#additional-color-carousel").carousel("pause")})),$page.body.on("click",".btn-generate-more",(function(t){t.preventDefault(),""===$page.inputs.name.val()||$page.inputs.name.val().length<2?$("#modalMissingLogoName").modal():(e.applyInputScores(e.mockDataForInputScores()),e.generate())})),$page.body.on("click",".btn-close-favorite-mode",(function(){$(".fullpage-bg-layer").remove(),$page.body.removeClass("favorites-view"),$(".preview-container .item").removeClass("favorite-highlight-mode").removeClass("nth-child-1").removeClass("nth-child-2").removeClass("nth-child-3"),$(".btn-close-favorite-mode").remove(),$(".temp-headline-favorites").remove()})),$page.body.on("click",".preview-container .item .carousel-control",(function(e){e.preventDefault();var t=$(this).closest(".item"),o=t.find(".mutation-nav-item.active").index(),a=$(this).hasClass("right")?o+1:o-1;a=(a=a>=t.find(".mutation-nav-item").length?0:a)<0?t.find(".mutation-nav-item").length-1:a,t.find(".mutation-nav-item:eq("+a+")").trigger("click")})),$page.body.on("click",".envision-background-progress .progress-item",(function(){var e=$(this);e.addClass("active").siblings().removeClass("active");var t=$(".envision-background .images .image").eq(e.index());t.addClass("active").siblings().removeClass("active"),t.attr("data-image-src")&&t.css("background-image","url("+t.attr("data-image-src")+")")})),$page.body.on("click",".preview-container .item .third-tile:not(.read-only)",(function(){var e=$(this),t={id:e.attr("data-image"),source:e.attr("data-image-source"),style:e.attr("data-style"),logo:e.attr("data-logo")},o=e.closest(".item").find(".logo-preview").attr("data-svg-file-path"),a=SmashingLogo.Utils.logoInfoFromSvgPath(o);a.userLangKey=$("html").attr("lang"),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/v3/envision/brand/info/",type:"POST",data:a,success:function(a){"failed"!==a?(SmashingLogo.BrandingTiles.buildBrandEditorModal(a,e.clone(),t,o),SmashingLogo.Utils.hideLoadingAnimation()):SmashingLogo.Utils.hideLoadingAnimation()}})})),$page.body.on("click",".logo-option-button.envision, .logo-option-button.buy, .logo-option-button.edit",(function(){SmashingLogo.Utils.showLoadingAnimation()})),$('input[type="radio"][name="radio-colors-selection"]').change((function(){var t=this.value;"recommended"==t?($(".generate-config-column .section-colors .recommended-colors").removeClass("hidden"),$(".generate-config-column .section-colors .custom-colors").addClass("hidden")):"custom"==t&&($(".generate-config-column .section-colors .recommended-colors").addClass("hidden"),$(".generate-config-column .section-colors .custom-colors").removeClass("hidden")),$.ajax({url:"/update-color-selection-policy/",type:"POST",data:{colorSelectionPolicy:"custom"===t?"custom":"recommended"},success:function(){e.nextTourButtonState()}})})),$('input[type="radio"][name="radio-fonts-selection"]').change((function(){var e=this.value;"recommended"==e?($(".generate-config-column .section-fonts .recommended-fonts").removeClass("hidden"),$(".generate-config-column .section-fonts .custom-fonts").addClass("hidden")):"custom"==e&&($(".generate-config-column .section-fonts .recommended-fonts").addClass("hidden"),$(".generate-config-column .section-fonts .custom-fonts").removeClass("hidden")),$.ajax({url:"/update-font-selection-policy/",type:"POST",data:{fontSelectionPolicy:"custom"===e?"custom":"recommended"}})})),$page.body.on("click",".logo-maker-nav-bar .section-nav > li",(function(t){t.preventDefault();var o=$(this).find("a").attr("data-hash"),a=$(this);if(!$page.body.hasClass("take-tour")||void 0!==t.isTrigger)if(a.hasClass("active"))e.closeConfigColumn();else{if($page.body.hasClass("take-tour")||$page.logoMakerNavBar.find(".config-column").scrollTop(0),"#voting"===o)return e.shareLinksSetup(),$("#modalVoting").modal("show"),void e.closeConfigColumn();if("#icon"===o?SmashingLogo.EmbeddedIconSearch.buildIconSection({excludedGroups:["favorites"],buildIconSlots:!0}):"#image"===o?SmashingLogo.EmbeddedImageSearch.buildImageSection():"#brand-attributes"===o&&e.ajaxBrandAttributes(),$page.body.hasClass("take-tour")&&"#colors"===o)"#brand-attributes"===$(".logo-maker-nav-bar .section-nav > li.active a").attr("data-hash")&&$(".tour-buttons .btn-next").hasClass("skip-state")&&$("#radio-custom-colors").trigger("click");$page.body.addClass("show-config-column"),a.addClass("active").siblings().removeClass("active"),$('.generate-config-column .config-section[data-section="'+o.replace("#","")+'"]').addClass("active").siblings().removeClass("active")}})),$page.body.on("click",".logo-maker-nav-bar .btn-generate-final-tour",(function(){if(""===$page.inputs.name.val()||$page.inputs.name.val().length<2)return e.setTourHash("tour-name"),void $("#modalMissingLogoName").modal();if($(".preview-container .item").length>0)return e.switchUIFromTourToLogoMaker(),void $(".action-buttons .btn-generate-more").trigger("click");var t=$page.virtualDesignerBar.find(".speech-bubble");t.find(".messages").html('<div class="message active"><p>'+window.i18nCockyLine+"</p></div>"),t.find(".message-browser").html(""),e.expandedDesignerView(),$page.body.addClass("designer-work-in-progress"),SmashingLogo.percentAnimationDone=$.Deferred(),e.resetPercentageProgress(),window.setTimeout((function(){$page.onboardingProgress.addClass("visible"),SmashingLogo.onboardingPercentInterval=window.setInterval((function(){e.updatePercentageProgress()}),80)}),1500),e.disableGenerateButtons(),$.ajax({url:"/v2/logos/generate/",type:"POST",data:e.getAjaxParams(),success:function(t){e.generateCallbackSuccess(t)}}),$.when(SmashingLogo.percentAnimationDone).done((function(){$page.body.hasClass("designer-work-in-progress")&&e.switchUIFromTourToLogoMaker()}))})),$page.body.on("click",".logo-maker-nav-bar .section-change-text .btn-update-name-tagline",(function(){e.updateNameAndTaglineOnServer()})),$page.body.on("click",".logo-maker-nav-bar .config-section .btn-close-config",(function(){e.closeConfigColumn()})),$page.body.on("click",".logo-maker-nav-bar .config-section .btn-choose-brand-attributes",(function(){$page.body.hasClass("take-tour")&&e.setTourHash("tour-attributes"),e.followRecommendation("brand-attributes")})),$page.body.on("click",".virtual-designer-bar .notification-link",(function(t){t.preventDefault(),e.expandedDesignerView()})),$page.body.on("click",".virtual-designer-bar.collapsed-view img",(function(t){t.preventDefault(),e.expandedDesignerView()})),$page.body.on("click",".virtual-designer-bar:not(.collapsed-view) img, .switch-designer-button",(function(t){if(t.preventDefault(),e.collapsedDesignerView(),!$page.body.hasClass("take-tour")){var o=$('.logo-maker-nav-bar .section-nav a[data-hash="#virtual-designers"]').parent();o.hasClass("active")||o.trigger("click")}})),$page.body.on("click",".virtual-designer-bar .collapse-designer-link",(function(t){t.preventDefault(),e.collapsedDesignerView(),$page.body.hasClass("not-started-yet")&&!$page.body.hasClass("show-config-column")&&window.setTimeout((function(){e.openTextConfigTab()}),1500)})),$page.body.on("click",".virtual-designer-bar .follow-recommendation-link",(function(t){t.preventDefault();var o=$(this).attr("data-recommendation");if(e.collapsedDesignerView(),"get-started"===o);else if("brandAttributes"===o)e.followRecommendation("brand-attributes");else if("industry"===o)e.followRecommendation("industry");else if("icon"===o)e.followRecommendation("icon");else if("text"===o)e.followRecommendation("text");else if("generate-now"===o)$(".action-buttons .btn-generate-more").trigger("click");else if("trySomethingNew"===o){var a=e.getPersistentNonErrorMessages();a.trySomethingNew&&(delete a.trySomethingNew,e.updatePersistentNonErrorMessages(a),e.applyInputScores(e.mockDataForInputScores()))}})),$page.body.on("click",".virtual-designer-bar .skip-walkthrough",(function(t){t.preventDefault(),e.collapsedDesignerView()})),$page.body.on("click",".tour-buttons .btn-prev, .tour-buttons .btn-next",(function(){var t=$(this),o=e.getTourSteps(),a=window.location.hash?window.location.hash.replace("#",""):"tour-name",n=t.hasClass("btn-prev"),i=n?o[Math.max(0,o.indexOf(a)-1)]:o[o.indexOf(a)+1],r=$page.inputs.industries.tagsinput("items");if("tour-images"===i&&r&&0===r.length&&(i=n?"tour-industries":"tour-designer"),"tour-name"===a&&"tour-industries"===i){if(""===$page.inputs.name.val()||$page.inputs.name.val().length<2)return void $("#modalMissingLogoName").modal();e.updateNameAndTaglineOnServer()}else e.applyInputScores(e.mockDataForInputScores());e.setTourHash(i)})),$page.body.on("click",".virtual-designer-bar .message-browser .message-number",(function(){var e=$(this);$page.virtualDesignerBar.find(".message-browser .message-number").removeClass("active"),e.addClass("active"),$page.virtualDesignerBar.find(".speech-bubble .messages .message").removeClass("active"),$page.virtualDesignerBar.find(".speech-bubble .messages .message:eq("+e.index()+")").addClass("active").siblings().removeClass("active")})),$page.body.on("click","#modalVirtualDesignerPortfolio .switch-modes .mode",(function(){var e=$(this);if(!e.hasClass("active")){e.addClass("active").siblings().removeClass("active");var t=e.attr("data-section"),o=$('#modalVirtualDesignerPortfolio [data-designer-name="'+t+'"]');o.siblings(".designer").removeClass("active"),o.addClass("active"),$("#modalVirtualDesignerPortfolio").scrollTop(0)}})),$(".btn-delete-all-except-favorites").on("click",(function(){$.active>0||($(".btn-delete-all-except-favorites").attr("disabled","disabled"),$(".btn-cancel-delete-all-except-favorites").attr("disabled","disabled"),$.ajax({url:"/v2/logos/delete-except-favorites/",type:"POST",timeout:6e4,success:function(t){if("no-active-session"!==t){if($(".preview-container .item:not(.favorite):not(.item-more)").each((function(){$(this).remove();var e=$(this).find(".logo-preview").attr("data-svg-file-path").split("/static/tmp_private/")[1].split("/")[1],t=e.substr(e.indexOf("_"),9);void 0!==Cookies.get("itemLayouts")&&Cookies.set("itemLayouts",Cookies.get("itemLayouts").replace(t+"="+SmashingLogo.Utils.getParameterByName(t,Cookies.get("itemLayouts"))+";",""),{expires:28})})),$("#modalDeleteAllExceptFavorites").modal("hide"),$(".btn-delete-all-except-favorites").removeAttr("disabled"),$(".btn-cancel-delete-all-except-favorites").removeAttr("disabled"),1===t.actionCount&&t.favoriteCount<=2){var o=e.getPersistentNonErrorMessages();o.trySomethingNew=window.i18nTrySomethingDifferent,e.updatePersistentNonErrorMessages(o),e.applyInputScores(e.mockDataForInputScores())}}else window.location.reload(!0)},error:function(){console.log("process error")}}))})),$page.body.on("click",".btn-to-top",(function(e){if(e.preventDefault(),0!==$(".preview-container .item.favorite").length){if($page.body.append('<div class="fullpage-bg-layer"></div>'),$('<h2 class="temp-headline-favorites">'+window.i18nMyFavorites+"</h2>").insertBefore($(".preview-container")),$page.body.addClass("favorites-view"),$(".item.favorite").addClass("favorite-highlight-mode"),$(".preview-container .item").length>=3){var t=$(".preview-container .item:nth-child(1)").position().top===$(".preview-container .item:nth-child(3)").position().top;($(".preview-container .item:nth-child(1)").position().top===$(".preview-container .item:nth-child(2)").position().top||t)&&$(".item.favorite-highlight-mode").each((function(e){var o=t?e%3+1:e%2+1;$(this).addClass("nth-child-"+o)}))}$page.body.append('<button class="btn btn-lg btn-primary btn-close-favorite-mode"><span class="glyphicon glyphicon-remove"></span><span>&nbsp;'+window.i18nClose+"</span></button>"),window.scrollTo(0,0),window.setTimeout((function(){$(".item.favorite").addClass("animate"),window.setTimeout((function(){$(".item.favorite").removeClass("animate")}),660)}),200)}})),$page.body.on("click",".remove-industry-favorite",(function(){var e=$(this).closest(".industry");$page.inputs.industries.tagsinput("remove",{key:e.attr("data-industry-identifier"),translation:e.attr("data-industry-translation")})})),$page.body.on("click",".select-designer-column .btn, .select-designer-column .avatar img, .select-designer-column .designer-name, .designer:not(.active) .portfolio-logos .design",(function(){var t=$(this).closest(".designer"),o=t.attr("data-designer-name"),a=t.hasClass("active")?"remove":"add";if(!t.closest(".section-virtual-designers").hasClass("limit-reached")||"add"!==a){SmashingLogo.Utils.showLoadingAnimation();var n="add"===a?"/virtual-designer/add/":"/virtual-designer/remove/";$.ajax({url:n,type:"POST",data:{virtualDesigner:o},success:function(t){t.invalidInput?SmashingLogo.Utils.hideLoadingAnimation():(e.switchVirtualDesigners(t.designers),SmashingLogo.Utils.hideLoadingAnimation(),t.minCountReached&&$("#modalVirtualDesignerMinCount").modal("show"))}})}})),$page.body.on("click",".remove-designer-favorite",(function(){var e=$(this).closest(".designer").attr("data-designer-name");$('.select-designer-column .designer[data-designer-name="'+e+'"] .btn-deselect').trigger("click")})),$page.body.on("click",".designer-nav-container .switch-modes .mode",(function(){e.scrollToDesigner($(this).attr("data-designer-name"))})),$page.body.on("click",".chosen-designer-inner-column .designer .avatar",(function(){e.scrollToDesigner($(this).closest(".designer").attr("data-designer-name"))})),$page.body.on("click","#embedded-search-container .icon",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this),o=t.attr("data-icon-id"),a=t.attr("data-icon-url"),n=t.attr("data-combine-terms"),i=t.closest("[data-icon-group-section]").attr("data-icon-group-section");t.attr("data-is-svg-icon")?e.addIconFavorite(o,t.html(),n,i):$.ajax({url:"/get-icon-svg-string/",type:"POST",data:{iconPath:a,iconId:o},timeout:6e4,success:function(t){$(t);e.addIconFavorite(o,t,n,i)},error:function(){console.log("process error")}})})),$page.body.on("click","#embedded-image-search-container .image img",(function(){var t=$(this).closest(".image");SmashingLogo.Utils.showLoadingAnimation();var o=t.closest("[data-image-group-section]").attr("data-image-group-section");e.addImageFavorite(t.attr("data-image-id"),t.attr("data-image-source"),o)})),$(".preview-container").on("click",".logo-option-button.favorite",(function(e){e.preventDefault();var t=$(this).closest(".item"),o=t.find(".logo-preview").attr("data-svg-file-path");$(".tooltip").hide(),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/favorites/add/",type:"POST",data:{logoPath:o},timeout:1e4,success:function(e){SmashingLogo.Utils.hideLoadingAnimation(),"limit-reached"!==e?"reload"===e||"failed"===e?window.location.reload(!0):($page.buttons.manageFavorites.addClass("animated"),t.addClass("favorite"),t.find(".logo-preview").attr("data-svg-file-path",e.newPublicLogoPath),window.setTimeout((function(){var e=SmashingLogo.ManageFavorites.getFavoriteCount()+1;SmashingLogo.ManageFavorites.setFavoriteCount(e),window.setTimeout((function(){$page.buttons.manageFavorites.removeClass("animated")}),1e3)}),1100)):$("#modalFavoriteLimitReached").modal("show")}})})),$page.body.on("click",".btn-close-modal",(function(){$(".modal.in").modal("hide"),$(this).addClass("hidden")})),$page.body.on("click",".generate-config-column .custom-colors .color-spectrum-row .color-spectrum",(function(){$(this).toggleClass("selected"),e.updateColorSpectrumsOnServer()})),$page.body.on("click",".generate-config-column .custom-fonts .font-categories-row .font-category",(function(){$(this).toggleClass("selected"),e.updateFontCategoriesOnServer()})),$page.body.on("click",".budget-poll .option",(function(){$(this).toggleClass("active").siblings().removeClass("active"),e.updateBudgetOnServer()})),$(".btn-no-coupon-notice").on("click",(function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/no-coupon-notice/",type:"POST",timeout:6e4,success:function(){SmashingLogo.Utils.hideLoadingAnimation(),$("#modalCoupon").modal("hide")},error:function(){console.log("process error")}})})),$page.body.on("click",".remove-icon-favorite .text",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this).closest(".icon-wrapper").find(".icon"),o=t.attr("data-icon-id");$.ajax({url:"/icons/favorites/remove/",type:"POST",data:{fileName:t.attr("data-file-name")},timeout:6e4,success:function(a){a.iconFavorites?(t.closest(".icon-wrapper").addClass("remove-transition"),e.removeDisabledIconIdFromLocalStorage(o),window.setTimeout((function(){e.buildIconFavorites($(".icon-favorite-slots"),a.iconFavorites),e.setIconFavoriteCount(a.iconFavorites.length),e.applyInputScores(e.mockDataForInputScores()),e.nextTourButtonState(),SmashingLogo.Utils.hideLoadingAnimation()}),750)):SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})})),$page.body.on("click",".icon-favorite-slots .icon, .icon-favorite-slots .checkmark",(function(){var t=$(this).closest(".icon-wrapper"),o=t.find(".icon").attr("data-icon-id");t.toggleClass("selected"),t.hasClass("selected")?e.removeDisabledIconIdFromLocalStorage(o):e.addDisabledIconIdToLocalStorage(o)})),$page.body.on("click",".icon-favorite-slots .placeholder",(function(){$('.mode[data-icon-group-nav="search"]').trigger("click")})),$page.body.on("click",".remove-image-favorite",(function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/envision/images/favorites/remove/",type:"POST",data:{fileName:$(this).closest(".image-wrapper").find(".image").attr("data-file-name")},timeout:6e4,success:function(t){t.imageFavorites?(e.buildImageFavorites(t.imageFavorites),e.setImageFavoriteCount(t.imageFavorites.length),e.applyInputScores(e.mockDataForInputScores()),e.nextTourButtonState(),SmashingLogo.Utils.hideLoadingAnimation()):SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})})),$page.body.on("click",".image-favorite-slots .placeholder, .image-suggestions-footer .jump-to-search",(function(){$('.mode[data-image-group-nav="search"]').trigger("click")}))},this.overrideDesignCallback=function(t,o){SmashingLogo.Utils.setPreviousLogoId(o);var a=$('.preview-container .item[data-logo-id="'+o+'"]'),n=t.renderInstructions[0],i={fileName:t.logoFileNames[0],logoPath:t.logoPath,refNumber:t.referenceNumber,logoId:t.logoId.replace("_",""),svgString:t.svgString,hex1:t.hex1,hex2:t.hex2,randomTemplate:n.randomTemplate},r=e.extendedTemplate(i);"default"!==n.randomTemplate.toLowerCase()&&e.renderSingleMutation(n,i.fileName,i.svgString,r.find(".mutations-container"),"mutation"),a.html(r.html()),a.addClass("favorite"),SmashingLogo.ManageFavorites.setFavoriteCount(t.favoriteCount),e.selectActiveColorMutation(a),e.addWatermarkupToSvgs(a.find(".svg-container svg")),e.appendLogoOptionButtons(a);var s=e.getLayoutOptionsForTiles(a);s.isFavorite=!0,s.hasHistory=!0,s.dynamicFilters=t.extendedLogoInfos[i.logoId].dynamicFilters,SmashingLogo.BrandingTiles.buildTiles(a,t.brandInfos,s),$(".preview-outer-container").css("background-color",a.attr("data-highlight-color"))},this.updatePercentageProgress=function(){var e=parseInt($page.onboardingPercentageNumber.text());$page.onboardingPercentageNumber.text(Math.min(100,e+1)),100===e&&(SmashingLogo.onboardingPercentInterval&&window.clearInterval(SmashingLogo.onboardingPercentInterval),$page.onboardingProgress.addClass("completed"),window.setTimeout((function(){$page.onboardingProgress.removeClass("visible"),window.setTimeout((function(){SmashingLogo.percentAnimationDone.resolve()}),2e3)}),1500))},this.resetPercentageProgress=function(){$page.onboardingProgress.removeClass("visible"),$page.onboardingProgress.removeClass("completed"),$page.onboardingPercentageNumber.text(0)},this.openTextConfigTab=function(){$(".generate-config-column .section-change-text").hasClass("active")||($('.logo-maker-nav-bar .section-nav a[data-hash="#text"]').parent().trigger("click"),$(".logo-maker-nav-bar .nav-tabs").animate({scrollLeft:0},500),SmashingLogo.Utils.areCookiesEnabled()||($(".logo-maker-nav-bar").addClass("cookies-disabled"),SmashingLogo.Utils.insertCookieWarning(".generate-config-column .section-change-text .input-container.slogan")))},this.openBrandAttributesConfigTab=function(){$(".generate-config-column .section-brand-attributes").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#brand-attributes"]').parent().trigger("click")},this.openVirtualDesignersConfigTab=function(){$(".generate-config-column .section-virtual-designers").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#virtual-designers"]').parent().trigger("click")},this.openIndustryConfigTab=function(){$(".generate-config-column .section-industry").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#industry"]').parent().trigger("click")},this.openIconConfigTab=function(){$(".generate-config-column .section-icon").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#icon"]').parent().trigger("click")},this.openImageConfigTab=function(){$(".generate-config-column .section-image").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#image"]').parent().trigger("click")},this.openColorConfigTab=function(){$(".generate-config-column .section-colors").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#colors"]').parent().trigger("click")},this.openFinalTourStep=function(){if(!$(".generate-config-column .section-final-tour-step").hasClass("active")){$('.generate-config-column .config-section[data-section="final-tour-step"]').addClass("active").siblings().removeClass("active"),$page.body.addClass("show-config-column");var t=$(".budget-poll-container");t.addClass("hidden"),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/budget/info/",type:"GET",timeout:6e4,success:function(o){t.find(".options .option").each((function(){var e=$(this),t=e.attr("data-budget");e.find(".text").text(o.ranges[t])})),e.updateBudget(o.budget),t.removeClass("hidden"),SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})}},this.closeConfigColumn=function(){$page.body.removeClass("show-config-column").removeClass("show-mutations-nav"),$(".generate-config-column .config-column .config-section[data-section]").removeClass("active"),$(".local-nav .nav-tabs li").removeClass("active")},this.switchVirtualDesigners=function(e){var t=e.split(","),o=$page.virtualDesignerBar.find(".virtual-designer");$(".section-virtual-designers .designer").removeClass("active"),$(".chosen-designer-inner-column .avatars").html(""),o.find("img.secondary-designer").remove();var a=t[0];o.find("img.primary-designer").attr("src","/static/img/virtual-designers/"+a+".png");var n=t[1];n&&o.prepend('<img class="secondary-designer left-shoulder" src="/static/img/virtual-designers/'+n+'.png"></img>');var i=t[2];i&&o.prepend('<img class="secondary-designer right-shoulder" src="/static/img/virtual-designers/'+i+'.png"></img>');for(var r=0;r<3;r++){var s=t[r];if(s){var d=$('<div class="designer"></div>'),l=$('<button class="remove-designer-favorite"><span class="glyphicon glyphicon-remove"></span></button>'),c=$('<div class="avatar"><img src="/static/img/virtual-designers/'+s+'.png"></img></div>');d.attr("data-designer-name",s),d.append(c).append(l),$('.section-virtual-designers .designer[data-designer-name="'+s+'"]').addClass("active"),$(".chosen-designer-inner-column .avatars").append(d)}else{var g=$('<div class="placeholder"></div>');$(".chosen-designer-inner-column .avatars").append(g)}}3===t.length?$(".section-virtual-designers").addClass("limit-reached"):$(".section-virtual-designers").removeClass("limit-reached")},this.tabSettings=function(t){if(e.fillNameAndTagline(t),e.setCharacterCountForName(),e.setCharacterCountForTagline(),t.logoTypes&&t.logoTypes.length)for(var o=0;o<t.logoTypes.length;o++)$(".section-logo-types .logo-type-container li").each((function(){var e=$(this),o=e.find(".logo-type").attr("data-logo-type");t.logoTypes.indexOf(o)>=0?e.addClass("active"):e.removeClass("active")}));t.virtualDesigner&&t.virtualDesigner.length&&e.switchVirtualDesigners(t.virtualDesigner)},this.updateColorSpectrums=function(e,t){var o=$(".generate-config-column"),a=o.find(".recommended-colors .color-spectrum-row .color-spectrum");e&&e.length?(o.find(".recommended-colors .provide-brand-attributes").addClass("hidden"),a.each((function(){var t=$(this),o=t.attr("data-color-spectrum-identifier");e&&e.length&&(e.indexOf(o)>=0?t.addClass("recommended"):t.removeClass("recommended"))}))):a.removeClass("recommended");a=o.find(".custom-colors .color-spectrum-row .color-spectrum");t&&t.length&&a.each((function(){var o=$(this),a=o.attr("data-color-spectrum-identifier");t.indexOf(a)>=0?o.addClass("selected"):o.removeClass("selected"),e&&e.length&&(e.indexOf(a)>=0?o.addClass("recommended"):o.removeClass("recommended"))}))},this.updateFontCategories=function(e,t){var o=$(".generate-config-column"),a=$(".recommended-fonts .font-categories-row .font-category");e&&e.length?(o.find(".recommended-fonts .provide-brand-attributes").addClass("hidden"),a.each((function(){var t=$(this),o=t.attr("data-font-category-identifier");e&&e.length&&(e.indexOf(o)>=0?t.addClass("recommended"):t.removeClass("recommended"))}))):a.removeClass("recommended");a=$(".custom-fonts .font-categories-row .font-category");t&&t.length&&a.each((function(){var o=$(this),a=o.attr("data-font-category-identifier");t.indexOf(a)>=0?o.addClass("selected"):o.removeClass("selected"),e&&e.length&&(e.indexOf(a)>=0?o.addClass("recommended"):o.removeClass("recommended"))}))},this.updateBudget=function(e){var t=$(".budget-skip-continue-button");SmashingLogo.Utils.setHotjarUserAttributes({userBudget:e||""}),e?($('.budget-poll .option[data-budget="'+e+'"]').addClass("active").siblings().removeClass("active"),t.addClass("continue-state").removeClass("skip-state")):t.addClass("skip-state").removeClass("continue-state")},this.getActiveLogoTypes=function(){var e=[];return $(".section-logo-types .logo-type-container ul li.active").each((function(){e.push($(this).find(".logo-type").attr("data-logo-type"))})),e},this.getActiveColorSpectrums=function(e){var t=[];return(e?e.find(".color-spectrum-row .color-spectrum.selected"):$(".color-spectrum-row .color-spectrum.selected")).each((function(){t.push($(this).attr("data-color-spectrum-identifier"))})),t},this.getActiveFontCategories=function(e){var t=[];return(e?e.find(".font-categories-row .font-category.selected"):$(".font-categories-row .font-category.selected")).each((function(){t.push($(this).attr("data-font-category-identifier"))})),t},this.translateColorSpectrum=function(e,t){var o=t.find('.color-spectrum[data-color-spectrum-identifier="'+e+'"] .spectrum-title');return o.length?o.text():e},this.updateNameAndTaglineOnServer=function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-name-and-tagline/",type:"POST",data:{companyName:$page.inputs.name.val(),companyTagline:$page.inputs.tagline.val(),userLangKey:$("html").attr("lang")},success:function(t){""===$page.inputs.industries.val()&&t.mockedIndustries?$page.inputs.industries.tagsinput("add",{key:t.mockedIndustries.key,translation:t.mockedIndustries.translation}):(SmashingLogo.Utils.hideLoadingAnimation(),e.applyInputScores(e.mockDataForInputScores()))}})},this.updateIndustriesOnServer=function(t){SmashingLogo.Utils.showLoadingAnimation();for(var o=$page.inputs.industries.tagsinput("items"),a=[],n=$page.inputs.industries.val(),i=0;i<o.length;i++)o[i].key&&o[i].translation||a.push(o[i]);a.length&&"undefined"!=typeof Sentry&&Sentry.captureMessage("Invalid Industries in updateIndustriesOnServer: "+JSON.stringify(o)+" - "+n+" - "+t),$.ajax({url:"/update-inds/",type:"POST",data:{inds:n,userLangKey:$("html").attr("lang")},success:function(t){e.switchOnboardingMedia(t.onboardingMedia),e.applyInputScores(e.mockDataForInputScores()),e.nextTourButtonState(),e.handleIndustrySlots(o),SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})},this.updateColorSpectrumsOnServer=function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-color-spectrums/",type:"POST",data:{selectedColorSpectrums:e.getActiveColorSpectrums($(".generate-config-column .section-colors .custom-colors"))},success:function(){SmashingLogo.Utils.hideLoadingAnimation(),e.nextTourButtonState()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})},this.updateFontCategoriesOnServer=function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-font-categories/",type:"POST",data:{selectedFontCategories:e.getActiveFontCategories($(".generate-config-column .section-fonts .custom-fonts"))},success:function(){SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})},this.updateBudgetOnServer=function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(".budget-poll .options .option.active"),o=t.length;$.ajax({url:"/budget/update/",type:"POST",data:{budget:o?t.attr("data-budget"):""},success:function(t){e.updateBudget(t),SmashingLogo.Utils.hideLoadingAnimation()}})},this.switchOnboardingMedia=function(e){var t;if($page.onboardingBackground.html(""),$page.onboardingBackground.css("background-image",""),$page.body.removeClass("show-industry-image"),e&&e.urls&&(e.urls.image||e.urls.video)){var o=window.screen.width<768;e.urls.image&&(t=o?e.urls.image.mobile:e.urls.image.desktop),e.urls.video&&(t=o?e.urls.video.mobile:e.urls.video.desktop)}t&&(t.indexOf(".mp4")>=0?$page.onboardingBackground.html('<video src="'+t+'" autoplay loop muted></video>'):(t=SmashingLogo.Utils.responsiveImagePaths([t])[0],$page.onboardingBackground.css("background-image",'url("'+t+'")')),$page.body.addClass("show-industry-image"))},this.appendRenderedSvgLogos=function(t,o,a){var n=e.bootstrapProgressObject(t.logoFileNames.length),i=[],r=o.parent(),s=a?o:o.detach(),d=r.closest("#modalManageFavorites").length;e.bootstrapSvgData(i,t);for(var l=0;l<t.logoFileNames.length;l++)$.get(t.logoPath+"/"+t.logoFileNames[l],(function(l){var c=this.url.substr(this.url.lastIndexOf("/")+1),g=i.map((function(e){return e.logoId})).indexOf("0"===c.substr(0,1)?c.substr(15,9):c.substr(14,9));if(i[g].svgString=SmashingLogo.Utils.uniqueSVG(SmashingLogo.Utils.fluidSVG(l)),n.ajaxCounter+1===n.fileCount){d&&(t.onlyFavorites=!0),$page.body.hasClass("page-generate")&&o.addClass("disable-item-snap");s.find(".item").length;if(e.appendLogos(s,i,t,"extended",a),e.selectActiveColorMutation(s.find(".item")),a){SmashingLogo.Utils.initTooltips();o.find(".item.new:first").position().left;$page.body.hasClass("page-generate")&&e.scrollToSnapItem(o,o.find(".item.new:first"),!0),e.appendLogoOptionButtons(o.find(".item.new")),e.addWatermarkupToSvgs(o.find(".item.new .svg-container svg")),o.find(".item.new").removeClass("new")}else r.append(s),e.addWatermarkupToSvgs(s.find(".item .svg-container svg")),d||(SmashingLogo.Utils.initTooltips(),t.showCoupon&&$("#modalCoupon").modal()),t.activeSession&&e.appendLogoOptionButtons(o.find("> .item"));if(d)return $("#modalManageFavorites .item .logo-preview").each((function(){$page.body.attr("data-logo-path")===$(this).attr("data-svg-file-path")&&$(this).closest(".item").addClass("is-currently-selected")})),void $page.body.trigger("favoritesViewReady");if($page.body.addClass("ajax-finished").trigger("logosReady"),e.reEnableGenerateButtons(),!a&&t.activeSession){var p=e.scrollToPreviousLogo();p?$(".preview-outer-container").css("background",p.attr("data-highlight-color")):(p=$(".preview-container .item:first"),$(".preview-outer-container").css("background",p.attr("data-highlight-color")),e.scrollToSnapItem($(".preview-container"),p))}}else e.updateProgressBar(n)}),"text")},this.scrollToSnapItem=function(e,t,o){var a=parseInt(t.css("marginTop")),n=parseInt(t.css("paddingTop")),i=parseInt(t.css("paddingBottom")),r=t.height()+n+i,s=(e.height()-r)/2,d=t.position().top+a-s;if(!o)return e.scrollTop(d),e.removeClass("disable-item-snap"),void e.scrollTop(d);var l=e.scrollTop()+d;e.animate({scrollTop:l},800,(function(){e.removeClass("disable-item-snap"),e.scrollTop(l)}))},this.addWatermarkupToSvgs=function(e){var t='<g class="watermark-group" style="'+("opacity:0.10; stroke: "+"white"+"; stroke-width: "+2+"; stroke-opacity: 0.7;")+'"><path class="watermark-path" d="M129.52,370.3a11.88,11.88,0,0,1,2.58,5.58,12,12,0,0,1,.11,3,11.81,11.81,0,0,1-.64,2.93,12.34,12.34,0,0,1-1.41,2.72,11.65,11.65,0,0,1-2.13,2.32,12,12,0,0,1-2.64,1.69,13,13,0,0,1-2.91.9,12.47,12.47,0,0,1-3,.12,12.17,12.17,0,0,1-2.93-.64,11.8,11.8,0,0,1-2.72-1.38,12.19,12.19,0,0,1-4-4.79,11.85,11.85,0,0,1-.89-2.92,12.14,12.14,0,0,1-.13-3,11.54,11.54,0,0,1,.64-2.92,11.67,11.67,0,0,1,3.5-5,11.44,11.44,0,0,1,2.67-1.69,11.64,11.64,0,0,1,2.92-.91,10.71,10.71,0,0,1,3-.12,11.68,11.68,0,0,1,5.66,2,11.7,11.7,0,0,1,2.34,2.12m-1.4,8.76a13,13,0,0,1-1.22,2.32,9.68,9.68,0,0,1-1.81,2,7.44,7.44,0,0,1-2.38,1.37,6.17,6.17,0,0,1-5.11-.46,8.73,8.73,0,0,1-3.85-4.58,6.69,6.69,0,0,1-.34-2.66,6.09,6.09,0,0,1,.77-2.47,7.15,7.15,0,0,1,1.75-2.11,9.58,9.58,0,0,1,1.09-.81,8.23,8.23,0,0,1,1.12-.63,8.14,8.14,0,0,1,1.19-.46,12.71,12.71,0,0,1,1.32-.37l2,2.38a12.83,12.83,0,0,0-1.56.17,7.86,7.86,0,0,0-1.23.32,4.5,4.5,0,0,0-1,.49,6.41,6.41,0,0,0-.93.67,4.49,4.49,0,0,0-1.15,1.39,3.87,3.87,0,0,0-.45,1.58,4.12,4.12,0,0,0,.26,1.63,6.11,6.11,0,0,0,2.36,2.82,4.43,4.43,0,0,0,1.57.53,3.91,3.91,0,0,0,1.62-.17,4.71,4.71,0,0,0,1.57-.89,10.5,10.5,0,0,0,.83-.79,5.71,5.71,0,0,0,.65-.93,10.13,10.13,0,0,0,.54-1.14,12.24,12.24,0,0,0,.44-1.49l2,2.33m-14.46,4.55a8.86,8.86,0,0,0,2.78,2.22,9,9,0,0,0,3.29.94,9.15,9.15,0,0,0,3.39-.37,8.68,8.68,0,0,0,3.11-1.69,8.8,8.8,0,0,0,2.22-2.78,9.15,9.15,0,0,0,1-3.29,8.95,8.95,0,0,0-4.83-8.76,9,9,0,0,0-6.73-.57,9,9,0,0,0-5.33,4.47,8.94,8.94,0,0,0-.57,6.71,8.76,8.76,0,0,0,1.7,3.12"/><path class="watermark-path" d="M147,349c-.48.12-1.09.31-1.82.57a24.37,24.37,0,0,0-2.4,1A28.35,28.35,0,0,0,140,352a20.72,20.72,0,0,0-2.71,1.94c-.7.59-1.28,1.11-1.74,1.57a15.07,15.07,0,0,0-1.1,1.22,4.09,4.09,0,0,0-.59.92,2.32,2.32,0,0,0-.22.64,1.16,1.16,0,0,0,0,.47,1.83,1.83,0,0,0,.18.29,1.15,1.15,0,0,0,1,.37,5.54,5.54,0,0,0,1.51-.38q.87-.35,1.95-.9l2.26-1.18q1.2-.65,2.49-1.29c.87-.44,1.73-.83,2.59-1.17a18.94,18.94,0,0,1,2.6-.81,9.27,9.27,0,0,1,2.46-.29,6.25,6.25,0,0,1,2.24.49,5.12,5.12,0,0,1,1.89,1.47,6.35,6.35,0,0,1,1.41,2.61,6,6,0,0,1,.09,2.6,8.3,8.3,0,0,1-.9,2.52,17.79,17.79,0,0,1-1.62,2.37,23.92,23.92,0,0,1-2,2.15c-.72.67-1.41,1.29-2.09,1.87a33.79,33.79,0,0,1-5.33,3.7,32.29,32.29,0,0,1-4.91,2.28l-3.61-4.3a21.38,21.38,0,0,0,5.39-1.87,27.2,27.2,0,0,0,5.4-3.56,21.59,21.59,0,0,0,2.38-2.27,8.67,8.67,0,0,0,1.18-1.7,2.32,2.32,0,0,0,.27-1.19,1.34,1.34,0,0,0-.28-.74,1.21,1.21,0,0,0-1-.42,4.32,4.32,0,0,0-1.55.34,15.77,15.77,0,0,0-2,.88c-.72.37-1.48.77-2.27,1.21l-2.45,1.3c-.85.45-1.7.85-2.56,1.21a22.37,22.37,0,0,1-2.54.86,10,10,0,0,1-2.43.32,5.76,5.76,0,0,1-2.2-.45,5,5,0,0,1-1.89-1.45,6.12,6.12,0,0,1-1.31-2.41,6,6,0,0,1-.1-2.41,8.28,8.28,0,0,1,.81-2.38,14.06,14.06,0,0,1,1.49-2.24,22.37,22.37,0,0,1,1.85-2.05q1-1,2-1.77c.7-.59,1.44-1.15,2.23-1.7s1.62-1.06,2.44-1.53,1.63-.91,2.43-1.3,1.58-.75,2.3-1L147,349"/><path class="watermark-path" d="M186.76,337.57l-10.6-12.63,3.92,18.24-4.66,3.91-17.27-7,10.6,12.63-4.86,4.07-15.09-18,6.59-5.54,18.69,7.52-4.15-19.71,6.57-5.52,15.09,18-4.83,4.05"/><path class="watermark-path" d="M208.84,313.24l-10,8.42,1.16,4.82L194.56,331l-5.68-25.89,5.42-4.55,24.51,10.09-5.42,4.55-4.55-2m-11.23,3.45,6.57-5.52-8.83-3.87,2.26,9.39"/><path class="watermark-path" d="M227.49,281.38c-.48.12-1.09.31-1.82.57a24.37,24.37,0,0,0-2.4,1,26.11,26.11,0,0,0-2.7,1.47,20.72,20.72,0,0,0-2.71,1.94c-.7.59-1.28,1.11-1.74,1.57a13.39,13.39,0,0,0-1.1,1.22,4.29,4.29,0,0,0-.59.91,2.48,2.48,0,0,0-.22.65,1.16,1.16,0,0,0,0,.47,1.83,1.83,0,0,0,.18.29,1.15,1.15,0,0,0,1,.37,5.54,5.54,0,0,0,1.51-.38q.87-.34,2-.9l2.26-1.18q1.2-.64,2.49-1.29c.87-.44,1.73-.83,2.59-1.17a18.94,18.94,0,0,1,2.6-.81,9.27,9.27,0,0,1,2.46-.29,6.08,6.08,0,0,1,2.24.49,5.09,5.09,0,0,1,1.89,1.46,6.47,6.47,0,0,1,1.41,2.61,6.07,6.07,0,0,1,.09,2.61,8.3,8.3,0,0,1-.9,2.52,16.32,16.32,0,0,1-1.63,2.36,21.41,21.41,0,0,1-2,2.16c-.72.67-1.41,1.29-2.1,1.86a33.36,33.36,0,0,1-5.32,3.71,31.92,31.92,0,0,1-4.92,2.28l-3.6-4.3a21.38,21.38,0,0,0,5.39-1.87,27.2,27.2,0,0,0,5.4-3.56,21.59,21.59,0,0,0,2.38-2.27,8.67,8.67,0,0,0,1.18-1.7A2.32,2.32,0,0,0,231,293a1.34,1.34,0,0,0-.28-.74,1.21,1.21,0,0,0-1-.42,4.32,4.32,0,0,0-1.55.34,16.54,16.54,0,0,0-2,.88c-.71.37-1.47.77-2.26,1.21l-2.46,1.3c-.84.44-1.7.85-2.55,1.21a24.53,24.53,0,0,1-2.54.86A10,10,0,0,1,214,298a5.76,5.76,0,0,1-2.2-.45,5,5,0,0,1-1.89-1.45,6.12,6.12,0,0,1-1.31-2.41,5.78,5.78,0,0,1-.1-2.41,8,8,0,0,1,.81-2.38,14.61,14.61,0,0,1,1.49-2.25,22.26,22.26,0,0,1,1.85-2q1-1,2-1.77c.7-.59,1.44-1.15,2.23-1.7s1.62-1.06,2.44-1.53,1.63-.91,2.43-1.31,1.58-.74,2.3-1l3.5,4.16"/><path class="watermark-path" d="M261.64,274.74l-6.29-7.5L243,277.61l6.3,7.5-4.86,4.07-15.09-18,4.85-4.08,5.49,6.55L252,263.3l-5.49-6.55,4.86-4.07,15.09,18-4.86,4.08"/><path class="watermark-path" d="M272.18,265.9l-15.09-18,4.86-4.08,15.09,18-4.86,4.08"/><path class="watermark-path" d="M299.65,242.85l-22.51-2.18L287.51,253l-4.85,4.08-15.1-18,5.28-4.43,22.56,2.22L285,224.5l4.83-4.06,15.09,18-5.26,4.42"/><path class="watermark-path" d="M306.68,205.52a31.88,31.88,0,0,1,5.29-3.66,34.48,34.48,0,0,1,5.14-2.35l3.69,4.39a20.77,20.77,0,0,0-2.37.61,20.47,20.47,0,0,0-2.61,1,25.12,25.12,0,0,0-2.76,1.49,23.9,23.9,0,0,0-2.8,2,20.42,20.42,0,0,0-2.8,2.77,12.77,12.77,0,0,0-1.64,2.52,7,7,0,0,0-.68,2.24,6,6,0,0,0,.66,3.64,8.16,8.16,0,0,0,.94,1.38,9.12,9.12,0,0,0,1.08,1.07,6.39,6.39,0,0,0,1.47.91,6.73,6.73,0,0,0,1.88.48,6.54,6.54,0,0,0,2.28-.18,11.67,11.67,0,0,0,2.74-1.07,19.38,19.38,0,0,0,3.18-2.22c.57-.48,1.06-.92,1.46-1.31a14.57,14.57,0,0,0,1-1.13,11.46,11.46,0,0,0,.81-1.05l.74-1.09-1.82-2.17-5.45,4.57-3.31-3.94,10.31-8.65,7.71,9.19a29,29,0,0,1-1.67,2.43q-1,1.26-2.1,2.52c-.74.84-1.5,1.65-2.3,2.44s-1.58,1.5-2.33,2.14a31,31,0,0,1-3.59,2.61,22.55,22.55,0,0,1-3.64,1.83,15.64,15.64,0,0,1-3.63.89,10.72,10.72,0,0,1-3.49-.15,10.45,10.45,0,0,1-3.28-1.33,12.54,12.54,0,0,1-3-2.67,12,12,0,0,1-2.08-3.44,10.45,10.45,0,0,1-.71-3.5,11.14,11.14,0,0,1,.51-3.51,15.72,15.72,0,0,1,1.56-3.43,21.62,21.62,0,0,1,2.42-3.28,30.3,30.3,0,0,1,3.15-3"/><path class="watermark-path" d="M336.91,211.59l-15.1-18,4.86-4.08,11.79,14,13.13-11,3.31,3.94-18,15.1"/><path class="watermark-path" d="M374.54,164.71a12.28,12.28,0,0,1,2.59,4.81,10.44,10.44,0,0,1,0,5,14.62,14.62,0,0,1-2.33,5,25.55,25.55,0,0,1-4.56,4.85,26.07,26.07,0,0,1-5.6,3.67,14.79,14.79,0,0,1-5.38,1.43,10.43,10.43,0,0,1-4.94-.89,13.24,13.24,0,0,1-6.87-8.18,10.48,10.48,0,0,1,0-5,14.51,14.51,0,0,1,2.36-5,25.23,25.23,0,0,1,4.57-4.89,25,25,0,0,1,5.59-3.64,14.45,14.45,0,0,1,5.35-1.43,10.31,10.31,0,0,1,4.93.92,12.22,12.22,0,0,1,4.28,3.38m-4.91,4.11a8.36,8.36,0,0,0-2-1.72,5.5,5.5,0,0,0-2.65-.85,7.72,7.72,0,0,0-3.32.57,14.49,14.49,0,0,0-4,2.52,16.72,16.72,0,0,0-2.38,2.4,10.15,10.15,0,0,0-1.39,2.24,6.71,6.71,0,0,0-.56,2.1,5.69,5.69,0,0,0,.1,1.9,6.21,6.21,0,0,0,.61,1.69,9.85,9.85,0,0,0,1,1.44,10.48,10.48,0,0,0,1.26,1.23,6.67,6.67,0,0,0,1.57.92,6.1,6.1,0,0,0,1.85.41,6.8,6.8,0,0,0,2.15-.2,11.06,11.06,0,0,0,2.45-1,17.67,17.67,0,0,0,2.77-1.94,14.39,14.39,0,0,0,3.18-3.52,7.74,7.74,0,0,0,1.14-3.17,5.54,5.54,0,0,0-.37-2.74,8.52,8.52,0,0,0-1.36-2.3"/><path class="watermark-path" d="M382.66,141.76A32.3,32.3,0,0,1,388,138.1a34.12,34.12,0,0,1,5.15-2.35l3.69,4.4a19.62,19.62,0,0,0-2.37.6,22.08,22.08,0,0,0-2.61,1,26,26,0,0,0-2.77,1.49,23.9,23.9,0,0,0-2.8,2,21,21,0,0,0-2.8,2.78,13.19,13.19,0,0,0-1.64,2.51,7.29,7.29,0,0,0-.68,2.24,6.36,6.36,0,0,0,.06,2,5.8,5.8,0,0,0,.61,1.68,8.12,8.12,0,0,0,.93,1.38,9.16,9.16,0,0,0,1.08,1.08,6.56,6.56,0,0,0,1.48.9,6,6,0,0,0,1.87.48,6.76,6.76,0,0,0,2.28-.17,12,12,0,0,0,2.74-1.08,18.57,18.57,0,0,0,3.18-2.22c.58-.48,1.06-.92,1.46-1.31s.75-.77,1.05-1.12.57-.72.81-1.06l.73-1.09-1.82-2.17-5.45,4.57-3.3-3.94,10.3-8.65,7.71,9.19a29,29,0,0,1-1.67,2.43q-1,1.26-2.1,2.52c-.73.84-1.5,1.66-2.3,2.44s-1.57,1.5-2.33,2.14a31,31,0,0,1-3.59,2.61,22.15,22.15,0,0,1-3.64,1.83,15.56,15.56,0,0,1-3.62.89,11,11,0,0,1-3.49-.14,10.84,10.84,0,0,1-3.28-1.33,12.82,12.82,0,0,1-3-2.68,12.12,12.12,0,0,1-2.08-3.43A10.71,10.71,0,0,1,375,155a11.18,11.18,0,0,1,.51-3.51,15.51,15.51,0,0,1,1.57-3.43,21.44,21.44,0,0,1,2.42-3.28,30.19,30.19,0,0,1,3.14-3"/><path class="watermark-path" d="M428.63,119.31a12.26,12.26,0,0,1,2.59,4.82,10.44,10.44,0,0,1,0,5,14.53,14.53,0,0,1-2.34,5,25.29,25.29,0,0,1-4.56,4.86,26,26,0,0,1-5.59,3.67,14.84,14.84,0,0,1-5.38,1.43,10.61,10.61,0,0,1-4.95-.89,12.15,12.15,0,0,1-4.3-3.37,12,12,0,0,1-2.56-4.81,10.48,10.48,0,0,1,0-5,14.39,14.39,0,0,1,2.35-5,27.89,27.89,0,0,1,10.16-8.53,14.49,14.49,0,0,1,5.36-1.43,10.27,10.27,0,0,1,4.92.92,12.21,12.21,0,0,1,4.28,3.37m-4.91,4.12a8.17,8.17,0,0,0-2-1.72,5.58,5.58,0,0,0-2.65-.86,7.86,7.86,0,0,0-3.31.58,14.49,14.49,0,0,0-4,2.52,16.21,16.21,0,0,0-2.38,2.4,9.85,9.85,0,0,0-1.4,2.24,7,7,0,0,0-.56,2.1,6,6,0,0,0,.1,1.9,6.23,6.23,0,0,0,.62,1.69,8.49,8.49,0,0,0,1,1.44,9.18,9.18,0,0,0,1.26,1.23,6.67,6.67,0,0,0,1.57.92,6,6,0,0,0,1.84.41,6.86,6.86,0,0,0,2.16-.2,11.26,11.26,0,0,0,2.45-1,17.62,17.62,0,0,0,2.76-1.94,14.67,14.67,0,0,0,3.19-3.52,7.71,7.71,0,0,0,1.13-3.17,5.53,5.53,0,0,0-.36-2.74,8.55,8.55,0,0,0-1.37-2.3"/></g></g>';e.each((function(){var e=$(this);e.html(e.html()+t)}))},this.bootstrapSvgData=function(e,t){for(var o=0;o<t.logoFileNames.length;o++){var a=t.logoFileNames[o].indexOf("variations")>=0?t.logoFileNames[o].substr(t.logoFileNames[o].lastIndexOf("/")+1):t.logoFileNames[o];e[o]={timestamp:a.substr(0,a.indexOf("_")),fileName:a,svgString:"",logoId:"0"===a.substr(0,1)?a.substr(15,9):a.substr(14,9),patternId:parseInt(SmashingLogo.Utils.pad(a.substr(a.indexOf("_patt")+5).replace(".svg",""),3)),hex1:a.substr(a.indexOf("_hex_")+5,6),hex2:a.substr(a.indexOf("_hex2_")+6,6),refNumber:t.logoPath.substr(20,10)}}},this.bootstrapProgressObject=function(e){return{percentage:0,ajaxCounter:0,fileCount:e}},this.applyInputScores=function(t){var o=e.getInputScores(t),a=$(".overall-input-score .progress-bar");a.css("width",o.overall+"%"),e.updateScoreBarColor(a,o.overall),window.setTimeout((function(){$(".section-input-score").each((function(){var t=$(this),a=t.closest("li").find("a").attr("data-hash"),n=t.find(".progress-bar"),i=100;switch(a){case"#text":i=o.sections.text;break;case"#brand-attributes":i=o.sections.brandAttributes;break;case"#industry":i=o.sections.industry;break;case"#icon":i=o.sections.icon;break;case"#virtual-designers":i=o.sections.virtualDesigner;break;case"#colors":i=o.sections.colors;break;case"#fonts":i=o.sections.fonts;break;default:i=100}n.css("width",i+"%"),e.updateScoreBarColor(n,i)}))}),500),e.notificationUpdate(o)},this.notificationUpdate=function(t){var o=$page.virtualDesignerBar.find(".notification-count"),a=$page.virtualDesignerBar.find(".speech-bubble"),n={};if(!$page.body.hasClass("not-started-yet")){a.find(".messages").html(""),a.find(".message-browser").html(""),n.errorMessages=e.getCurrentErrorMessages(t),n.nonErrorMessages=e.getPersistentNonErrorMessages();var i=Object.values(n.errorMessages).length,r=Object.values(n.nonErrorMessages).length;0===i&&(n.allGoodMessage=window.i18nYouAreAllSet);var s=parseInt(o.html());i>0||r>0?(o.removeClass("hidden"),o.html(i+r)):(o.addClass("hidden"),o.html("0"));var d=parseInt(o.html()),l=s!==d;if(i>0){for(var c in n.errorMessages){a.find(".message-browser").append('<span class="message-number"></span>');var g="";"brandAttributes"===c||"industry"===c||"icon"===c?g=window.i18nChooseNow:"text"===c&&(g=window.i18nCheckNameAndSlogan),a.find(".messages").append('<div class="message"><p>'+n.errorMessages[c].replace(new RegExp("&quot;","g"),"'")+'</p><p><a data-recommendation="'+c+'" class="follow-recommendation-link" href="#">'+g+"</a></p></div>")}a.find(".messages .message:first").addClass("active"),a.find(".message-browser .message-number:first").addClass("active")}if(0===i&&0===r&&n.allGoodMessage){var p=window.i18nGenerate;a.find(".message-browser").append('<span class="message-number"></span>'),a.find(".messages").append('<div class="message active"><p>'+n.allGoodMessage.replace(new RegExp("&quot;","g"),"'")+'</p><p><a data-recommendation="generate-now" class="follow-recommendation-link" href="#">'+p+"</a></p></div>")}if(r>0){for(var u in a.find(".messages .message").removeClass("active"),n.nonErrorMessages){a.find(".message-browser").append('<span class="message-number"></span>');var m="";"trySomethingNew"===u&&(m=window.i18nGotIt),a.find(".messages").prepend('<div class="message"><p>'+n.nonErrorMessages[u].replace(new RegExp("&quot;","g"),"'")+'</p><p><a data-recommendation="'+u+'" class="follow-recommendation-link" href="#">'+m+"</a></p></div>")}a.find(".messages .message:first").addClass("active"),a.find(".message-browser .message-number:first").addClass("active")}if(l){var f=d>s?"warning":"success";e.alertNotificationCountChange(f)}}},e.alertNotificationCountChange=function(t){window.setTimeout((function(){e.animateNotification(t)}),400)},this.animateNotification=function(e){var t=$page.virtualDesignerBar.find(".notification-count");"warning"===e?t.addClass("warning"):t.addClass("success"),window.setTimeout((function(){t.addClass("animated"),window.setTimeout((function(){t.removeClass("animated"),t.removeClass("success")}),550)}),100)},this.mockDataForInputScores=function(){var t={};return t.companyName=$page.inputs.name.val(),t.companyTagline=$page.inputs.tagline.val(),t.companyKeywords=$page.inputs.brandAttributes.val(),t.companyIndustries=$page.inputs.industries.val(),t.logoTypes=e.getActiveLogoTypes(),t.iconFavoriteCount=e.getIconFavoriteCount(),t.imageFavoriteCount=e.getImageFavoriteCount(),t},this.followRecommendation=function(t){var o=$('.logo-maker-nav-bar .section-nav a[data-hash="#'+t+'"]').parent();o.hasClass("active")||o.trigger("click"),"brand-attributes"===t?(e.animateTagsInputField($(".input-container.keywords .bootstrap-tagsinput"),150),$(".logo-maker-nav-bar .nav-tabs").animate({scrollLeft:0},500)):"industry"===t?e.animateTagsInputField($(".input-container.industry .bootstrap-tagsinput"),150):"icon"===t&&$(".logo-maker-nav-bar .nav-tabs").animate({scrollLeft:250},500)},this.animateTagsInputField=function(e,t){window.setTimeout((function(){e.addClass("animated"),window.setTimeout((function(){e.removeClass("animated")}),200)}),t)},this.updateScoreBarColor=function(e,t){t>=70?e.addClass("progress-bar-success").removeClass("progress-bar-warning").removeClass("progress-bar-danger"):t>=30?e.addClass("progress-bar-warning").removeClass("progress-bar-success").removeClass("progress-bar-danger"):e.addClass("progress-bar-danger").removeClass("progress-bar-success").removeClass("progress-bar-warning")},this.getInputScores=function(t){var o={overall:100,sections:{text:e.getTextScore(t.companyName,t.companyTagline),brandAttributes:e.getBrandAttributesScore(t.companyKeywords),industry:e.getIndustryScore(t.companyIndustries),icon:e.getIconScore(t.logoTypes,t.iconFavoriteCount),image:e.getImageScore(t.imageFavoriteCount),colors:100,fonts:100,virtualDesigner:100}};return o.overall=(o.sections.text+o.sections.brandAttributes+o.sections.industry+o.sections.icon)/4,o},this.getTextScore=function(t,o){var a=e.getNameScore(t),n=e.getTaglineScore(o);return a<=40?a:Math.min(a,n)},this.getCurrentErrorMessages=function(e){var t={};return e.sections.text<70&&(t.text=window.i18nCheckTextLength),e.sections.brandAttributes<70&&(t.brandAttributes='<span class="my-recommendation">'+window.i18nMyRecommendation+"</span>"+$(".section-brand-attributes .step-headline").text()),e.sections.industry<100&&(t.industry='<span class="my-recommendation">'+window.i18nMyRecommendation+"</span>"+$(".section-industry .step-headline").text()),e.sections.icon<100&&(t.icon=window.i18nPersonalizedIcon),t},this.getPersistentNonErrorMessages=function(){return"undefined"!=typeof Storage&&window.localStorage.getItem("nonErrorMessages")?JSON.parse(window.localStorage.getItem("nonErrorMessages")):{}},this.updatePersistentNonErrorMessages=function(e){"undefined"!=typeof Storage&&window.localStorage.setItem("nonErrorMessages",JSON.stringify(e))},this.getNameScore=function(e){return e.length<=2||e.length>=35?20:e.length<=3?70:e.length>=25&&e.length<35?50:100},this.getTaglineScore=function(e){return e.length>=40?20:e.length>=30&&e.length<40?60:e.length>=25&&e.length<30?70:100},this.getBrandAttributesScore=function(e){return e?e.length&&-1===e.indexOf(",")?40:e.split(",").length>=3?100:70:20},this.getIndustryScore=function(e){return e?100:20},this.getIconScore=function(e,t){return e.indexOf("icon")>=0&&0===t?40:100},this.getImageScore=function(e){return 0===e?40:100},this.updateProgressBar=function(e){e.ajaxCounter++,e.percentage=Math.round(e.ajaxCounter/e.fileCount*100)},this.appendLogos=function(t,o,a,n,i){for(var r=0;r<o.length;r++)if(!a.onlyFavorites||"0"===o[r].fileName.substr(0,1)){if("simple"===n)e.simpleTemplate(t,o,a,r,i);else{var s={fileName:o[r].fileName,logoPath:a.logoPath,refNumber:o[r].refNumber,logoId:o[r].logoId,svgString:o[r].svgString,hex1:o[r].hex1,hex2:o[r].hex2,randomTemplate:a.renderInstructions[r].randomTemplate},d=e.extendedTemplate(s,i);t.append(d)}"default"!==a.renderInstructions[r].randomTemplate.toLowerCase()&&e.renderSingleMutation(a.renderInstructions[r],o[r].fileName,o[r].svgString,t.find(".item:last .logo-preview .mutations-container"),"mutation");var l=t.find(".item:last");if($page.body.hasClass("page-generate")&&l.closest(".preview-container").length){var c=e.getLayoutOptionsForTiles(l),g=a.renderInstructions[r].brandInfos,p=a.extendedLogoInfos[g.logoId];c.isFavorite=p.isFavorite,c.hasHistory=!!(p.historyCount&&parseInt(p.historyCount)>0),c.dynamicFilters=p.dynamicFilters,SmashingLogo.BrandingTiles.buildTiles(l,a.renderInstructions[r].brandInfos,c)}}},this.getLayoutOptionsForTiles=function(e){var t={compactViewbox:!0,appendBottomBar:!0,editableThirdTile:!0,callToActions:[{text:window.i18nPreview+" & "+window.i18nEdit,url:e.find(".logo-options .btn-envision-brand").attr("href"),type:"primary"}]};return"enabled"===$page.body.attr("data-interactive-components-status")&&(t.interactiveBottomBar=!0),t},this.simpleTemplate=function(e,t,o,a,n){var i="default"===o.renderInstructions[a].randomTemplate||"Default"===o.renderInstructions[a].randomTemplate;e.append($.el("div",{class:"item "+("0"===t[a].fileName.substr(0,1)?"favorite ":"")+(n?"new":"")}).append($.el("div",{class:"logo-preview hide-color-nav","data-hex1":t[a].hex1,"data-hex2":t[a].hex2,"data-svg-file-path":o.logoPath+"/"+t[a].fileName}).append($.el("div",{class:"mutations-container"}).append('<div data-template-identifier="Default" data-random-template="'+i+'" class="mutation default" data-front-hex="'+t[a].hex1+";"+t[a].hex2+'" data-back-hex="ffffff"><div class="bg-layer"></div><img class="wm" src="/static/img/wm.svg"></img><div class="svg-container">'+t[a].svgString+"</div></div>"))))},this.extendedTemplate=function(e,t){var o="default"===e.randomTemplate||"Default"===e.randomTemplate;return $.el("div",{class:"item "+("0"===e.fileName.substr(0,1)?"favorite ":"")+(t?"new":"")}).append($.el("div",{class:"logo-preview hide-color-nav","data-hex1":e.hex1,"data-hex2":e.hex2,"data-svg-file-path":e.logoPath+"/"+e.fileName}).append($.el("div",{class:"mutations-container"}).append('<div data-template-identifier="Default" data-random-template="'+o+'" class="mutation default" data-front-hex="'+e.hex1+";"+e.hex2+'" data-back-hex="ffffff"><div class="bg-layer"></div><img class="wm" src="/static/img/wm.svg"></img><div class="svg-container">'+e.svgString+"</div></div>"))).append($.el("div",{class:"spinner"}).append($.el("div",{class:"bounce1"})).append($.el("div",{class:"bounce2"})).append($.el("div",{class:"bounce3"}))).append($.el("span",{class:"vote-count"}).html(" Votes").prepend($.el("strong",{class:"count"}).html("0"))).append($.el("div",{class:"logo-options"}).append($.el("a",{class:"btn btn-default "+("0"===e.fileName.substr(0,1)?"btn-unfavorite":"btn-favorite"),href:"#",title:"0"===e.fileName.substr(0,1)?window.i18nRemoveFromFavorites.replace("&quot;","'"):window.i18nAddToFavorites.replace("&quot;","'"),"data-toggle-tooltip":"tooltip","data-placement":"top"}).append($.el("span",{class:"glyphicon "+("0"===e.fileName.substr(0,1)?"glyphicon-remove":"glyphicon-heart")}))).append($.el("a",{class:"btn btn-default btn-purchase",href:"/"+window.i18nLangKey+"/"+window.i18nRealurlCheckout+"?s="+e.refNumber.replace("_","")+"-"+e.logoId,title:window.i18nBuyOneWord.replace("&quot;","'"),"data-toggle-tooltip":"tooltip","data-placement":"top"}).append($.el("span",{class:"glyphicon glyphicon-shopping-cart"}))).append($.el("a",{class:"btn btn-default btn-envision-brand",href:"/"+window.i18nLangKey+"/"+window.i18nRealurlPreview+"?s="+e.refNumber.replace("_","")+"-"+e.logoId,title:window.i18nPreview.replace("&quot;","'"),"data-toggle-tooltip":"tooltip","data-placement":"top"}).append($.el("span",{class:"glyphicon glyphicon-fullscreen"}))).append($.el("a",{class:"btn btn-default btn-quick-edit",href:"/"+window.i18nLangKey+"/"+window.i18nRealurlQuickEdit+"?s="+e.refNumber.replace("_","")+"-"+e.logoId,title:window.i18nVariations.replace("&quot;","'"),"data-toggle-tooltip":"tooltip","data-placement":"top"}).append($.el("span",{class:"glyphicon glyphicon-pencil"}))).append($.el("a",{class:"btn btn-default btn-editor",href:"/"+window.i18nLangKey+"/"+window.i18nRealurlEditor+"?s="+e.refNumber.replace("_","")+"-"+e.logoId,title:window.i18nEditorMetaTitle.replace("&quot;","'"),"data-toggle-tooltip":"tooltip","data-placement":"top"}).append($.el("span",{class:"glyphicon glyphicon-wrench primary"}))))},this.setupForSessionWithNoLogos=function(){SmashingLogo.Utils.initTooltips(),$page.body.addClass("ajax-finished").trigger("logosReady")},this.setupForNewUser=function(){$page.body.addClass("ajax-finished").addClass("take-tour").trigger("logosReady"),window.location.hash&&"#tour-completed"!==window.location.hash?e.activateTourSection(window.location.hash.replace("#","")):e.setTourHash("tour-name")},this.generateCallbackSuccess=function(t){if("failed"===t||"object"===_typeof(t)&&t.logoFileNames&&0===t.logoFileNames.length)e.reEnableGenerateButtons();else{if("limit-reached"===t)return e.reEnableGenerateButtons(),void($page.body.hasClass("take-tour")||$("#modalLimitReached").modal("show"));if("draw-error"===t)return e.reEnableGenerateButtons(),void($page.body.hasClass("take-tour")||$("#modalGenerateError").modal("show"));if("no-favorite-match"===t)return e.reEnableGenerateButtons(),void $("#modalNoFavoriteMatch").modal("show");if("temporarily-disabled"===t)return e.reEnableGenerateButtons(),void $("#modalTemporarilyDisabled").modal("show");$.extend({el:function(e,t){var o=$(document.createElement(e));return o.attr(t),o}}),t.isInteractiveComponentsEnabled&&$page.body.attr("data-interactive-components-status","enabled"),e.appendRenderedSvgLogos(t,$(".preview-container"),!0)}},this.disableGenerateButtons=function(){$page.buttons.generateMore.attr("disabled","disabled"),$page.buttons.deleteFavorites.attr("disabled","disabled"),$page.buttons.manageFavorites.attr("disabled","disabled")},this.reEnableGenerateButtons=function(){$page.buttons.generateMore.removeAttr("disabled"),$page.buttons.deleteFavorites.removeAttr("disabled"),$page.buttons.manageFavorites.removeAttr("disabled")},this.renderTemplateSingleColorHex1=function(e,t,o,a,n,i){var r=new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),s=SmashingLogo.ColorUtils.getMixedColor("#ffffff",e.hex1,.15),d="SingleColorHex1"===e.randomTemplate||"singleColorHex1"===e.randomTemplate,l=i?'<div class="inner-wrap" style="background-color: '+s+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(o).replace(r,"#"+e.hex1)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(o).replace(r,"#"+e.hex1);a.append($('<div data-template-identifier="SingleColorHex1" data-front-hex="'+e.hex1+'" data-back-hex="'+s.substr(1)+'" data-random-template="'+d+'" class="'+n+' template-single-color1 color-world-hex1" style="background-color: '+s+';"></div>').append(l))},this.renderTemplateInvertedHex1=function(e,t,o,a,n,i){var r="InvertedHex1"===e.randomTemplate||"invertedHex1"===e.randomTemplate,s=i?'<div class="inner-wrap" style="background-color: #'+e.hex1+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite);a.append($('<div data-template-identifier="InvertedHex1" data-front-hex="ffffff" data-back-hex="'+e.hex1+'" data-random-template="'+r+'" class="'+n+' inversed hex1 color-world-hex1" style="background-color: #'+e.hex1+';"></div>').append(s))},this.renderTemplateBlackAndHighlightColorHex1=function(e,t,o,a,n,i){var r=SmashingLogo.ColorUtils.getMixedColor("#000000",e.hex1,.3),s="xxxxxx"===e.hex2?e.hex1:"ffffff;"+e.hex1,d="BlackAndHighlightColorHex1"===e.randomTemplate,l="";l=e.gradientMode&&-1===window.gradientColorsWhichShouldFadeToWhite.indexOf(e.hex1.toUpperCase())?o:(l=(l=o.replace(new RegExp("#ffffff","gi"),"xxxxxx_placeholder")).replace(new RegExp("(?!(#"+e.hex1+"))(#(?:[0-9a-f]{2}){2,4})","gi"),"#ffffff")).replace(new RegExp("xxxxxx_placeholder","gi"),"#000000");var c=i?'<div class="inner-wrap" style="background-color: '+r+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(l)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(l);a.append($('<div data-template-identifier="BlackAndHighlightColorHex1" data-front-hex="'+s+'" data-back-hex="'+r.substr(1)+'" data-random-template="'+d+'" class="'+n+' template-black-and-highlight-hex1 color-world-hex1" style="background-color: '+r+';"></div>').append(c))},this.renderTemplateSingleColorHex2=function(e,t,o,a,n,i){var r=new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),s=SmashingLogo.ColorUtils.getMixedColor("#ffffff",e.hex2,.15),d="SingleColorHex2"===e.randomTemplate||"singleColorHex2"===e.randomTemplate,l=i?'<div class="inner-wrap" style="background-color: '+s+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(o).replace(r,"#"+e.hex2)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(o).replace(r,"#"+e.hex2);a.append($('<div data-template-identifier="SingleColorHex2" data-front-hex="'+e.hex2+'" data-back-hex="'+s.substr(1)+'" data-random-template="'+d+'" class="'+n+' template-single-color2 color-world-hex2" style="background-color: '+s+';"></div>').append(l))},this.renderTemplateInvertedHex2=function(e,t,o,a,n,i){var r="InvertedHex2"===e.randomTemplate||"invertedHex2"===e.randomTemplate,s=i?'<div class="inner-wrap" style="background-color: #'+e.hex2+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite);a.append($('<div data-template-identifier="InvertedHex2" data-front-hex="ffffff" data-back-hex="'+e.hex2+'" data-random-template="'+r+'" class="'+n+' inversed hex2 color-world-hex2" style="background-color: #'+e.hex2+';"></div>').append(s))},this.renderTemplateBlackAndHighlightColorHex2=function(e,t,o,a,n,i){var r=SmashingLogo.ColorUtils.getMixedColor("#000000",e.hex2,.3),s="BlackAndHighlightColorHex2"===e.randomTemplate||"blackMagicHex2"===e.randomTemplate||"BlackMagicHex2"===e.randomTemplate,d=o.replace(new RegExp("#ffffff","gi"),"xxxxxx_placeholder");d=(d=d.replace(new RegExp("(?!(#"+e.hex2+"))(#(?:[0-9a-f]{2}){2,4})","gi"),"#ffffff")).replace(new RegExp("xxxxxx_placeholder","gi"),"#000000");var l=i?'<div class="inner-wrap" style="background-color: '+r+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(d)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(d);a.append($('<div data-template-identifier="BlackAndHighlightColorHex2" data-front-hex="ffffff;'+e.hex2+'" data-back-hex="'+r.substr(1)+'" data-random-template="'+s+'" class="'+n+' template-black-and-highlight-hex2 color-world-hex2" style="background-color: '+r+';"></div>').append(l))},this.renderTemplate1c=function(e,t,o,a,n,i){var r=new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),s="1c"===e.randomTemplate,d=i?'<div class="inner-wrap" style="background-color: #efefef">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(o).replace(r,"#000000")+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(o).replace(r,"#000000");a.append($('<div data-template-identifier="1c" data-front-hex="000000" data-back-hex="efefef" data-random-template="'+s+'" class="'+n+' template-1c color-world-black" style="background-color: #efefef;"></div>').append(d))},this.renderTemplateBlackBackWhiteLogo=function(e,t,o,a,n,i){var r="BlackBackWhiteLogo"===e.randomTemplate||"blackBackWhiteLogo"===e.randomTemplate,s=i?'<div class="inner-wrap" style="background-color: #000000">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite);a.append($('<div data-template-identifier="BlackAndWhiteLogo" data-front-hex="ffffff" data-back-hex="000000" data-random-template="'+r+'" class="'+n+' inversed black color-world-black" style="background-color: #000000;"></div>').append(s))},this.renderTemplateContrast=function(t,o,a,n,i,r){var s="Contrast"===t.randomTemplate||"contrast"===t.randomTemplate,d=r?'<div class="inner-wrap" style="background-color: #'+t.templateContrastColor+'">'+t.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(a)+"</div>":t.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(a);if(n.append($('<div data-template-identifier="Contrast" data-front-hex="'+t.hex1+";"+t.hex2+'" data-back-hex="'+t.templateContrastColor+'" data-random-template="'+s+'" class="'+i+' template-contrast color-world-special" style="background-color: #'+t.templateContrastColor+';"></div>').append(d)),t.customColorMapping&&t.customColorMapping.paths&&n.find(".template-contrast path").each((function(){for(var o=$(this),a=e.buildUniquePathIdentifier(o),n=0;n<t.customColorMapping.paths.length;n++)t.customColorMapping.paths[n].uniquePathIdentifier===a&&(o.attr("fill",t.customColorMapping.paths[n].fill),o.attr("fill-opacity")&&o.attr("fill-opacity","1"))})),t.customDesign){var l=n.find('[data-template-identifier="Contrast"]');l.html(SmashingLogo.Utils.uniqueSVG(t.customDesign.svgString)),l.attr("data-back-hex",t.customDesign.background),l.css("background-color","#"+t.customDesign.background),l.attr("data-front-hex",t.customDesign.foreground)}},this.extendRenderInstructions=function(e,t,o){e.svgStringWhite=o.replace(new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),"#ffffff"),e.hex1=t.substr(t.indexOf("_hex_")+5,6),e.hex2=t.substr(t.indexOf("_hex2_")+6,6),e.watermarkMarkup='<div class="bg-layer"></div><img class="wm" src="/static/img/wm.svg" alt=""></img> '},this.renderSingleMutation=function(t,o,a,n,i,r){switch(e.extendRenderInstructions(t,o,a),t.randomTemplate){case"SingleColorHex1":e.renderTemplateSingleColorHex1(t,o,a,n,i,r);break;case"SingleColorHex2":e.renderTemplateSingleColorHex2(t,o,a,n,i,r);break;case"InvertedHex1":e.renderTemplateInvertedHex1(t,o,a,n,i,r);break;case"InvertedHex2":e.renderTemplateInvertedHex2(t,o,a,n,i,r);break;case"BlackAndHighlightColorHex1":e.renderTemplateBlackAndHighlightColorHex1(t,o,a,n,i,r);break;case"BlackAndHighlightColorHex2":e.renderTemplateBlackAndHighlightColorHex2(t,o,a,n,i,r);break;case"1c":e.renderTemplate1c(t,o,a,n,i,r);break;case"BlackBackWhiteLogo":e.renderTemplateBlackBackWhiteLogo(t,o,a,n,i,r);break;case"Contrast":e.renderTemplateContrast(t,o,a,n,i,r)}n.find(".mutation:not(.default) svg").wrap('<div class="svg-container"></div>')},this.renderTemplates=function(t,o,a,n,i,r){e.extendRenderInstructions(t,o,a),t.renderTemplateSingleColorHex1&&e.renderTemplateSingleColorHex1(t,o,a,n,i,r),t.renderTemplateSingleColorHex2&&!t.gradientMode&&e.renderTemplateSingleColorHex2(t,o,a,n,i,r),t.renderTemplateInvertedHex1&&e.renderTemplateInvertedHex1(t,o,a,n,i,r),t.renderTemplateInvertedHex2&&!t.gradientMode&&e.renderTemplateInvertedHex2(t,o,a,n,i,r),t.renderTemplateBlackAndHighlightColorHex1&&e.renderTemplateBlackAndHighlightColorHex1(t,o,a,n,i,r),t.renderTemplateBlackAndHighlightColorHex2&&!t.gradientMode&&e.renderTemplateBlackAndHighlightColorHex2(t,o,a,n,i,r),t.renderTemplate1c&&e.renderTemplate1c(t,o,a,n,i,r),t.renderTemplateBlackBackWhiteLogo&&e.renderTemplateBlackBackWhiteLogo(t,o,a,n,i,r),t.renderTemplateContrast&&!t.doNotRenderContrastMutation&&e.renderTemplateContrast(t,o,a,n,i,r),n.find("svg").wrap('<div class="svg-container"></div>')},this.buildUniquePathIdentifier=function(e){for(var t="",o=e.parentsUntil("svg"),a=["isPathIcon","isIcon","isPrimaryText","isMirroredPrimaryText","isContainerElementsWrapper","isSecondaryText","isMirroredSecondaryText","isGlobalGroup","glyphName"],n=o.length;n>=0;n--){var i=o.eq(n).attr("data-paper-data");if(i)for(var r=JSON.parse(i),s=0;s<a.length;s++)Object.prototype.hasOwnProperty.call(r,a[s])&&("glyphName"===a[s]&&r.glyphIndex?t+="glyphIndex_"+r.glyphIndex+"_":t+=a[s]+"_")}return t+=e.index()},this.selectActiveColorMutation=function(e){e.each((function(){var e=$(this),t=e.find("[data-random-template=true]").index(),o=e.find(".logo-preview .mutation").eq(t),a=e.find(".logo-preview").attr("data-hex1"),n=e.find(".logo-preview").attr("data-hex2"),i=a;o.addClass("active"),i=o.hasClass("template-black-and-highlight-hex1")||o.hasClass("template-single-color1")?"#"+a:o.hasClass("template-black-and-highlight-hex2")||o.hasClass("template-single-color2")?"#"+n:o.hasClass("template-contrast")?"#"+a:o.hasClass("template-gray")?"#cccccc":o.hasClass("inversed")&&o.hasClass("hex1")?"#"+a:o.hasClass("inversed")&&o.hasClass("hex2")?"#"+n:o.hasClass("default")?"#"+a:"#333333",$(this).find(".logo-options .btn").css("color",i)}))},this.appendLogoOptionButtons=function(e){for(var t=e.closest("#modalManageFavorites").length,o=0;o<e.length;o++){var a=e.eq(o),n=a.find(".mutations-container .mutation.active").attr("data-back-hex"),i="#"+a.find(".mutations-container .mutation.active").attr("data-front-hex").split(";")[0],r=SmashingLogo.ColorUtils.getSuitableBlendColorAdvanced(n,i),s=SmashingLogo.ColorUtils.hexToRgb(r),d=a.find(".logo-options .btn-envision-brand").attr("href"),l=a.find(".logo-options .btn-quick-edit").attr("href"),c=a.find(".logo-options .btn-purchase").attr("href"),g=$('<a style="background: #'+n+';" class="logo-option-button envision" href="'+d+'"><span class="glyphicon glyphicon-fullscreen" style="color: '+r+"; border-color: "+r+'"></span></a>'),p=$('<span style="background: #'+n+';" class="logo-option-button favorite"><span class="glyphicon glyphicon-heart" style="color: '+r+"; border-color: "+r+'"></span></span>'),u=void 0;u=t?$('<span class="logo-option-button unfavorite"><span class="glyphicon glyphicon-trash" style="color: '+r+"; border-color: "+r+'"></span>'):$('<span class="logo-option-button unfavorite" style="background-color: '+r+';"><span class="glyphicon glyphicon-heart" style="color: #'+n+'"></span>');var m=$('<a style="background: #'+n+';" class="logo-option-button buy" href="'+c+'"><span class="glyphicon glyphicon-shopping-cart" style="color: '+r+"; border-color: "+r+'"></span></a>'),f=$('<a style="background: #'+n+';" class="logo-option-button edit" href="'+l+'#name-text"><span class="glyphicon glyphicon-pencil" style="color: '+r+"; border-color: "+r+'"></span></a>');if(a.find(".logo-preview").append(g).append(p).append(u).append(m).append(f),!t&&SmashingLogo.PromoVideos){var h=SmashingLogo.PromoVideos.buildVideoControls(n,r,s),v=$('<div class="progress ajax-progress-bar"><div class="progress-bar progress-bar-warning active" style="background-color: '+r+';" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div>');a.find(".logo-preview").append(h).append(v)}}},this.scrollToEndOfPreviewCarousel=function(e){e.find("> .item").length&&e.scrollLeft(e.find("> .item:last").position().left)},this.scrollToPreviousLogo=function(){var t,o=SmashingLogo.Utils.getPreviousLogoId();return!!o&&($(".preview-container").find(".item").each((function(){var e=$(this),a=e.find(".logo-preview").attr("data-svg-file-path"),n=a.substr(a.indexOf("_hex")-9,9);if(o===n)return t=e,!1})),!!t&&(e.scrollToSnapItem($(".preview-container"),t),t))},this.shareLinksSetup=function(){if($(".preview-container .item").length){$("#modalVoting").removeClass("no-logos-in-session");var e=$(".preview-container .item:first .logo-preview").attr("data-svg-file-path").substr("/static/tmp_private/".length,10);$("#modalVoting .share-buttons li a").each((function(){var t=$(this),o=t.attr("href").replace(new RegExp("_xxxxxx","g"),e);t.attr("href",o)}));var t="https://smashinglogo.com/logo-voting/?s="+e;window.location.origin&&(t=window.location.origin+"/logo-voting/?s="+e),$("#modalVoting #voting-clipboard-input").val(t),new ClipboardJS($("#modalVoting .btn-copy-to-clipboard").get(0))}else $("#modalVoting").addClass("no-logos-in-session")},this.switchUIFromTourToLogoMaker=function(){$page.body.removeClass("designer-work-in-progress"),e.setTourHash("tour-completed"),e.collapsedDesignerView(),window.setTimeout((function(){e.applyInputScores(e.mockDataForInputScores())}),500)},this.generate=function(){if(""===$page.inputs.name.val()||$page.inputs.name.val().length<2)$("#modalMissingLogoName").modal();else if(!($.active>0)){e.disableGenerateButtons(),e.closeConfigColumn(),e.collapsedDesignerView();var t=e.getAjaxParams();$.ajax({url:"/v2/logos/generate/",type:"POST",data:t,timeout:6e4,success:function(t){"failed"!==t?(""===$page.inputs.industries.val()&&t.mockedIndustries&&$page.inputs.industries.tagsinput("add",{key:t.mockedIndustries.key,translation:t.mockedIndustries.translation}),e.generateCallbackSuccess(t)):e.reEnableGenerateButtons()},error:function(){console.log("process error")}})}},this.collapsedDesignerView=function(){$page.virtualDesignerBar.hasClass("collapsed-view")||$page.virtualDesignerBar.addClass("collapsed-view").removeClass("expanded-view")},this.expandedDesignerView=function(){$page.virtualDesignerBar.hasClass("expanded-view")||($page.virtualDesignerBar.find(".speech-bubble").addClass("hidden"),$page.virtualDesignerBar.removeClass("collapsed-view").addClass("expanded-view"),$page.virtualDesignerBar.find(".speech-bubble").css("opacity","0"),window.setTimeout((function(){$page.virtualDesignerBar.find(".speech-bubble").removeClass("hidden"),window.setTimeout((function(){$page.virtualDesignerBar.find(".speech-bubble").css("opacity","1")}),200)}),800))},this.getAjaxParams=function(){return{companyName:$page.inputs.name.val(),companyTagline:$page.inputs.tagline.val(),companyIndustries:$page.inputs.industries.val(),companyKeywords:$page.inputs.brandAttributes.val(),logoTypes:e.getActiveLogoTypes(),selectedColorSpectrums:e.getActiveColorSpectrums($(".generate-config-column .section-colors .custom-colors")),selectedFontCategories:e.getActiveFontCategories($(".generate-config-column .section-fonts .custom-fonts")),specificPatternId:$("#specificPatternIdHiddenField").length?$("#specificPatternIdHiddenField").val():-1,userLangKey:$("html").attr("lang"),referrerPage:"logo-maker",disabledIconIds:e.getDisabledIconIdsFromLocalStorage()}},this.setupIndustryKeywords=function(){$page.inputs.industries.on("itemAdded",(function(t){if(t.options&&t.options.preventPost)return!1;var o=$(".input-container.industry .tt-input");o.typeahead("val",""),o.is(":focus")&&(o.blur(),$("html,body").scrollTop(0)),e.updateIndustriesOnServer("itemAdded")})),$page.inputs.industries.on("itemRemoved",(function(t){if(t.options&&t.options.preventPost)return!1;t.item.key.indexOf("freeinput")>=0&&e.removeCustomIndustryFromLocalStorage(t.item.key),e.updateIndustriesOnServer("itemRemoved")}))},this.addCustomIndustryToLocalStorage=function(e,t){if("undefined"!=typeof Storage){for(var o=window.localStorage.getItem("customIndustries"),a=o?JSON.parse(o):[],n=!0,i=0;i<a.length;i++)a[i].key===e&&(n=!1);a.push({key:e,translation:t}),a.length<=3&&n&&window.localStorage.setItem("customIndustries",JSON.stringify(a))}},this.removeCustomIndustryFromLocalStorage=function(e){if("undefined"!=typeof Storage){for(var t=window.localStorage.getItem("customIndustries"),o=t?JSON.parse(t):[],a=0;a<o.length;a++)o[a].key===e&&o.splice(a,1);window.localStorage.setItem("customIndustries",JSON.stringify(o))}},this.getDisabledIconIdsFromLocalStorage=function(e){return"undefined"==typeof Storage?[]:window.localStorage.getItem("disabledIconIds")||[]},this.addDisabledIconIdToLocalStorage=function(e){if("undefined"!=typeof Storage){var t=window.localStorage.getItem("disabledIconIds"),o=t?JSON.parse(t):[];-1===o.indexOf(e)&&(o.push(e),window.localStorage.setItem("disabledIconIds",JSON.stringify(o)))}},this.removeDisabledIconIdFromLocalStorage=function(e){if("undefined"!=typeof Storage){var t=window.localStorage.getItem("disabledIconIds"),o=t?JSON.parse(t):[],a=o.indexOf(e);a>=0&&(o.splice(a,1),window.localStorage.setItem("disabledIconIds",JSON.stringify(o)))}},this.setupColorSelectionRadioButtons=function(e){"custom"===e.colorSelectionPolicy&&($("#radio-custom-colors").attr("checked","checked"),$("#radio-recommended-colors").removeAttr("checked"),$(".generate-config-column .section-colors .recommended-colors").addClass("hidden"),$(".generate-config-column .section-colors .custom-colors").removeClass("hidden"))},this.setupFontSelectionRadioButtons=function(e){"custom"===e.fontSelectionPolicy&&($("#radio-custom-fonts").attr("checked","checked"),$("#radio-recommended-fonts").removeAttr("checked"),$(".generate-config-column .section-fonts .recommended-fonts").addClass("hidden"),$(".generate-config-column .section-fonts .custom-fonts").removeClass("hidden"))},this.nextTourButtonState=function(){if($page.body.attr("data-tour-step")&&$page.body.hasClass("take-tour")){var t=$page.body.attr("data-tour-step");if("tour-attributes"!==t)if("tour-industries"!==t)if("tour-icons"!==t)if("tour-images"!==t){if("tour-colors"===t){var o=!0,a=$(".config-section.section-colors .color-selection"),n=a.find(".custom-colors").hasClass("hidden"),i=!a.find(".custom-colors").hasClass("hidden");return n?o=!!a.find(".provide-brand-attributes").hasClass("hidden"):i&&(o=!!a.find(".custom-colors .color-spectrum.selected").length),void e.applyStateToNextButton(o)}e.applyContinueStateToNextButton()}else{var r=e.getImageFavoriteCount()>0;e.applyStateToNextButton(r)}else{var s=e.getIconFavoriteCount()>0;e.applyStateToNextButton(s)}else{var d=""!==$("#companyIndustries").val();e.applyStateToNextButton(d)}else{var l=""!==$("#companyKeywords").val();e.applyStateToNextButton(l)}}},this.applyStateToNextButton=function(t){t?e.applyContinueStateToNextButton():e.applySkipStateToNextButton()},this.applyContinueStateToNextButton=function(){$(".logo-maker-nav-bar .tour-buttons .btn-next").addClass("continue-state").removeClass("skip-state")},this.applySkipStateToNextButton=function(){$(".logo-maker-nav-bar .tour-buttons .btn-next").addClass("skip-state").removeClass("continue-state")},this.getTourSteps=function(){return["tour-name","tour-industries","tour-images","tour-designer","tour-attributes","tour-colors","tour-icons","tour-finish","tour-completed"]},this.setTourHash=function(e){window.location.hash=e},this.activateTourSection=function(t){-1!==e.getTourSteps().indexOf(t)&&(""!==$page.inputs.name.val()||"tour-name"===t)?($page.body.addClass("take-tour"),$page.body.addClass("not-started-yet"),$page.body.removeClass("active-session"),$page.body.addClass("show-config-column"),$page.body.removeClass("designer-work-in-progress"),"tour-name"===t?e.openTextConfigTab():"tour-industries"===t?e.openIndustryConfigTab():"tour-designer"===t?e.openVirtualDesignersConfigTab():"tour-attributes"===t?e.openBrandAttributesConfigTab():"tour-colors"===t?e.openColorConfigTab():"tour-icons"===t?e.openIconConfigTab():"tour-images"===t?e.openImageConfigTab():"tour-finish"===t?($(".logo-maker-nav-bar .nav-tabs li.active").removeClass("active"),e.openFinalTourStep()):"tour-completed"===t&&($page.body.removeClass("take-tour"),$page.body.removeClass("not-started-yet"),$page.body.addClass("active-session"),e.closeConfigColumn()),$page.body.attr("data-tour-step",t),window.location.hash=t,window.scrollTo(0,0),e.collapsedDesignerView(),e.nextTourButtonState()):e.setTourHash("tour-name")},this.setIconFavoriteCount=function(e){$page.body.attr("data-icon-favorite-count",e)},this.getIconFavoriteCount=function(){var e=$page.body.attr("data-icon-favorite-count");return e?parseInt(e):0},this.setImageFavoriteCount=function(e){$page.body.attr("data-image-favorite-count",e)},this.getImageFavoriteCount=function(){var e=$page.body.attr("data-image-favorite-count");return e?parseInt(e):0},this.addIconFavorite=function(t,o,a,n){$.ajax({url:"/icons/favorites/add/",type:"POST",data:{iconId:t,iconSvgString:o,combineTerms:a,groupSection:n},timeout:6e4,success:function(t){if(t.limitReached)return $page.modalIconFavoriteLimit.modal("show"),void SmashingLogo.Utils.hideLoadingAnimation();t.iconFavorites?(e.buildIconFavorites($(".icon-favorite-slots"),t.iconFavorites),e.setIconFavoriteCount(t.iconFavorites.length),e.applyInputScores(e.mockDataForInputScores()),e.nextTourButtonState(),SmashingLogo.Utils.hideLoadingAnimation()):SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})},this.addImageFavorite=function(t,o,a){$.ajax({url:"/envision/images/favorites/add/",type:"POST",data:{id:t,source:o,groupSection:a},timeout:6e4,success:function(t){if(t.limitReached)return $page.modalImageFavoriteLimit.modal("show"),void SmashingLogo.Utils.hideLoadingAnimation();t.imageFavorites?(e.buildImageFavorites(t.imageFavorites),e.setImageFavoriteCount(t.imageFavorites.length),e.applyInputScores(e.mockDataForInputScores()),e.nextTourButtonState(),SmashingLogo.Utils.hideLoadingAnimation()):SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})},this.buildIconFavorites=function(t,o){t.html("");for(var a=0;a<10;a++)t.append('<div class="placeholder"><span class="glyphicon glyphicon-search"></span></div>');for(var n=0;n<o.length;n++){var i=o[n],r=$('<div class="icon-wrapper"></div>');-1===e.getDisabledIconIdsFromLocalStorage().indexOf(i.id)&&r.addClass("selected");var s=$('<div data-icon-id="'+i.id+'" data-file-name="'+i.fileName+'" data-is-svg-icon="true" class="icon">'+i.svgString+"</div>"),d=$('<button class="remove-icon-favorite"><span class="text">'+window.i18nRemove+"</span></button>"),l=$('<div class="checkmark"><span class="glyphicon glyphicon-ok"></span></div>');r.append(s),r.append(d),r.append(l),t.find(".placeholder:first").replaceWith(r)}},this.buildImageFavorites=function(e){var t=$(".image-favorite-slots");t.html("");for(var o=0;o<6;o++){var a=$('<div class="placeholder"></div>');window.isPhotoSearchEnabled&&a.append('<span class="glyphicon glyphicon-search"></span>'),t.append(a)}for(var n=0;n<e.length;n++){var i=e[n],r=$('<div class="image-wrapper"></div>'),s=$('<div data-image-source="'+i.source+'" data-file-name="'+i.fileName+'" data-image-id="'+i.id+'" class="image"><img src="'+i.imageUrl+'" /></div>'),d=$('<button class="remove-image-favorite"><span class="glyphicon glyphicon-remove"></span></button>');r.append(s),r.append(d),t.find(".placeholder:first").replaceWith(r)}},this.scrollToDesigner=function(e){var t=$('.section-virtual-designers .virtual-designers .designer[data-designer-name="'+e+'"]'),o=$page.logoMakerNavBar.find(".config-column");if(!o.hasClass("is-animated")){var a,n;o.addClass("is-animated");var i=$(".designer-nav-container").outerHeight();$page.body.hasClass("take-tour")?(a=$("html,body"),n=t.offset().top-i):(a=o,n=t.position().top-i),a.animate({scrollTop:n},600,(function(){o.removeClass("is-animated")}))}},this.setActiveDesignerNav=function(){var t=$(".select-designer-column .virtual-designers .designer"),o=SmashingLogo.Utils.getMostVisible(t).attr("data-designer-name"),a=$('.designer-nav-container .mode[data-designer-name="'+o+'"]');if(o&&a.length){var n=$(".designer-nav-container .switch-modes");o===n.find(".mode.active").attr("data-designer-name")||n.hasClass("animation-in-progress")||e.animateActiveItemInView(n,a),clearTimeout($.data(this,"scrollTimer")),$.data(this,"scrollTimer",setTimeout((function(){e.animateActiveItemInView(n,a)}),500)),a.addClass("active").siblings().removeClass("active")}},e.animateActiveItemInView=function(e,t){if(t.length){var o=e.scrollLeft()+t.offset().left-2*parseInt(t.css("marginLeft"));e.addClass("animation-in-progress"),e.animate({scrollLeft:o},300,(function(){e.removeClass("animation-in-progress")}))}},this.handleIndustrySlots=function(t){var o=$(".chosen-industries-inner-column .industries");if(o.html(""),$(".tt-suggestion").removeClass("active").addClass("inactive"),0!==t.length)for(var a=0;a<3;a++)if(t[a]){var n=t[a].key,i=t[a].translation,r=$('<div class="industry" data-industry-identifier="'+n+'" data-industry-translation="'+i+'"></div>'),s=$('<button class="remove-industry-favorite"><span class="glyphicon glyphicon-remove"></span></button>'),d=$('<div class="inner-container"><div class="industry-image-wrap"><img class="industry-image" src="'+e.getImageSourceForIndustry(n)+'" /></div><span class="industry-name">'+i+"</span></div>");r.append(d).append(s),$('.tt-suggestion[data-industry-identifier="'+n+'"]').addClass("active").removeClass("inactive"),o.append(r)}else{var l=$('<div class="placeholder"></div>');o.append(l)}else for(var c=0;c<3;c++)o.append('<div class="placeholder"></div>')},this.getImageSourceForIndustry=function(e){var t="trustworthy";return 0===e.indexOf("fitness")?t="strong":0===e.indexOf("real_estate")?t="experienced":0===e.indexOf("yoga")?t="spiritual":0===e.indexOf("travel")?t="relaxed":0===e.indexOf("law")?t="harmonious":e.indexOf("jewel")>=0?t="luxurious":e.indexOf("fashion")>=0?t="fashionable":e.indexOf("camping")>=0?t="adventurous":e.indexOf("wood")>=0?t="down_to_earth":e.indexOf("mens_tailor")>=0?t="fancy":e.indexOf("university")>=0?t="cultured":e.indexOf("flower")>=0?t="romantic":e.indexOf("construction")>=0?t="stable":e.indexOf("party_planner")>=0?t="fun":e.indexOf("magic")>=0?t="magical":e.indexOf("baby")>=0?t="hip":e.indexOf("theraphy")>=0&&(t="trendy"),"/static/img/keywords/"+t+".svg"},this.normalizeStringForIndustrySearch=function(e){var t,o=(_defineProperty(t={"ẚ":"a","Á":"a","á":"a","À":"a","à":"a","Ă":"a","ă":"a","Ắ":"a","ắ":"a","Ằ":"a","ằ":"a","Ẵ":"a","ẵ":"a","Ẳ":"a","ẳ":"a","Â":"a","â":"a","Ấ":"a","ấ":"a","Ầ":"a","ầ":"a","Ẫ":"a","ẫ":"a","Ẩ":"a","ẩ":"a","Ǎ":"a","ǎ":"a","Å":"a","å":"a","Ǻ":"a","ǻ":"a","Ä":"a","ä":"a","Ǟ":"a","ǟ":"a","Ã":"a","ã":"a","Ȧ":"a","ȧ":"a","Ǡ":"a","ǡ":"a","Ą":"a","ą":"a","Ā":"a","ā":"a","Ả":"a","ả":"a","Ȁ":"a","ȁ":"a","Ȃ":"a","ȃ":"a","Ạ":"a","ạ":"a","Ặ":"a","ặ":"a","Ậ":"a","ậ":"a","Ḁ":"a","ḁ":"a","Ⱥ":"a","ⱥ":"a","Ǽ":"a","ǽ":"a","Ǣ":"a","ǣ":"a","Ḃ":"b","ḃ":"b","Ḅ":"b","ḅ":"b","Ḇ":"b","ḇ":"b","Ƀ":"b","ƀ":"b","ᵬ":"b","Ɓ":"b","ɓ":"b","Ƃ":"b","ƃ":"b","Ć":"c","ć":"c","Ĉ":"c","ĉ":"c","Č":"c","č":"c","Ċ":"c","ċ":"c","Ç":"c","ç":"c","Ḉ":"c","ḉ":"c","Ȼ":"c","ȼ":"c","Ƈ":"c","ƈ":"c","ɕ":"c","Ď":"d","ď":"d","Ḋ":"d","ḋ":"d","Ḑ":"d","ḑ":"d","Ḍ":"d","ḍ":"d","Ḓ":"d","ḓ":"d","Ḏ":"d","ḏ":"d","Đ":"d","đ":"d","ᵭ":"d","Ɖ":"d","ɖ":"d","Ɗ":"d","ɗ":"d","Ƌ":"d","ƌ":"d","ȡ":"d","ð":"d","É":"e","Ə":"e","Ǝ":"e","ǝ":"e","é":"e","È":"e","è":"e","Ĕ":"e","ĕ":"e","Ê":"e","ê":"e","Ế":"e","ế":"e","Ề":"e","ề":"e","Ễ":"e","ễ":"e","Ể":"e","ể":"e","Ě":"e","ě":"e","Ë":"e","ë":"e","Ẽ":"e","ẽ":"e","Ė":"e","ė":"e","Ȩ":"e","ȩ":"e","Ḝ":"e","ḝ":"e","Ę":"e","ę":"e","Ē":"e","ē":"e","Ḗ":"e","ḗ":"e","Ḕ":"e","ḕ":"e","Ẻ":"e","ẻ":"e","Ȅ":"e","ȅ":"e","Ȇ":"e","ȇ":"e","Ẹ":"e","ẹ":"e","Ệ":"e","ệ":"e","Ḙ":"e","ḙ":"e","Ḛ":"e","ḛ":"e","Ɇ":"e","ɇ":"e","ɚ":"e","ɝ":"e","Ḟ":"f","ḟ":"f","ᵮ":"f","Ƒ":"f","ƒ":"f","Ǵ":"g","ǵ":"g","Ğ":"g","ğ":"g","Ĝ":"g","ĝ":"g","Ǧ":"g","ǧ":"g","Ġ":"g","ġ":"g","Ģ":"g","ģ":"g","Ḡ":"g","ḡ":"g","Ǥ":"g","ǥ":"g","Ɠ":"g","ɠ":"g","Ĥ":"h","ĥ":"h","Ȟ":"h","ȟ":"h","Ḧ":"h","ḧ":"h","Ḣ":"h","ḣ":"h","Ḩ":"h","ḩ":"h","Ḥ":"h","ḥ":"h","Ḫ":"h","ḫ":"h",H:"h","̱":"h","ẖ":"h","Ħ":"h","ħ":"h","Ⱨ":"h","ⱨ":"h","Í":"i","í":"i","Ì":"i","ì":"i","Ĭ":"i","ĭ":"i","Î":"i","î":"i","Ǐ":"i","ǐ":"i","Ï":"i","ï":"i","Ḯ":"i","ḯ":"i","Ĩ":"i","ĩ":"i","İ":"i",i:"i","Į":"i","į":"i","Ī":"i","ī":"i","Ỉ":"i","ỉ":"i","Ȉ":"i","ȉ":"i","Ȋ":"i","ȋ":"i","Ị":"i","ị":"i","Ḭ":"i","ḭ":"i",I:"i","ı":"i","Ɨ":"i","ɨ":"i","Ĵ":"j","ĵ":"j",J:"j","̌":"j","ǰ":"j","ȷ":"j","Ɉ":"j","ɉ":"j","ʝ":"j","ɟ":"j","ʄ":"j","Ḱ":"k","ḱ":"k","Ǩ":"k","ǩ":"k","Ķ":"k","ķ":"k","Ḳ":"k","ḳ":"k","Ḵ":"k","ḵ":"k","Ƙ":"k","ƙ":"k","Ⱪ":"k","ⱪ":"k","Ĺ":"a","ĺ":"l","Ľ":"l","ľ":"l","Ļ":"l","ļ":"l","Ḷ":"l","ḷ":"l","Ḹ":"l","ḹ":"l","Ḽ":"l","ḽ":"l","Ḻ":"l","ḻ":"l","Ł":"l","ł":"l"},"Ł","l"),_defineProperty(t,"̣","l"),_defineProperty(t,"ł","l"),_defineProperty(t,"̣","l"),_defineProperty(t,"Ŀ","l"),_defineProperty(t,"ŀ","l"),_defineProperty(t,"Ƚ","l"),_defineProperty(t,"ƚ","l"),_defineProperty(t,"Ⱡ","l"),_defineProperty(t,"ⱡ","l"),_defineProperty(t,"Ɫ","l"),_defineProperty(t,"ɫ","l"),_defineProperty(t,"ɬ","l"),_defineProperty(t,"ɭ","l"),_defineProperty(t,"ȴ","l"),_defineProperty(t,"Ḿ","m"),_defineProperty(t,"ḿ","m"),_defineProperty(t,"Ṁ","m"),_defineProperty(t,"ṁ","m"),_defineProperty(t,"Ṃ","m"),_defineProperty(t,"ṃ","m"),_defineProperty(t,"ɱ","m"),_defineProperty(t,"Ń","n"),_defineProperty(t,"ń","n"),_defineProperty(t,"Ǹ","n"),_defineProperty(t,"ǹ","n"),_defineProperty(t,"Ň","n"),_defineProperty(t,"ň","n"),_defineProperty(t,"Ñ","n"),_defineProperty(t,"ñ","n"),_defineProperty(t,"Ṅ","n"),_defineProperty(t,"ṅ","n"),_defineProperty(t,"Ņ","n"),_defineProperty(t,"ņ","n"),_defineProperty(t,"Ṇ","n"),_defineProperty(t,"ṇ","n"),_defineProperty(t,"Ṋ","n"),_defineProperty(t,"ṋ","n"),_defineProperty(t,"Ṉ","n"),_defineProperty(t,"ṉ","n"),_defineProperty(t,"Ɲ","n"),_defineProperty(t,"ɲ","n"),_defineProperty(t,"Ƞ","n"),_defineProperty(t,"ƞ","n"),_defineProperty(t,"ɳ","n"),_defineProperty(t,"ȵ","n"),_defineProperty(t,"N","n"),_defineProperty(t,"̈","n"),_defineProperty(t,"n","n"),_defineProperty(t,"̈","n"),_defineProperty(t,"Ó","o"),_defineProperty(t,"ó","o"),_defineProperty(t,"Ò","o"),_defineProperty(t,"ò","o"),_defineProperty(t,"Ŏ","o"),_defineProperty(t,"ŏ","o"),_defineProperty(t,"Ô","o"),_defineProperty(t,"ô","o"),_defineProperty(t,"Ố","o"),_defineProperty(t,"ố","o"),_defineProperty(t,"Ồ","o"),_defineProperty(t,"ồ","o"),_defineProperty(t,"Ỗ","o"),_defineProperty(t,"ỗ","o"),_defineProperty(t,"Ổ","o"),_defineProperty(t,"ổ","o"),_defineProperty(t,"Ǒ","o"),_defineProperty(t,"ǒ","o"),_defineProperty(t,"Ö","o"),_defineProperty(t,"ö","o"),_defineProperty(t,"Ȫ","o"),_defineProperty(t,"ȫ","o"),_defineProperty(t,"Ő","o"),_defineProperty(t,"ő","o"),_defineProperty(t,"Õ","o"),_defineProperty(t,"õ","o"),_defineProperty(t,"Ṍ","o"),_defineProperty(t,"ṍ","o"),_defineProperty(t,"Ṏ","o"),_defineProperty(t,"ṏ","o"),_defineProperty(t,"Ȭ","o"),_defineProperty(t,"ȭ","o"),_defineProperty(t,"Ȯ","o"),_defineProperty(t,"ȯ","o"),_defineProperty(t,"Ȱ","o"),_defineProperty(t,"ȱ","o"),_defineProperty(t,"Ø","o"),_defineProperty(t,"ø","o"),_defineProperty(t,"Ǿ","o"),_defineProperty(t,"ǿ","o"),_defineProperty(t,"Ǫ","o"),_defineProperty(t,"ǫ","o"),_defineProperty(t,"Ǭ","o"),_defineProperty(t,"ǭ","o"),_defineProperty(t,"Ō","o"),_defineProperty(t,"ō","o"),_defineProperty(t,"Ṓ","o"),_defineProperty(t,"ṓ","o"),_defineProperty(t,"Ṑ","o"),_defineProperty(t,"ṑ","o"),_defineProperty(t,"Ỏ","o"),_defineProperty(t,"ỏ","o"),_defineProperty(t,"Ȍ","o"),_defineProperty(t,"ȍ","o"),_defineProperty(t,"Ȏ","o"),_defineProperty(t,"ȏ","o"),_defineProperty(t,"Ơ","o"),_defineProperty(t,"ơ","o"),_defineProperty(t,"Ớ","o"),_defineProperty(t,"ớ","o"),_defineProperty(t,"Ờ","o"),_defineProperty(t,"ờ","o"),_defineProperty(t,"Ỡ","o"),_defineProperty(t,"ỡ","o"),_defineProperty(t,"Ở","o"),_defineProperty(t,"ở","o"),_defineProperty(t,"Ợ","o"),_defineProperty(t,"ợ","o"),_defineProperty(t,"Ọ","o"),_defineProperty(t,"ọ","o"),_defineProperty(t,"Ộ","o"),_defineProperty(t,"ộ","o"),_defineProperty(t,"Ɵ","o"),_defineProperty(t,"ɵ","o"),_defineProperty(t,"Ṕ","p"),_defineProperty(t,"ṕ","p"),_defineProperty(t,"Ṗ","p"),_defineProperty(t,"ṗ","p"),_defineProperty(t,"Ᵽ","p"),_defineProperty(t,"Ƥ","p"),_defineProperty(t,"ƥ","p"),_defineProperty(t,"P","p"),_defineProperty(t,"̃","p"),_defineProperty(t,"p","p"),_defineProperty(t,"̃","p"),_defineProperty(t,"ʠ","q"),_defineProperty(t,"Ɋ","q"),_defineProperty(t,"ɋ","q"),_defineProperty(t,"Ŕ","r"),_defineProperty(t,"ŕ","r"),_defineProperty(t,"Ř","r"),_defineProperty(t,"ř","r"),_defineProperty(t,"Ṙ","r"),_defineProperty(t,"ṙ","r"),_defineProperty(t,"Ŗ","r"),_defineProperty(t,"ŗ","r"),_defineProperty(t,"Ȑ","r"),_defineProperty(t,"ȑ","r"),_defineProperty(t,"Ȓ","r"),_defineProperty(t,"ȓ","r"),_defineProperty(t,"Ṛ","r"),_defineProperty(t,"ṛ","r"),_defineProperty(t,"Ṝ","r"),_defineProperty(t,"ṝ","r"),_defineProperty(t,"Ṟ","r"),_defineProperty(t,"ṟ","r"),_defineProperty(t,"Ɍ","r"),_defineProperty(t,"ɍ","r"),_defineProperty(t,"ᵲ","r"),_defineProperty(t,"ɼ","r"),_defineProperty(t,"Ɽ","r"),_defineProperty(t,"ɽ","r"),_defineProperty(t,"ɾ","r"),_defineProperty(t,"ᵳ","r"),_defineProperty(t,"ß","s"),_defineProperty(t,"Ś","s"),_defineProperty(t,"ś","s"),_defineProperty(t,"Ṥ","s"),_defineProperty(t,"ṥ","s"),_defineProperty(t,"Ŝ","s"),_defineProperty(t,"ŝ","s"),_defineProperty(t,"Š","s"),_defineProperty(t,"š","s"),_defineProperty(t,"Ṧ","s"),_defineProperty(t,"ṧ","s"),_defineProperty(t,"Ṡ","s"),_defineProperty(t,"ṡ","s"),_defineProperty(t,"ẛ","s"),_defineProperty(t,"Ş","s"),_defineProperty(t,"ş","s"),_defineProperty(t,"Ṣ","s"),_defineProperty(t,"ṣ","s"),_defineProperty(t,"Ṩ","s"),_defineProperty(t,"ṩ","s"),_defineProperty(t,"Ș","s"),_defineProperty(t,"ș","s"),_defineProperty(t,"ʂ","s"),_defineProperty(t,"S","s"),_defineProperty(t,"̩","s"),_defineProperty(t,"s","s"),_defineProperty(t,"̩","s"),_defineProperty(t,"Þ","t"),_defineProperty(t,"þ","t"),_defineProperty(t,"Ť","t"),_defineProperty(t,"ť","t"),_defineProperty(t,"T","t"),_defineProperty(t,"̈","t"),_defineProperty(t,"ẗ","t"),_defineProperty(t,"Ṫ","t"),_defineProperty(t,"ṫ","t"),_defineProperty(t,"Ţ","t"),_defineProperty(t,"ţ","t"),_defineProperty(t,"Ṭ","t"),_defineProperty(t,"ṭ","t"),_defineProperty(t,"Ț","t"),_defineProperty(t,"ț","t"),_defineProperty(t,"Ṱ","t"),_defineProperty(t,"ṱ","t"),_defineProperty(t,"Ṯ","t"),_defineProperty(t,"ṯ","t"),_defineProperty(t,"Ŧ","t"),_defineProperty(t,"ŧ","t"),_defineProperty(t,"Ⱦ","t"),_defineProperty(t,"ⱦ","t"),_defineProperty(t,"ᵵ","t"),_defineProperty(t,"ƫ","t"),_defineProperty(t,"Ƭ","t"),_defineProperty(t,"ƭ","t"),_defineProperty(t,"Ʈ","t"),_defineProperty(t,"ʈ","t"),_defineProperty(t,"ȶ","t"),_defineProperty(t,"Ú","u"),_defineProperty(t,"ú","u"),_defineProperty(t,"Ù","u"),_defineProperty(t,"ù","u"),_defineProperty(t,"Ŭ","u"),_defineProperty(t,"ŭ","u"),_defineProperty(t,"Û","u"),_defineProperty(t,"û","u"),_defineProperty(t,"Ǔ","u"),_defineProperty(t,"ǔ","u"),_defineProperty(t,"Ů","u"),_defineProperty(t,"ů","u"),_defineProperty(t,"Ü","u"),_defineProperty(t,"ü","u"),_defineProperty(t,"Ǘ","u"),_defineProperty(t,"ǘ","u"),_defineProperty(t,"Ǜ","u"),_defineProperty(t,"ǜ","u"),_defineProperty(t,"Ǚ","u"),_defineProperty(t,"ǚ","u"),_defineProperty(t,"Ǖ","u"),_defineProperty(t,"ǖ","u"),_defineProperty(t,"Ű","u"),_defineProperty(t,"ű","u"),_defineProperty(t,"Ũ","u"),_defineProperty(t,"ũ","u"),_defineProperty(t,"Ṹ","u"),_defineProperty(t,"ṹ","u"),_defineProperty(t,"Ų","u"),_defineProperty(t,"ų","u"),_defineProperty(t,"Ū","u"),_defineProperty(t,"ū","u"),_defineProperty(t,"Ṻ","u"),_defineProperty(t,"ṻ","u"),_defineProperty(t,"Ủ","u"),_defineProperty(t,"ủ","u"),_defineProperty(t,"Ȕ","u"),_defineProperty(t,"ȕ","u"),_defineProperty(t,"Ȗ","u"),_defineProperty(t,"ȗ","u"),_defineProperty(t,"Ư","u"),_defineProperty(t,"ư","u"),_defineProperty(t,"Ứ","u"),_defineProperty(t,"ứ","u"),_defineProperty(t,"Ừ","u"),_defineProperty(t,"ừ","u"),_defineProperty(t,"Ữ","u"),_defineProperty(t,"ữ","u"),_defineProperty(t,"Ử","u"),_defineProperty(t,"ử","u"),_defineProperty(t,"Ự","u"),_defineProperty(t,"ự","u"),_defineProperty(t,"Ụ","u"),_defineProperty(t,"ụ","u"),_defineProperty(t,"Ṳ","u"),_defineProperty(t,"ṳ","u"),_defineProperty(t,"Ṷ","u"),_defineProperty(t,"ṷ","u"),_defineProperty(t,"Ṵ","u"),_defineProperty(t,"ṵ","u"),_defineProperty(t,"Ʉ","u"),_defineProperty(t,"ʉ","u"),_defineProperty(t,"Ṽ","v"),_defineProperty(t,"ṽ","v"),_defineProperty(t,"Ṿ","v"),_defineProperty(t,"ṿ","v"),_defineProperty(t,"Ʋ","v"),_defineProperty(t,"ʋ","v"),_defineProperty(t,"Ẃ","w"),_defineProperty(t,"ẃ","w"),_defineProperty(t,"Ẁ","w"),_defineProperty(t,"ẁ","w"),_defineProperty(t,"Ŵ","w"),_defineProperty(t,"ŵ","w"),_defineProperty(t,"W","w"),_defineProperty(t,"̊","w"),_defineProperty(t,"ẘ","w"),_defineProperty(t,"Ẅ","w"),_defineProperty(t,"ẅ","w"),_defineProperty(t,"Ẇ","w"),_defineProperty(t,"ẇ","w"),_defineProperty(t,"Ẉ","w"),_defineProperty(t,"ẉ","w"),_defineProperty(t,"Ẍ","x"),_defineProperty(t,"ẍ","x"),_defineProperty(t,"Ẋ","x"),_defineProperty(t,"ẋ","x"),_defineProperty(t,"Ý","y"),_defineProperty(t,"ý","y"),_defineProperty(t,"Ỳ","y"),_defineProperty(t,"ỳ","y"),_defineProperty(t,"Ŷ","y"),_defineProperty(t,"ŷ","y"),_defineProperty(t,"Y","y"),_defineProperty(t,"̊","y"),_defineProperty(t,"ẙ","y"),_defineProperty(t,"Ÿ","y"),_defineProperty(t,"ÿ","y"),_defineProperty(t,"Ỹ","y"),_defineProperty(t,"ỹ","y"),_defineProperty(t,"Ẏ","y"),_defineProperty(t,"ẏ","y"),_defineProperty(t,"Ȳ","y"),_defineProperty(t,"ȳ","y"),_defineProperty(t,"Ỷ","y"),_defineProperty(t,"ỷ","y"),_defineProperty(t,"Ỵ","y"),_defineProperty(t,"ỵ","y"),_defineProperty(t,"ʏ","y"),_defineProperty(t,"Ɏ","y"),_defineProperty(t,"ɏ","y"),_defineProperty(t,"Ƴ","y"),_defineProperty(t,"ƴ","y"),_defineProperty(t,"Ź","z"),_defineProperty(t,"ź","z"),_defineProperty(t,"Ẑ","z"),_defineProperty(t,"ẑ","z"),_defineProperty(t,"Ž","z"),_defineProperty(t,"ž","z"),_defineProperty(t,"Ż","z"),_defineProperty(t,"ż","z"),_defineProperty(t,"Ẓ","z"),_defineProperty(t,"ẓ","z"),_defineProperty(t,"Ẕ","z"),_defineProperty(t,"ẕ","z"),_defineProperty(t,"Ƶ","z"),_defineProperty(t,"ƶ","z"),_defineProperty(t,"Ȥ","z"),_defineProperty(t,"ȥ","z"),_defineProperty(t,"ʐ","z"),_defineProperty(t,"ʑ","z"),_defineProperty(t,"Ⱬ","z"),_defineProperty(t,"ⱬ","z"),_defineProperty(t,"Ǯ","z"),_defineProperty(t,"ǯ","z"),_defineProperty(t,"ƺ","z"),t);if(!e)return"";for(var a="",n=0;n<e.length;n++)a+=o[e.charAt(n)]||e.charAt(n);return a=a.replace(/-/g," ")},this.validateIndustryString=function(e){return e.replace(/[~`!@#$%^&*(){}\[\];:"<,.>?\/\\|_+=-]/g," ").replace(/\s+/g," ")}}SmashingLogo.LogoMaker=new LogoMaker;
"use strict";function _createForOfIteratorHelper(e,a){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||a&&e&&"number"==typeof e.length){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(c)throw i}}}}function _unsupportedIterableToArray(e,a){if(e){if("string"==typeof e)return _arrayLikeToArray(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,a):void 0}}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}function Pricing(){var e=this;this.init=function(){e.attachEventHandler()},this.attachEventHandler=function(){if(($page.body.hasClass("page-checkout")||$page.body.hasClass("page-preview"))&&($page.body.on("click",".pricing-container-row .btn-purchase",(function(e){e.preventDefault();var a=$(this),t=$.parseJSON($page.body.attr("data-product-ids")),r=t[a.attr("data-product-name")],n=$page.body.attr("data-logo-path"),i=n.substr(n.indexOf("/_")+1,10),s=n+";"+i+";"+$("html").attr("lang")+";"+$page.body.attr("data-session-id")+";"+$page.body.attr("data-country-code")+";"+$page.body.attr("data-budget"),c="BUSINESS",o="https://"+window.location.host+"/thank-you/",d=window.i18nOneTimePayment;r===t.basic?c="BASIC":r===t.lite?c="LITE":r===t.premium&&(c="PREMIUM");var u={product:r,title:c,message:d,passthrough:s,allowQuantity:!1,success:o},p=$page.body.attr("data-coupon-code-to-apply");p&&(u.coupon=p),Paddle.Checkout.open(u)})),$page.body.on("click",".btn-start-trial",(function(){var e=$.parseJSON($page.body.attr("data-product-ids")).free,a=$page.body.attr("data-logo-path"),t=a.substr(a.indexOf("/_")+1,10),r={product:e,title:"Trial Version",message:"",passthrough:a+";"+t+";"+$("html").attr("lang")+";"+$page.body.attr("data-session-id")+";"+$page.body.attr("data-country-code")+";"+$page.body.attr("data-budget"),allowQuantity:!1,success:"https://"+window.location.host+"/thanks-trial/"},n=$page.body.attr("data-coupon-code-to-apply");n&&(r.coupon=n),Paddle.Checkout.open(r)})),$page.body.on("click","#discount-slider-button",(function(){var e=parseInt(window.discountSlider.noUiSlider.get());window.location.assign("/coupon/slider/?percentage="+e)})),$page.body.on("click","#discount-slider-percentage .glyphicon",(function(){var a=$(this);if(!a.hasClass("inactive")){var t=parseInt(window.discountSlider.noUiSlider.get()),r=a.hasClass("decrease")?Math.max(t-5,window.discountSliderOptions.range.min):Math.min(t+5,window.discountSliderOptions.range.max);window.discountSlider.noUiSlider.set(r),e.percentageButtonState()}})),$page.body.on("click",".btn-request-discount",(function(){var e=$(this),a=$("#modalDiscountSlider");a.attr("data-package",e.attr("data-package")),a.modal("show")}))),$page.body.on("click",".whats-included a",(function(e){e.preventDefault(),$("html,body").animate({scrollTop:$("#pricing-comparision-table").offset().top-65},800)})),$page.body.on("click",".pricing-features-col .icon-info",(function(e){$("#modalPricingFeatures").modal("show");var a=$(this).attr("data-section"),t=$('#modalPricingFeatures .features .feature[data-section="'+a+'"]');$("#modalPricingFeatures").animate({scrollTop:t.position().top},800)})),$page.body.on("click",".pricing-table-cta .btn-info-modal",(function(e){$("#modalPricingFeatures").modal("show")})),SmashingLogo.Utils.isIntersectionObserverSupported()){var a=new IntersectionObserver((function(e){e.forEach((function(e){var a=$(e.target),t=a.attr("data-section");e.isIntersecting?(a.addClass("focused-item"),$('#modalPricingFeatures .features-nav .mode[data-section="'+t+'"]').addClass("active").siblings().removeClass("active")):a.removeClass("focused-item")}))}),{rootMargin:"0px",threshold:.5});document.querySelectorAll("#modalPricingFeatures .features .feature").forEach((function(e){e&&a.observe(e)}))}else $("#modalPricingFeatures .features .feature").addClass("focused-item");$page.body.on("click","#modalPricingFeatures .features-nav .mode",(function(e){var a=$(this).attr("data-section"),t=$('#modalPricingFeatures .features .feature[data-section="'+a+'"]');$("#modalPricingFeatures").animate({scrollTop:t.position().top},800)})),$page.body.on("click",".packages-nav .mode",(function(e){var a=$(this),t=a.attr("data-packages"),r=a.closest(".pricing-container");"recommended"===t?r.addClass("hide-basic"):r.removeClass("hide-basic"),a.addClass("active").siblings().removeClass("active")}))},this.fetchPrices=function(a){var t=JSON.parse($("body").attr("data-product-ids")),r=Date.now();$.ajax({url:"https://checkout.paddle.com/api/2.0/prices",dataType:"jsonp",data:a,timeout:6e4,success:function(a){var n=Date.now()-r;"undefined"!=typeof Sentry&&n>5e3&&Sentry.withScope((function(e){e.setTag("timeElapsed",1e3*Math.round(n/1e3)),Sentry.captureMessage("Price Fetching needs more than 5 seconds")}));var i=a.response.products,s=a.response.customer_country;if(!e.isFormatToPartsSupported())return e.updatePricesFallback(i,t),void("undefined"!=typeof Sentry&&Sentry.captureMessage("formatToParts not supported"));e.updatePrices(i,t,s),$page.body.addClass("pricing-ready")},error:function(e,a,t){"undefined"!=typeof Sentry&&Sentry.withScope((function(n){n.setTag("jqXHR.status",e.status),n.setTag("textStatus",a),n.setTag("errorThrown",t),n.setTag("timeElapsed",Date.now()-r),Sentry.captureMessage("Error Callback from Price Fetching")}))}})},this.logoPackagesConfig=function(e){var a=JSON.parse($("body").attr("data-product-ids"));return{product_ids:a.basic+","+a.lite+","+a.business+","+a.premium,coupons:e||void 0}},this.creditsConfig=function(e){var a=JSON.parse($("body").attr("data-product-ids"));return{product_ids:a.credits100+","+a.credits200+","+a.credits500+","+a.credits1000,coupons:e||void 0}},this.setupIndividualPricing=function(a,t,r,n){if(SmashingLogo.Utils.setHotjarUserAttributes({hasCouponSlider:void 0!==t}),a){$page.body.attr("data-coupon-code-to-apply",a.couponCode),$page.body.addClass("discount-countdown-active");var i=$('<div class="trial-discount-info"></div>'),s=$("<h3>"+window.i18nDiscountBoxHeader+"</h3>"),c=$('<div class="content-wrap"></div>'),o=$('<div class="text column"><p>'+window.i18nDiscountBoxText.replace("COUPON_PERCENT_DO_NOT_TRANSLATE",a.discountAmount)+"</p></div>"),d=$('<div class="countdown column"><p class="discount-countdown"><span class="countdown">00:00:00</span><span class="asterix">*</span></p></div>');c.append(o).append(d);var u=$('<p class="expire-notice"><span class="asterix">*</span><span class="expire-message">'+window.i18nCountdownExpireMessage+"</span></p>");i.append(s).append(c).append(u);if(a.countryCode&&-1===["XX","T1"].indexOf(a.countryCode)){i.attr("data-country-code",a.countryCode);var p=$('<span class="country"><img src="/static/img/flags/'+a.countryCode+'.svg"></span>');i.prepend(p)}r.prepend(i),SmashingLogo.Utils.startTimer(a.expiresEpoch,$(".discount-countdown .countdown"))}else t?e.initDiscountSlider(t):n&&($page.body.addClass("recommended-pricing"),$(".pricing-container").addClass("hide-basic"),$(".packages-nav-container").removeClass("hidden"))},this.updatePrices=function(a,t,r){var n,i=_createForOfIteratorHelper(a);try{for(i.s();!(n=i.n()).done;){var s=n.value,c={style:"currency",currency:s.currency,currencyDisplay:"symbol"},o=new Intl.NumberFormat(navigator.languages,c);switch(s.product_id){case t.basic:e.updatePrice(s,o,r,$(".pricing-container .col-basic"));break;case t.lite:e.updatePrice(s,o,r,$(".pricing-container .col-lite"));break;case t.business:e.updatePrice(s,o,r,$(".pricing-container .col-business"));break;case t.premium:e.updatePrice(s,o,r,$(".pricing-container .col-customized"));break;case t.credits100:e.updatePrice(s,o,r,$('[data-addon="credits100"]'));break;case t.credits200:e.updatePrice(s,o,r,$('[data-addon="credits200"]'));break;case t.credits500:e.updatePrice(s,o,r,$('[data-addon="credits500"]'));break;case t.credits1000:e.updatePrice(s,o,r,$('[data-addon="credits1000"]'));break;default:continue}}}catch(e){i.e(e)}finally{i.f()}},this.updatePrice=function(a,t,r,n){var i=a.price.gross,s=a.list_price.gross,c=a.applied_coupon.code,o=a.currency;n.each((function(){var a=$(this),n=a.find(".price"),d=n.find(".final-price"),u=e.getPriceInfo(t,i,o);if(d.html(u.html),c){var p=e.getPriceInfo(t,s,o,!0),l=$('<div class="price-inner-wrap list-price-inner-wrap"><strike class="list-price">'+p.html+"</strike></div>");n.prepend(l),n.addClass("discounted-price")}switch(o){case"TRY":d.find(".symbol").appendTo(d),e.adjustPriceSize("medium-size");break;case"EUR":case"ILS":d.find(".symbol").prependTo(d);break;case"CHF":case"KRW":case"TWD":case"UAH":e.adjustPriceSize("medium-size");break;case"COP":case"ARS":e.adjustPriceSize("small-size");break;case"NOK":n.addClass("extended-currency-padding");break;case"ZAR":n.addClass("extended-currency-padding"),e.adjustPriceSize("medium-size")}if(e.shouldFlagBeShown(r,o,u.currencySymbol)){var g=$('<div class="country-currency-info"></div>'),f=$('<span class="country"><img src="/static/img/flags/'+(r+".svg")+'" alt="'+r+'" /></span>'),m=$('<span class="currency">'+o+"</span>");g.append(f).append(m),a.append(g)}}))},this.getPriceInfo=function(e,a,t,r){var n,i=Number.isInteger(a)&&["ARS","COP","INR","JPY","HUF","SEK","PLN","TRY","MXN","CZK","RUB","DKK","BRL","ILS","NOK","THB","TWD","UAH","ZAR"].indexOf(t)>=0,s=["CHF","GBP","BRL","NOK"].indexOf(t)>=0||r;return{html:e.formatToParts(a).map((function(e){var a=e.type,c=e.value;switch(a){case"integer":case"group":return'<span class="amount">'.concat(c,"</span>");case"decimal":return i?"":["CHF","GBP"].indexOf(t)>=0||s?'<span class="amount">'.concat(c,"</span>"):"";case"fraction":return i?"":'<span class="'.concat(s?"fraction":"fraction superscript",'">').concat(c,"</span>");case"currency":var o=["ARS","COP","PLN","CHF","TRY","GBP","DKK","BRL","ILS","INR","JPY","KRW","NOK","THB","TWD","UAH","ZAR"].indexOf(t)>=0||r?"symbol":"symbol superscript";return n=c,"TRY"===t?n="TL":"SGD"!==t&&"COP"!==t||(n="$"),'<span class="'.concat(o,'">').concat(n,"</span>");default:return""}})).reduce((function(e,a){return e+a})),currencySymbol:n}},this.adjustPriceSize=function(e){$(".pricing-container").each((function(){var a=$(this);a.find(".col-basic .price").addClass(e),a.find(".col-lite .price").addClass(e),a.find(".col-business .price").addClass(e),a.find(".col-customized .price").addClass(e)}))},this.shouldFlagBeShown=function(e,a,t){var r=!1;return["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SK","SI"].indexOf(e)>=0&&(r=!0),["BR","CH","CO","CZ","DK","GB","HK","HU","IL","IN","JP","KR","NO","PL","SE","TH","TR","TW","UA","ZA"].indexOf(e)>=0&&(r=!0),["NG","DZ","SA","AE"].indexOf(e)>=0&&(r=!0),["AR","MX","CA","AU","NZ","SG"].indexOf(e)>=0&&"$"===t&&(r=!0),"US"==e&&(r=!1),$page.body.hasClass("page-addons")&&(r=!1),r},this.updatePricesFallback=function(a,t){var r,n=_createForOfIteratorHelper(a);try{for(n.s();!(r=n.n()).done;){var i=r.value;switch(i.product_id){case t.basic:e.updatePriceFallback(i.price.gross,i.currency,$(".pricing-container .col-basic"));break;case t.lite:e.updatePriceFallback(i.price.gross,i.currency,$(".pricing-container .col-lite"));break;case t.business:e.updatePriceFallback(i.price.gross,i.currency,$(".pricing-container .col-business"));break;case t.premium:e.updatePriceFallback(i.price.gross,i.currency,$(".pricing-container .col-customized"));break;case t.credits100:e.updatePriceFallback(i.price.gross,i.currency,$('[data-addon="credits100"]'));break;case t.credits200:e.updatePriceFallback(i.price.gross,i.currency,$('[data-addon="credits200"]'));break;case t.credits500:e.updatePriceFallback(i.price.gross,i.currency,$('[data-addon="credits500"]'));break;case t.credits1000:e.updatePriceFallback(i.price.gross,i.currency,$('[data-addon="credits1000"]'))}}}catch(e){n.e(e)}finally{n.f()}},this.updatePriceFallback=function(e,a,t){t.each((function(){var t=$(this).find(".price").find(".final-price");t.find(".symbol").html(a),t.find(".amount").html(e)}))},this.isFormatToPartsSupported=function(){return"undefined"!=typeof Intl&&("NumberFormat"in Intl&&"formatToParts"in Intl.NumberFormat.prototype)},this.initDiscountSlider=function(a){window.discountSliderOptions={start:20,step:1,range:{min:a.min,max:a.max}},window.discountSlider=document.getElementById("discount-slider"),noUiSlider.create(window.discountSlider,window.discountSliderOptions),window.discountSlider.noUiSlider.on("update",(function(a,t){var r=parseInt(a[t]);$("#discount-slider-percentage").find(".text").html(r+"%"),e.percentageButtonState()})),$(".btn-request-discount").removeClass("hidden")},this.percentageButtonState=function(){var e=parseInt(window.discountSlider.noUiSlider.get()),a=$("#discount-slider-percentage");a.find(".glyphicon").removeClass("inactive"),e===window.discountSliderOptions.range.min?a.find(".decrease").addClass("inactive"):e===window.discountSliderOptions.range.max&&a.find(".increase").addClass("inactive")}}SmashingLogo.Pricing=new Pricing;
"use strict";function EnvisionPreview(){var o=this;$page.modalFavoriteLimit=$("#modalFavoriteLimitReached"),$page.envisionFooter=$(".envision-cta-footer"),this.init=function(){o.loadPreview(),SmashingLogo.Utils.appendReusableCloseButton(),o.attachEventHandler()},this.loadPreview=function(){var e={s:SmashingLogo.Utils.getParameterByName("s",window.location),userLangKey:$("html").attr("lang")};$.ajax({url:"/envision-preview/",type:"GET",data:e,timeout:6e4,success:function(e){if("auth-error"!==e){SmashingLogo.ManageFavorites.setFavoriteCount(e.favoriteCount);var t=e.referenceNumber.substr(1)+"-"+e.logoId,a="/"+$("html").attr("lang")+"/quick-edit?s="+t,i="/"+$("html").attr("lang")+"/checkout?s="+t;o.setupEnvisionFooter(a,i),$page.body.attr("data-primary-font-id",parseInt(e.primaryFontId)),$page.body.attr("data-company-name",e.companyName),$page.body.attr("data-company-tagline",e.companyTagline),$page.body.attr("data-secondary-font-id",parseInt(e.secondaryFontId)),$page.body.attr("data-logo-path",e.logoFileName);var n=e.logoFileName.substr(e.logoFileName.indexOf("_hex_")+5,6),r=e.logoFileName.substr(e.logoFileName.indexOf("_hex2_")+6,6);$page.body.attr("data-hex-1","#"+n),$page.body.attr("data-hex-2","#"+r),e.renderInstructions.gradientMode&&$page.body.attr("data-gradient-mode",!0);var s=$(".preview-logo-source .item .mutations-container"),d="default"===e.renderInstructions.randomTemplate||"Default"===e.renderInstructions.randomTemplate;s.append($('<div data-template-identifier="Default" data-back-hex="ffffff" data-front-hex="'+n+";"+r+'" data-random-template="'+d+'" class="default mutation"></div>').append(e.svgString)),SmashingLogo.LogoMaker.renderTemplates(e.renderInstructions,e.logoFileName,e.svgString,s,"mutation",!1),e.isInteractiveComponentsEnabled&&$page.body.attr("data-interactive-components-status","enabled"),SmashingLogo.EnvisionBrand.init(e),SmashingLogo.SeamlessHeader.colorBranding(e.brandInfos.primaryBrandColor),SmashingLogo.SeamlessHeader.addDataUrls(),SmashingLogo.Utils.setPreviousLogoId(e.logoId),SmashingLogo.Pricing.setupIndividualPricing(e.couponInfo,e.discountRange,$(".item-pricing .pricing-container"),e.recommendedPricing);var g=SmashingLogo.Pricing.logoPackagesConfig($page.body.attr("data-coupon-code-to-apply"));SmashingLogo.Pricing.fetchPrices(g),$page.body.attr("data-budget",e.budget),SmashingLogo.Utils.hideLoadingAnimation()}else window.location.assign($(".col-menu .link-logo-maker").attr("href"))},error:function(o){switch(o.status){case 401:case 403:case 404:var e=o.getResponseHeader("Smashinglogo-Location")||$(".col-menu .link-logo-maker").attr("href");window.location.assign(e);break;default:console.log("process error")}}})},this.attachEventHandler=function(){$page.body.on("click","#modalHistory .horizontal-logo-wrapper .item",(function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/editor/override-design/",type:"POST",data:{logoPath:$(this).find(".logo-preview").attr("data-svg-file-path"),s:SmashingLogo.Utils.getParameterByName("s",window.location)},timeout:6e4,success:function(){window.location.reload(!0)},error:function(){console.log("process error")}})})),$page.body.on("click","#modalInteractiveComponent .item .logo-preview",(function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/editor/override-design/",type:"POST",data:{logoPath:$(this).attr("data-svg-file-path"),s:SmashingLogo.Utils.getParameterByName("s",window.location)},timeout:6e4,success:function(){window.location.reload(!0)},error:function(){console.log("process error")}})})),$page.body.on("click","#modalInteractiveComponent .item .btn-switch-to-design",(function(){$(this).closest(".item").find(".logo-preview").trigger("click")})),$page.body.on("click","#modalInteractiveComponent .dropdown-menu .item",(function(){var o=$(this).attr("data-component");$('.item-row.logo-components .component[data-component-type="'+o+'"]').trigger("click")})),$page.modalFavoriteLimit.find(".btn-open-favorite-modal").on("click",(function(){$page.modalFavoriteLimit.modal("hide"),$page.body.find(".btn-manage-favorites").trigger("click")})),$(".scroll-indicator .glyphicon").on("click",(function(){var o=$(".envision-brand-sub-navigation .mode.active").next();0!==o.length&&o.trigger("click")}))},this.setupEnvisionFooter=function(o,e){$page.envisionFooter.find(".btn-edit").attr("href",o),$page.envisionFooter.find(".btn-purchase").attr("href",e),$page.envisionFooter.removeClass("hidden")}}SmashingLogo.EnvisionPreview=new EnvisionPreview;
"use strict";function ManageFavorites(){var a=this;$page.buttons.manageFavorites=$(".btn-manage-favorites"),$page.favoriteCount=$page.buttons.manageFavorites.find(".favorite-count"),$page.modalManageFavorites=$("#modalManageFavorites"),window.favoriteLimit=parseInt($("#modalManageFavorites .limit-count").text()),this.init=function(){a.attachEventHandler()},this.attachEventHandler=function(){$page.body.on("favoritesViewReady",(function(){$page.modalManageFavorites.modal("show"),$(".btn-close-modal").removeClass("hidden"),SmashingLogo.Utils.hideLoadingAnimation()})),$page.buttons.manageFavorites.on("click",(function(){$page.modalManageFavorites.find(".modal-body .logos").html(""),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/session/info/manage-favorites/",type:"GET",timeout:6e4,success:function(a){if(!a.logoFileNames.length)return SmashingLogo.Utils.hideLoadingAnimation(),void $page.body.trigger("favoritesViewReady");SmashingLogo.LogoMaker.appendRenderedSvgLogos(a,$page.modalManageFavorites.find(".modal-body .logos"))}})})),$page.modalManageFavorites.on("hidden.bs.modal",(function(){$(".btn-close-modal").addClass("hidden")})),$page.body.on("click",".btn-close-modal",(function(){$(".modal.in").modal("hide"),$(this).addClass("hidden")})),$page.modalManageFavorites.on("click",".logo-option-button.unfavorite",(function(){SmashingLogo.Utils.showLoadingAnimation();var e=$(this).closest(".item"),t=e.find(".logo-preview").attr("data-svg-file-path"),o=t.substr(t.indexOf("_hex")-9,9);$.ajax({url:"/logos/delete-logo/",type:"POST",data:{svgFilePath:t},timeout:6e4,success:function(){SmashingLogo.Utils.hideLoadingAnimation(),e.addClass("remove-animation"),window.setTimeout((function(){e.remove(),$page.body.hasClass("page-generate")&&$(".preview-container .item").each((function(){var a=$(this),e=a.find(".logo-preview").attr("data-svg-file-path");if(e.substr(e.indexOf("_hex")-9,9)===o)return a.remove(),!1})),a.decreaseFavoriteCount()}),600)}})})),$page.modalManageFavorites.on("click",".item .logo-preview .svg-container",(function(){var a=$(this).closest(".item");if(a.hasClass("is-currently-selected"))$page.modalManageFavorites.modal("hide");else{var e=a.find(".logo-preview").attr("data-svg-file-path"),t=e.substr(e.lastIndexOf("/")+1).split("_")[1].substr(0,9),o=e.replace("/static/tmp_private/_","").substr(0,9),i=$("html").attr("lang"),n="/"+i+"/preview?s="+o+"-"+t;$page.body.hasClass("page-variations")?n="/"+i+"/quick-edit?s="+o+"-"+t+"#name-text":$page.body.hasClass("page-checkout")&&(n="/"+i+"/checkout?s="+o+"-"+t),window.location.href=n}}))},this.setFavoriteCount=function(a){$page.favoriteCount.text(a),$page.modalManageFavorites.find(".modal-header .favorite-count").length&&$page.modalManageFavorites.find(".modal-header .favorite-count").text(a)},this.getFavoriteCount=function(){return parseInt($page.favoriteCount.text())},this.increaseFavoriteCount=function(){var e=a.getFavoriteCount();a.setFavoriteCount(e+1)},this.decreaseFavoriteCount=function(){var e=a.getFavoriteCount();a.setFavoriteCount(e-1)}}SmashingLogo.ManageFavorites=new ManageFavorites;
"use strict";function SeamlessHeader(){var e=this;this.init=function(){e.attachEventHandler();var t=$("html").attr("lang"),a=SmashingLogo.Utils.getParameterByName("s",window.location);if($("#modalShare .share-buttons li a").each((function(){var e=$(this),t=e.attr("href").replace(new RegExp("_xxxxxx","g"),a);if(t.indexOf("whatsapp")>=0){var s=/Mobi|iPhone|Android/i.test(navigator.userAgent);t=t.replace("https://api.whatsapp.com/send?",s?"whatsapp://send?":"https://web.whatsapp.com/send?")}e.attr("href",t)})),$("#share-clipboard-input").length){var s=window.location.origin+"/"+t+"/shared/?s="+a;$("#modalShare #share-clipboard-input").val(s),new ClipboardJS($("#modalShare .btn-copy-to-clipboard").get(0))}},this.attachEventHandler=function(){$(".link-customize-request").on("click",(function(e){e.preventDefault(),$("#modalAnyQuestions").modal("show")})),$(".seamless-header .link-share").on("click",(function(e){e.preventDefault(),$("#modalShare").modal("show")})),$(".seamless-header .col-switch-mode .mode").on("click","a",(function(e){$(this).closest("li").hasClass("active")?e.preventDefault():SmashingLogo.Utils.showLoadingAnimation()})),$("#modalAnyQuestions").on("click",".switch-modes .mode",(function(e){var t=$(this),a=t.attr("data-content-target"),s=$('#modalAnyQuestions .content-section[data-content-target="'+a+'"]');t.addClass("active").siblings().removeClass("active"),s.siblings("[data-content-target]").removeClass("active"),s.addClass("active"),"form"===a&&turnstile&&(window.turnstileWidgetId&&turnstile.remove(window.turnstileWidgetId),window.turnstileWidgetId=turnstile.render(".explicit-cf-turnstile"))})),$(".faq-container .panel-heading").on("click",(function(){var e=$(this).closest(".panel");e.siblings().addClass("collapsed"),e.toggleClass("collapsed")})),$("#form-general-question").on("click",'input[type="submit"]',(function(e){if(e.preventDefault(),!($.active>0)){var t=$(this),a=$("#form-general-question .alert");t.attr("disabled","disabled");var s=SmashingLogo.Utils.getParameterByName("s",window.location),n=(window.location.origin||"https://smashinglogo.com")+"/"+$("html").attr("lang")+"/shared?s="+s;$.ajax({url:"/form/general-question/",type:"POST",data:{name:t.closest("form").find(".name").val(),email:t.closest("form").find(".email").val(),message:t.closest("form").find(".message").val(),logoPath:$page.body.attr("data-logo-path"),shareUrl:n,"cf-turnstile-response":t.closest("form").find("input[name=cf-turnstile-response]").val()},timeout:6e4,success:function(e){t.removeAttr("disabled"),"failed"===e?(a.html(window.i18nContactError),a.addClass("alert-danger"),a.removeClass("alert-success")):"success"===e&&(a.html(window.i18nContactSuccess),a.addClass("alert-success"),a.removeClass("alert-danger"),t.closest("form").find("input[type=text], textarea").val(""))}})}}))},this.colorBranding=function(e){$(".seamless-header").css("background-color",e),$(".animation-preview-wrapper .slider-prev, .animation-preview-wrapper .slider-next").css("color",e),$(".btn-start-trial").css({borderColor:e,backgroundColor:e})},this.addDataUrls=function(){var e=$page.body.attr("data-logo-path"),t=e.substr(e.lastIndexOf("/")+1).split("_")[1].substr(0,9),a=e.replace("/static/tmp_private/_","").substr(0,9),s=$("html").attr("lang");$('.seamless-header-container .mode[data-section="preview"] a').attr("href","/"+s+"/preview?s="+a+"-"+t),$('.seamless-header-container .mode[data-section="quick-edit"] a').attr("href","/"+s+"/quick-edit?s="+a+"-"+t+"#name-text");var n="/"+s+"/checkout?s="+a+"-"+t,o=$('.seamless-header-container .col-buy a, .seamless-header-container .mode[data-section="checkout"] a, .envision-cta-footer .variation-action-button.buy, .btn-see-download-options'),i=$(".seamless-header-container .col-menu .link-buy");o.attr("href",n),i.attr("href",n)},this.refreshFavoriteButton=function(e){window.setTimeout((function(){SmashingLogo.ManageFavorites.setFavoriteCount(e);var t=$(".seamless-header .btn-manage-favorites");t.addClass("animated"),window.setTimeout((function(){t.removeClass("animated")}),1200)}),800)}}SmashingLogo.SeamlessHeader=new SeamlessHeader;
"use strict";function EmbeddedImageSearch(){var e=this;$page.modalZeroImagesFound=$("#modalZeroImagesFound"),$page.modalZeroImagesFoundNoAI=$("#modalZeroImagesFoundNoAI"),$page.modalAIPoweredImages=$("#modalAIPoweredImages"),this.init=function(){e.attachEventHandler()},this.attachEventHandler=function(){$page.body.on("click","#embedded-image-search-container .handle-credits .btn-buy-credits",(function(){$("#modalCredits").modal("show")})),$page.body.on("click","#embedded-image-search-container .btn-show-ai-powered-content",(function(){SmashingLogo.Utils.showLoadingAnimation(),$page.modalAIPoweredImages.find(".images").html(""),$.ajax({url:"/envision/ai/images/",type:"GET",data:{currentCount:$page.modalAIPoweredImages.find(".images .image").length},timeout:6e4,success:function(a){e.appendAIPoweredImages(a.images,a.endReached,a.allowDownload),$page.modalAIPoweredImages.modal("show"),SmashingLogo.Utils.hideLoadingAnimation()},error:function(){console.log("process error")}})})),$page.modalAIPoweredImages.on("click",".btn-add-more",(function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/envision/ai/images/",type:"GET",data:{currentCount:$page.modalAIPoweredImages.find(".images .image").length},timeout:6e4,success:function(a){e.appendAIPoweredImages(a.images,a.endReached,a.allowDownload),SmashingLogo.Utils.hideLoadingAnimation()},error:function(){console.log("process error")}})})),$page.body.on("click","#embedded-image-search-container .image-search-submit",(function(){var a=$("#embedded-image-search-container .image-search-input");a.val()?($("#image-search-section .image-search-header").addClass("compact"),e.browseImages()):a.focus()})),$page.body.on("click","#embedded-image-search-container .btn-load-more",(function(){e.browseImages()})),$page.body.on("click","#embedded-image-search-container .btn-more-suggested-images",(function(){var a=$(this),i=a.closest(".image-suggestions-group"),o=a.closest(".image-suggestions-footer");i.find(".image-suggestions-content .image.hidden").removeClass("hidden");var n=$('<h3 class="hl-something-different">'+window.i18nWantSomethingDifferent+"</h3>"),t=$('<button class="btn btn-default jump-to-search"><span class="glyphicon glyphicon-search"></span> '+window.i18nSearch+"</a>");o.append(n),o.append(t),a.remove(),e.setActiveImageSectionNav()})),$page.body.on("click","#image-groups-nav-container .switch-modes .mode",(function(){var e,a,i=$(this).attr("data-image-group-nav"),o=$('[data-image-group-section="'+i+'"]').offset().top,n=$("#image-groups-nav-container").outerHeight();if($page.body.hasClass("page-generate"))$page.body.hasClass("take-tour")?(e=$("html,body"),a=o-n):a=(e=$page.logoMakerNavBar.find(".config-column")).scrollTop()+o-($page.virtualDesignerBar.outerHeight()+$(".config-header-container").outerHeight())-n;else if($page.body.hasClass("page-variations")){a=(e=$("#quick-edit-section .variations-canvas .variation-filter .variation-filter-inner")).scrollTop()+o-n-$(".seamless-header-container").outerHeight()-$("#variations-header-root").outerHeight()}e.animate({scrollTop:a},500)})),$page.body.on("click","#embedded-image-search-container .image-search-header .switch-modes .mode",(function(){var a=$(this);if(!a.hasClass("active")){var i=$("#embedded-image-search-container .image-search-input");$("#embedded-image-search-container .image-search-header .switch-modes .mode.active").attr("data-previous-search-term",i.val()),a.addClass("active").siblings().removeClass("active");var o=a.attr("data-previous-search-term");o?(i.val(o),a.removeAttr("data-previous-search-term")):e.initPlaceholderAnimation();var n=e.getActiveSearchCategory();$("#embedded-image-search-container").attr("data-active-search-category",n);var t=$("#image-search-section .image-search-results").find(".image");"library"===n?(t.filter(':not([data-image-type="library"])').addClass("hidden"),t.filter('[data-image-type="library"]').removeClass("hidden")):"ai"===n&&(t.filter(':not([data-image-type="ai"])').addClass("hidden"),t.filter('[data-image-type="ai"]').removeClass("hidden"));var s=$("#embedded-image-search-container .image-search-results-container .btn-load-more");0===$("#image-search-section .image:visible").length?s.addClass("hidden"):s.removeClass("hidden"),0===t.filter(":visible").length?$('.mode[data-image-group-nav="search"]').trigger("click"):e.scrollToLastVisibleImage($("#image-search-section .image-search-results"),!0)}})),$page.body.hasClass("page-generate")&&($(window).scroll((function(){$page.body.hasClass("take-tour")&&e.setActiveImageSectionNav()})),$page.logoMakerNavBar.find(".config-column").scroll((function(){$page.body.hasClass("take-tour")||e.setActiveImageSectionNav()}))),$page.modalZeroImagesFound.on("click",".btn-try-ai-search",(function(){var e=$page.modalZeroImagesFound.find(".search-term").text();$page.modalZeroImagesFound.modal("hide"),window.setTimeout((function(){var a=$("#embedded-image-search-container .image-search-input"),i=$("#embedded-image-search-container .image-search-submit");$('.image-search-categories .mode[data-search-category="ai"]').trigger("click"),a.focus(),a.val(e),i.trigger("click")}),300)}))},this.generateCallback=function(a){a.find(".image").length===a.find(".image.new").length&&e.scrollToNewImages(a,!0),window.setTimeout((function(){e.scrollToNewImages(a),SmashingLogo.Utils.hideLoadingAnimation()}),550)},this.generateAIImages=function(){SmashingLogo.Utils.showLoadingAnimation();var a=$("#embedded-image-search-container .image-search-results-container"),i=$("#embedded-image-search-container .image-search-input").val();$.ajax({url:"/envision/ai/images/browse/",type:"POST",data:{userPrompt:i,userLangKey:$("html").attr("lang")},success:function(i){if("failed"===i||i&&0===i.length)SmashingLogo.Utils.hideLoadingAnimation();else{if("nsfw-content"===i)return SmashingLogo.Utils.hideLoadingAnimation(),void alert("NSFW content detected.");a.find(".btn-load-more").removeClass("hidden");for(var o=a.find(".image-search-results"),n=0;n<i.length;n++){var t=i[n];o.append('<div class="image new" data-image-type="ai" data-image="'+t.id+'" data-image-source="ai" data-image-id="'+t.id+'"><img src="'+t.image_url+'" alt="" /></div>')}e.generateCallback(o)}}})},this.generateClassicImages=function(){SmashingLogo.Utils.showLoadingAnimation();var a=$("#embedded-image-search-container .image-search-results-container"),i=$("#embedded-image-search-container .image-search-input").val();$.ajax({url:"/envision/images/browse/",type:"POST",data:{userPrompt:i,userLangKey:$("html").attr("lang")},success:function(o){if("failed"!==o){if(a.find(".btn-load-more").addClass("hidden"),0===o.length){var n=$page.body.hasClass("ai-powered-image-search-enabled")?$page.modalZeroImagesFound:$page.modalZeroImagesFoundNoAI;return i&&n.find(".search-term").html(i),n.modal("show"),void SmashingLogo.Utils.hideLoadingAnimation()}for(var t=a.find(".image-search-results"),s=0;s<o.length;s++){var r=o[s],d=e.buildBrandImageResult(r,!0);t.append(d)}e.generateCallback(t)}else SmashingLogo.Utils.hideLoadingAnimation()}})},this.buildImageSection=function(a){SmashingLogo.Utils.showLoadingAnimation(),$page.body.removeClass("image-content-loaded"),$.ajax({url:"/v2/envision/images/groups/",type:"GET",data:{userLangKey:$("html").attr("lang")},timeout:2e4,success:function(a){window.isPhotoSearchEnabled=a.isPhotoSearchEnabled;var i=a.groups;a.isAIPoweredImageSearchEnabled&&($page.body.addClass("ai-powered-image-search-enabled"),$('#embedded-image-search-container .image-search-categories .mode[data-search-category="ai"]').removeClass("hidden"));var o=$("#embedded-image-search-container #image-suggestions-groups");o.html("");var n=Object.keys(i);if(0!==n.length){var t=$("#image-groups-nav-container .switch-modes");t.html("");for(var s=0;s<n.length;s++){var r=n[s],d=i[r];e.buildImageGroupSection(r,d,t,o)}SmashingLogo.LogoMaker.buildImageFavorites(a.favorites),window.isPhotoSearchEnabled&&(t.append('<li class="mode" data-image-group-nav="search"><span class="glyphicon glyphicon-search"></span><span class="inner-text">'+window.i18nSearch+"</span></li>"),$("#embedded-image-search-container #image-search-section").removeClass("hidden"),$("#embedded-image-search-container").addClass("photo-search-enabled")),SmashingLogo.Utils.hideLoadingAnimation(),$page.body.addClass("image-content-loaded"),$("#embedded-image-search-container .image-search-header .switch-modes").attr("data-placeholder-terms",JSON.stringify(a.placeholderTerms)),e.initPlaceholderAnimation()}else SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})},this.initPlaceholderAnimation=function(){window.imagePromptSuperPlaceholder&&window.imagePromptSuperPlaceholder.destroy();var a=$("#embedded-image-search-container .image-search-header .switch-modes"),i=JSON.parse(a.attr("data-placeholder-terms")),o=$("#embedded-image-search-container .image-search-input");o.val(""),window.imagePromptSuperPlaceholder=superplaceholder({el:o.get(0),sentences:i[e.getActiveSearchCategory()],options:{loop:!0,autoStart:!0,onFocusAction:"stop",onBlurAction:superplaceholder.Actions.NOTHING}})},this.buildImageGroupSection=function(a,i,o,n){for(var t=window.screen.width<430?6:12,s=$('<div class="image-suggestions-group" data-image-group-section="'+a+'"></div>'),r=$('<div class="image-suggestions-content"></div>'),d=$('<div class="image-suggestions images-flex"></div>'),g=i.pagedResponse.images,c=0;c<g.length;c++){var m=g[c],l=e.buildBrandImageResult(m);c>t-1&&l.addClass("hidden"),d.append(l)}var h=$('<li class="mode" data-image-group-nav="'+a+'">'+i.title+"</li>");if(0===o.find(".mode.active").length&&h.addClass("active"),o.append(h),s.append(r),r.append(d),i.count>t){var u=$('<div class="image-suggestions-footer"></div>'),p=$('<button class="btn btn-default btn-more-suggested-images">'+window.i18nAddMore+"</button>");u.append(p),s.append(u)}n.append(s)},this.setActiveImageSectionNav=function(){if($page.body.hasClass("image-content-loaded")){var a=$("#embedded-image-search-container").hasClass("photo-search-enabled")?$("#embedded-image-search-container .image-suggestions-group, #embedded-image-search-container #image-search-section"):$("#embedded-image-search-container .image-suggestions-group"),i=SmashingLogo.Utils.getMostVisible(a).attr("data-image-group-section"),o=$('#image-groups-nav-container .mode[data-image-group-nav="'+i+'"]');if(i&&o.length){var n=$("#image-groups-nav-container .switch-modes");i===n.find(".mode.active").attr("data-image-group-nav")||n.hasClass("animation-in-progress")||e.animateActiveItemInView(n,o),clearTimeout($.data(this,"scrollTimer")),$.data(this,"scrollTimer",setTimeout((function(){e.animateActiveItemInView(n,o)}),500)),o.addClass("active").siblings().removeClass("active"),"search"===i?window.imagePromptSuperPlaceholder.start():window.imagePromptSuperPlaceholder.stop()}}},e.animateActiveItemInView=function(e,a){if(a.length){var i=e.scrollLeft()+a.offset().left-2*parseInt(a.css("marginLeft"));e.addClass("animation-in-progress"),e.animate({scrollLeft:i},300,(function(){e.removeClass("animation-in-progress")}))}},e.scrollToNewImages=function(e,a){var i,o;if(0!==e.find(".image.new:first").length){var n=e.find(".image.new:first").offset().top,t=$("#image-groups-nav-container").outerHeight(),s=$(".image-search-header").outerHeight();if($page.body.hasClass("page-generate"))if($page.body.hasClass("take-tour"))i=$("html,body"),o=n-t-s-20;else o=(i=$page.logoMakerNavBar.find(".config-column")).scrollTop()+n-($page.virtualDesignerBar.outerHeight()+$(".config-header-container").outerHeight())-t-s-20;else if($page.body.hasClass("page-variations")){if(o=(i=$("#quick-edit-section .variations-canvas .variation-filter .variation-filter-inner")).scrollTop()+n-t-s-$(".seamless-header-container").outerHeight()-$("#variations-header-root").outerHeight()-40,!$("#quick-edit-section").hasClass("layout-side-by-side"))o-=$(".variation-canvas-outer-wrap").outerHeight()}a?i.scrollTop(o):i.animate({scrollTop:o},800,(function(){e.find(".image.new").removeClass("new")}))}},e.scrollToLastVisibleImage=function(e,a){if(0!==e.find(".image:not(.hidden)").length){var i,o,n=e.find(".image:not(.hidden):last").offset().top,t=$("#image-groups-nav-container").outerHeight(),s=$(".image-search-header").outerHeight();if($page.body.hasClass("take-tour"))i=$("html,body"),o=n-t-s-20;else o=(i=$page.logoMakerNavBar.find(".config-column")).scrollTop()+n-($page.virtualDesignerBar.outerHeight()+$(".config-header-container").outerHeight())-t-s-20;a?i.scrollTop(o):i.animate({scrollTop:o},800)}},this.getActiveSearchCategory=function(){return $("#embedded-image-search-container .image-search-header .switch-modes").find(".mode.active").attr("data-search-category")},this.browseImages=function(){switch(e.getActiveSearchCategory()){case"library":default:e.generateClassicImages();break;case"ai":e.generateAIImages()}},this.buildBrandImageResult=function(e,a){var i=$('<div class="image" data-image-type="library" data-image-source="'+e.image_source+'" data-image-url="'+e.image_url+'" data-image-id="'+e.id+'"></div>');a&&i.addClass("new");var o=$('<img src="'+e.preview_url+'" alt="" />');if(i.append(o),e.author&&e.author.link&&e.author.name){var n='<span class="author-name"><a target="_blank" href="'+e.author.link+'">'+e.author.name+"</a></span>",t='<span><a target="_blank" href="'+e.platform.link+'" class="platform">'+e.platform.name+"</a></span>",s=$('<div class="credit">Photo by '+n+" on "+t+"</div>");i.append(s)}return i},this.appendAIPoweredImages=function(e,a,i){var o=$page.modalAIPoweredImages.find(".images"),n=$page.modalAIPoweredImages.find(".add-more-wrap");n.addClass("hidden");for(var t=0;t<e.length;t++){var s=e[t],r=$('<div class="image" data-image-id="'+s.id+'"><img src="'+s.preview_url+'" /></div>'),d=$('<div class="actions"></div>');if(i){var g=$('<button class="btn btn-default btn-downoad"><span class="glyphicon glyphicon-download-alt"></span></button>');d.append(g)}var c=$('<button class="btn btn-default btn-favorite"><span class="glyphicon glyphicon-star"></span></button>');d.append(c),r.append(d),o.append(r)}a||n.removeClass("hidden")}}SmashingLogo.EmbeddedImageSearch=new EmbeddedImageSearch;
"use strict";function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_get.apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).animation={})}(void 0,(function(e){var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=function(e,n,r){return n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r},l=function(e,t){for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(i){var r,l=_createForOfIteratorHelper(i(t));try{for(l.s();!(r=l.n()).done;){n=r.value;a.call(t,n)&&s(e,n,t[n])}}catch(e){l.e(e)}finally{l.f()}}return e},c=function(e,t){return n(e,r(t))},u=function(e,t,n){return s(e,"symbol"!==_typeof(t)?t+"":t,n),n},f=function(e){return e.OneByOne="oneByOne",e.Sync="sync",e.Electric="electric",e.ElectricFadeIn="electricFadeIn",e.Noise="noise",e.FadeSmooth="fadeSmooth",e.Pulse="pulse",e.Interstellar="interstellar",e}(f||{}),h=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n/1e3*t.fps,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3/t.fps;_classCallCheck(this,e),u(this,"config"),u(this,"element"),this.duration=n,this.frameCount=r,this.frameDelay=i,this.config=Object.freeze(l({},t))}return _createClass(e,[{key:"fps",get:function(){return this.config.fps}},{key:"innerHTML",value:function(e){return"".concat(e)}},{key:"setStyle",value:function(e){e.style.backgroundColor=this.config.background,e.style.backgroundImage="radial-gradient(circle closest-side at center, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0) 100%)"}},{key:"apply",value:function(e){this.element=e,this.setStyle(e)}},{key:"hasColorSupport",value:function(){return!0}}]),e}();function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(e," == true");if(!e)throw new Error("AssertionError: ".concat(t))}var d=function(e){return e.color="color",e.fill="fill",e.fillOpacity="fill-opacity",e.opacity="opacity",e.filter="filter",e.stroke="stroke",e.strokeDasharray="stroke-dasharray",e.strokeDashoffset="stroke-dashoffset",e.strokeLineCap="stroke-linecap",e.strokeLineJoin="stroke-linejoin",e.strokeMiterlimit="stroke-miterlimit",e.strokeOpacity="stroke-opacity",e.strokeWidth="stroke-width",e}(d||{}),y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"hasCSSInlineStyle",value:function(e){return"style"in e&&e.style instanceof CSSStyleDeclaration}},{key:"setCSSInlineStyle",value:function(t,n){var r,i=_createForOfIteratorHelper(t.querySelectorAll("*"));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.hasCSSInlineStyle(o)&&n(o.style,o)}}catch(e){i.e(e)}finally{i.f()}}},{key:"removeStyleFromGroup",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Array(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Array(),i=new Set(Object.values(d));r.forEach((function(e){return i.delete(e)}));var o,a=_createForOfIteratorHelper([t].concat(_toConsumableArray(t.querySelectorAll("*"))));try{var s=function(){var t=o.value;if(i.forEach((function(e){t.removeAttribute(e)})),e.hasCSSInlineStyle(t)){var r,a=_createForOfIteratorHelper(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;t.style.removeProperty(s)}}catch(e){a.e(e)}finally{a.f()}for(var l in n)t.style.removeProperty(l);t.style.cssText||t.removeAttribute("style")}};for(a.s();!(o=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}}},{key:"styleGroup",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Array();if(e.removeStyleFromGroup(t,Object.values(n),i),n.class&&(t.classList.forEach((function(e){t.classList.remove(e)})),t.classList.add(n.class)),n.filter&&t.setAttribute("filter",n.filter),n.fill&&t.setAttribute("fill",n.fill),n.stroke&&t.setAttribute("stroke",n.stroke),n.strokeWidth&&t.setAttribute("stroke-width",n.strokeWidth),n.opacity&&t.setAttribute("opacity",n.opacity),r&&e.hasCSSInlineStyle(t))for(var o in r)t.style.setProperty(o,r[o]);return t}}]),e}(),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).duration=r,i}return _createClass(n,[{key:"apply",value:function(e){_get(_getPrototypeOf(n.prototype),"apply",this).call(this,e),y.setCSSInlineStyle(e,(function(e){return e.animationPlayState="paused"})),e instanceof SVGSVGElement&&e.pauseAnimations(),this.reset()}},{key:"setFrame",value:function(e){p(this.element,"element is not defined!");var t=e*this.frameDelay;this.element instanceof SVGSVGElement&&this.element.setCurrentTime(t/1e3),this.element.getAnimations({subtree:!0}).forEach((function(e){e.currentTime=t}))}},{key:"play",value:function(){p(this.element,"element is not defined!"),this.element instanceof SVGSVGElement&&this.element.unpauseAnimations(),y.setCSSInlineStyle(this.element,(function(e){return e.animationPlayState="running"}))}},{key:"pause",value:function(){p(this.element,"element is not defined!"),this.element instanceof SVGSVGElement&&this.element.pauseAnimations(),y.setCSSInlineStyle(this.element,(function(e){return e.animationPlayState="paused"}))}},{key:"reset",value:function(){p(this.element,"element is not defined!"),this.pause(),y.setCSSInlineStyle(this.element,(function(e,t){t instanceof Element&&(e.animationName="none",t.clientHeight,e.animationName="")})),this.element instanceof SVGSVGElement&&this.element.setCurrentTime(0)}}]),n}(h),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,c(l({},e),{foreground:n.foreground,background:n.background}),3e3)}return _createClass(n,[{key:"setStyle",value:function(e){e.style.backgroundColor=this.config.background,e.style.backgroundImage="radial-gradient(circle closest-side at center, ".concat(n.backgroundGradients[0]," 0%, ").concat(n.backgroundGradients[1]," 70%, ").concat(this.config.background," 100%)")}},{key:"apply",value:function(e){var t=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","defs");t.innerHTML='<filter id="electric-filter" x="-50%" y="-50%" width="200%" height="200%">\n                <feFlood flood-color="#ffffff" result="flood-white"/>\n                <feFlood flood-color="'.concat(this.config.foreground[0],'" result="flood-accent"/>\n                <feComposite operator="out" in="flood-accent" in2="SourceAlpha" result="comp"/>\n                <feGaussianBlur in="comp" result="comp" stdDeviation="0.4"/>\n                <feComposite operator="in" in="comp" in2="SourceAlpha" result="comp"/>\n                <feComposite operator="in" in="flood-white" in2="SourceAlpha" result="comp2"/>\n                <feGaussianBlur in="comp2" result="comp2" stdDeviation="0.4"/>\n                <feBlend in="comp" in2="comp2" result="output" mode="screen"/>\n            </filter>\n            <filter id="electric-electric" x="-50%" y="-50%" width="200%" height="200%">\n                <feTurbulence baseFrequency="0.08" type="fractalNoise" numOctaves="1" seed="1" result="noise"/>\n                <feColorMatrix in="noise" result="noise" type="hueRotate" values="90">\n                    <animate attributeType="XML" attributeName="values" values="0;180;360" dur="3s" repeatCount="indefinite"/>\n                </feColorMatrix>\n                <feDisplacementMap in="SourceGraphic" xChannelSelector="R" in2="noise" scale="13" result="lines"/>\n                <feGaussianBlur in="lines" result="output" stdDeviation="10"/>\n                <feBlend in="lines" in2="output" result="output" mode="screen"/>\n            </filter>'),p(e.firstChild,"element.firstChild is not defined!"),e.insertBefore(t,e.firstChild);var r=e.querySelector("g");p(r,"group is not defined!");var i=r.cloneNode(!0);e.appendChild(y.styleGroup(r.cloneNode(!0),{fill:"none",stroke:this.config.foreground[0],strokeWidth:"2.5",filter:"url(#electric-electric)"})),e.appendChild(y.styleGroup(i.cloneNode(!0),{fill:"none",stroke:"#ffffff",filter:"url(#electric-electric)",opacity:"0.5"})),e.appendChild(y.styleGroup(i.cloneNode(!0),{fill:"#ffffff",stroke:"none",filter:"url(#electric-filter)"})),_get(_getPrototypeOf(n.prototype),"apply",this).call(this,e)}},{key:"hasColorSupport",value:function(){return!1}}]),n}(m);u(v,"foreground",["#d10754"]),u(v,"backgroundGradients",["rgba(209, 7, 84, 0.65)","rgba(209, 7, 84, 0.12)"]),u(v,"background","#3c1e3e");var g=v,w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,c(l({},e),{background:n.background}),5e3)}return _createClass(n,[{key:"setStyle",value:function(e){e.style.background=n.background}},{key:"apply",value:function(e){var t=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","style");t.innerHTML=".fade{\n                opacity: 0;\n                animation: fadeIn 5s ease-in forwards infinite;\n                }\n                \n                @keyframes fadeIn { 0% { opacity:0; } 50% { opacity:0.5; } 100% { opacity:1; } }\n                @keyframes fadeOut { from { opacity:1; } to { opacity:0; } }\n                \n                .outline{\n                opacity: 1;\n                stroke-dasharray: 100,2000;\n                stroke-dashoffset: 100;\n                animation: dash 5s ease-in-out forwards infinite;\n                }\n                \n                @keyframes dash {\n                0% {\n                    stroke-dasharray: 100,2000;\n                    stroke-dashoffset: 100;\n                }\n                70% {\n                    stroke-dasharray: 2000,2000;\n                    stroke-dashoffset: 0;\n                }\n                100% {\n                    stroke-dasharray: 2000,2000;\n                    stroke-dashoffset: 0;\n                }                \n            }",p(e.firstChild,"element.firstChild is not defined!"),e.insertBefore(t,e.firstChild);var r=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","defs");r.innerHTML='<filter id="electric-fade-in-electric" x="-50%" y="-50%" width="200%" height="200%">\n                <feTurbulence baseFrequency="0.08" type="fractalNoise" numOctaves="1" seed="1000" result="noise"/>\n                <feColorMatrix in="noise" result="noise" type="hueRotate" values="90">\n                    <animate attributeType="XML" attributeName="values" values="0;180;360" dur="5s" repeatCount="indefinite"/>\n                </feColorMatrix>\n                <feDisplacementMap in="SourceGraphic" xChannelSelector="R" in2="noise" scale="10" result="lines"/>\n                <feGaussianBlur in="lines" result="output" stdDeviation="10"/>\n                <feBlend in="lines" in2="output" result="output" mode="screen"/>\n            </filter>\n            <filter id="electric-fade-in-glow" x="-50%" y="-50%" width="200%" height="200%">\n                <feGaussianBlur in="SourceGraphic" stdDeviation="12"/>\n            </filter>\n            <filter id="electric-fade-in-glow2" x="-100%" y="-100%" width="300%" height="300%">\n                <feGaussianBlur in="SourceGraphic" stdDeviation="35"/>\n            </filter>',e.insertBefore(r,e.firstChild);var i=e.querySelector("g");p(i,"group is not defined!");var o=i.cloneNode(!0);y.styleGroup(i,{class:"fade",fill:"#55E8F6",stroke:"#55E8F6",strokeWidth:"2.5",filter:"url(#electric-fade-in-glow2)",opacity:"0.2"}),e.appendChild(y.styleGroup(o.cloneNode(!0),{class:"outline",fill:"none",stroke:"#55E8F6",strokeWidth:"2.5",filter:"url(#electric-fade-in-electric)"})),e.appendChild(y.styleGroup(o.cloneNode(!0),{class:"outline",fill:"none",stroke:"#ffffff",strokeWidth:"1",filter:"url(#electric-fade-in-electric)",opacity:"0.5"})),_get(_getPrototypeOf(n.prototype),"apply",this).call(this,e)}},{key:"hasColorSupport",value:function(){return!1}}]),n}(m);u(w,"background","#001149");var b,k,S=w,_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,2500)}return _createClass(n,[{key:"apply",value:function(e){var t=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","defs");t.innerHTML='<linearGradient id="fade-smooth-gradient" gradientUnits="userSpaceOnUse" x2="0" y2="0">\n                <stop offset="0" stop-color="#FFFFFF" stop-opacity="1"/>\n                <stop offset="1" stop-color="#FFFFFF" stop-opacity="0"/>\n                <animate attributeName="x2" dur="2.5s" from="0" to="100%" values="0; 100%; 100%" repeatCount="indefinite" />\n            </linearGradient>          \n            <mask id="fade-smooth-mask" maskUnits="userSpaceOnUse">\n              <rect width="100%" height="100%" fill="url(#fade-smooth-gradient)"/>\n            </mask>',p(e.firstChild),e.insertBefore(t,e.firstChild);var r=e.querySelector("g");p(r,"group is not defined!");var i=r.cloneNode(!0);r.setAttribute("mask","url(#fade-smooth-mask)");var o=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","animate");o.setAttribute("attributeName","opacity"),o.setAttribute("dur","2.5s"),o.setAttribute("from","0"),o.setAttribute("to","1"),o.setAttribute("values","0; 0; 1"),o.setAttribute("repeatCount","indefinite"),i.setAttribute("opacity","0"),i.appendChild(o),e.appendChild(i),_get(_getPrototypeOf(n.prototype),"apply",this).call(this,e)}}]),n}(m),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,6e3)}return _createClass(n,[{key:"apply",value:function(e){var t=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","style"),r=this.config.foreground.length,i=70*(r-1)+10*r,o=this.duration,a=o/r;t.innerHTML="\n            .strokeItem{\n                fill: none;\n                stroke-width: 2;\n                stroke-linejoin: round;\n                stroke-dasharray: ".concat(70," ").concat(i,";\n                stroke-dashoffset: 0;\n                animation: stroke ").concat(o,"ms infinite linear;\n            }\n\n            @keyframes stroke {\n                100% {\n                    stroke-dashoffset: ").concat(-80*r,";\n                }\n            }\n        "),e.prepend(t);var s=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","defs");e.prepend(s);var l=e.querySelector("g");p(l,"group is not defined!"),y.removeStyleFromGroup(l,Object.values(d));var c=n.moveToDefs(n.id("group"),l,s);this.config.foreground.forEach((function(t,n){var r=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","use");r.setAttribute("href","#".concat(c)),r.classList.add("strokeItem"),r.style.stroke=t,r.style.animationDelay="".concat(-a*n,"ms"),e.appendChild(r)})),_get(_getPrototypeOf(n.prototype),"apply",this).call(this,e)}}],[{key:"id",value:function(e){return"interstellar-".concat(e)}},{key:"moveToDefs",value:function(e,t,n){return t.remove(),t.setAttribute("id",e),n.appendChild(t),e}}]),n}(m),A=Object.getOwnPropertyNames,O=(b={"node_modules/vivus/dist/vivus.js":function(e,t){!function(){function n(e){if(void 0===e)throw new Error('Pathformer [constructor]: "element" parameter is required');if(e.constructor===String&&!(e=document.getElementById(e)))throw new Error('Pathformer [constructor]: "element" parameter is not related to an existing ID');if(!(e instanceof window.SVGElement||e instanceof window.SVGGElement||/^svg$/i.test(e.nodeName)))throw new Error('Pathformer [constructor]: "element" parameter must be a string or a SVGelement');this.el=e,this.scan(e)}var r,i,o,a;function s(e,t,n){r(),this.isReady=!1,this.setElement(e,t),this.setOptions(t),this.setCallback(n),this.isReady&&this.init()}n.prototype.TYPES=["line","ellipse","circle","polygon","polyline","rect"],n.prototype.ATTR_WATCH=["cx","cy","points","r","rx","ry","x","x1","x2","y","y1","y2"],n.prototype.scan=function(e){for(var t,n,r,i=e.querySelectorAll(this.TYPES.join(",")),o=0;o<i.length;o++)n=(0,this[(t=i[o]).tagName.toLowerCase()+"ToPath"])(this.parseAttr(t.attributes)),r=this.pathMaker(t,n),t.parentNode.replaceChild(r,t)},n.prototype.lineToPath=function(e){var t={},n=e.x1||0,r=e.y1||0,i=e.x2||0,o=e.y2||0;return t.d="M"+n+","+r+"L"+i+","+o,t},n.prototype.rectToPath=function(e){var t={},n=parseFloat(e.x)||0,r=parseFloat(e.y)||0,i=parseFloat(e.width)||0,o=parseFloat(e.height)||0;if(e.rx||e.ry){var a=parseInt(e.rx,10)||-1,s=parseInt(e.ry,10)||-1;a=Math.min(Math.max(a<0?s:a,0),i/2),s=Math.min(Math.max(s<0?a:s,0),o/2),t.d="M "+(n+a)+","+r+" L "+(n+i-a)+","+r+" A "+a+","+s+",0,0,1,"+(n+i)+","+(r+s)+" L "+(n+i)+","+(r+o-s)+" A "+a+","+s+",0,0,1,"+(n+i-a)+","+(r+o)+" L "+(n+a)+","+(r+o)+" A "+a+","+s+",0,0,1,"+n+","+(r+o-s)+" L "+n+","+(r+s)+" A "+a+","+s+",0,0,1,"+(n+a)+","+r}else t.d="M"+n+" "+r+" L"+(n+i)+" "+r+" L"+(n+i)+" "+(r+o)+" L"+n+" "+(r+o)+" Z";return t},n.prototype.polylineToPath=function(e){var t,n,r={},i=e.points.trim().split(" ");if(-1===e.points.indexOf(",")){var o=[];for(t=0;t<i.length;t+=2)o.push(i[t]+","+i[t+1]);i=o}for(n="M"+i[0],t=1;t<i.length;t++)-1!==i[t].indexOf(",")&&(n+="L"+i[t]);return r.d=n,r},n.prototype.polygonToPath=function(e){var t=n.prototype.polylineToPath(e);return t.d+="Z",t},n.prototype.ellipseToPath=function(e){var t={},n=parseFloat(e.rx)||0,r=parseFloat(e.ry)||0,i=parseFloat(e.cx)||0,o=parseFloat(e.cy)||0,a=i-n,s=o,l=parseFloat(i)+parseFloat(n),c=o;return t.d="M"+a+","+s+"A"+n+","+r+" 0,1,1 "+l+","+c+"A"+n+","+r+" 0,1,1 "+a+","+c,t},n.prototype.circleToPath=function(e){var t={},n=parseFloat(e.r)||0,r=parseFloat(e.cx)||0,i=parseFloat(e.cy)||0,o=r-n,a=i,s=parseFloat(r)+parseFloat(n),l=i;return t.d="M"+o+","+a+"A"+n+","+n+" 0,1,1 "+s+","+l+"A"+n+","+n+" 0,1,1 "+o+","+l,t},n.prototype.pathMaker=function(e,t){var n,r,i=document.createElementNS("http://www.w3.org/2000/svg","path");for(n=0;n<e.attributes.length;n++)r=e.attributes[n],-1===this.ATTR_WATCH.indexOf(r.name)&&i.setAttribute(r.name,r.value);for(n in t)i.setAttribute(n,t[n]);return i},n.prototype.parseAttr=function(e){for(var t,n={},r=0;r<e.length;r++){if(t=e[r],-1!==this.ATTR_WATCH.indexOf(t.name)&&-1!==t.value.indexOf("%"))throw new Error("Pathformer [parseAttr]: a SVG shape got values in percentage. This cannot be transformed into 'path' tags. Please use 'viewBox'.");n[t.name]=t.value}return n},s.LINEAR=function(e){return e},s.EASE=function(e){return-Math.cos(e*Math.PI)/2+.5},s.EASE_OUT=function(e){return 1-Math.pow(1-e,3)},s.EASE_IN=function(e){return Math.pow(e,3)},s.EASE_OUT_BOUNCE=function(e){var t=1-Math.cos(e*(.5*Math.PI)),n=Math.pow(t,1.5),r=Math.pow(1-e,2);return 1-r+(1-Math.abs(Math.cos(n*(2.5*Math.PI))))*r},s.prototype.setElement=function(e,t){var n,r;if(void 0===e)throw new Error('Vivus [constructor]: "element" parameter is required');if(e.constructor===String&&!(e=document.getElementById(e)))throw new Error('Vivus [constructor]: "element" parameter is not related to an existing ID');if(this.parentEl=e,t&&t.file){r=this,n=function(){var e=document.createElement("div");e.innerHTML=this.responseText;var n=e.querySelector("svg");if(!n)throw new Error("Vivus [load]: Cannot find the SVG in the loaded file : "+t.file);r.el=n,r.el.setAttribute("width","100%"),r.el.setAttribute("height","100%"),r.parentEl.appendChild(r.el),r.isReady=!0,r.init(),r=null};var i=new window.XMLHttpRequest;return i.addEventListener("load",n),i.open("GET",t.file),void i.send()}switch(e.constructor){case window.SVGSVGElement:case window.SVGElement:case window.SVGGElement:this.el=e,this.isReady=!0;break;case window.HTMLObjectElement:r=this,(n=function(t){if(!r.isReady){if(r.el=e.contentDocument&&e.contentDocument.querySelector("svg"),!r.el&&t)throw new Error("Vivus [constructor]: object loaded does not contain any SVG");r.el&&(e.getAttribute("built-by-vivus")&&(r.parentEl.insertBefore(r.el,e),r.parentEl.removeChild(e),r.el.setAttribute("width","100%"),r.el.setAttribute("height","100%")),r.isReady=!0,r.init(),r=null)}})()||e.addEventListener("load",n);break;default:throw new Error('Vivus [constructor]: "element" parameter is not valid (or miss the "file" attribute)')}},s.prototype.setOptions=function(e){var t=["delayed","sync","async","nsync","oneByOne","scenario","scenario-sync"],n=["inViewport","manual","autostart"];if(void 0!==e&&e.constructor!==Object)throw new Error('Vivus [constructor]: "options" parameter must be an object');if((e=e||{}).type&&-1===t.indexOf(e.type))throw new Error("Vivus [constructor]: "+e.type+" is not an existing animation `type`");if(this.type=e.type||t[0],e.start&&-1===n.indexOf(e.start))throw new Error("Vivus [constructor]: "+e.start+" is not an existing `start` option");if(this.start=e.start||n[0],this.isIE=-1!==window.navigator.userAgent.indexOf("MSIE")||-1!==window.navigator.userAgent.indexOf("Trident/")||-1!==window.navigator.userAgent.indexOf("Edge/"),this.duration=a(e.duration,120),this.delay=a(e.delay,null),this.dashGap=a(e.dashGap,1),this.forceRender=e.hasOwnProperty("forceRender")?!!e.forceRender:this.isIE,this.reverseStack=!!e.reverseStack,this.selfDestroy=!!e.selfDestroy,this.onReady=e.onReady,this.map=[],this.frameLength=this.currentFrame=this.delayUnit=this.speed=this.handle=null,this.ignoreInvisible=!!e.hasOwnProperty("ignoreInvisible")&&!!e.ignoreInvisible,this.animTimingFunction=e.animTimingFunction||s.LINEAR,this.pathTimingFunction=e.pathTimingFunction||s.LINEAR,this.delay>=this.duration)throw new Error("Vivus [constructor]: delay must be shorter than duration")},s.prototype.setCallback=function(e){if(e&&e.constructor!==Function)throw new Error('Vivus [constructor]: "callback" parameter must be a function');this.callback=e||function(){}},s.prototype.mapping=function(){var e,t,n,r,i,o,s,l,c,u;for(l=o=s=0,t=this.el.querySelectorAll("path"),u=!1,e=0;e<t.length;e++)if(n=t[e],!this.isInvisible(n)){if(i={el:n,length:0,startAt:0,duration:0,isResizeSensitive:!1},"non-scaling-stroke"===n.getAttribute("vector-effect")){var f=n.getBoundingClientRect(),h=n.getBBox();c=Math.max(f.width/h.width,f.height/h.height),i.isResizeSensitive=!0,u=!0}else c=1;i.length=Math.ceil(n.getTotalLength()*c),isNaN(i.length)?window.console&&console.warn&&console.warn("Vivus [mapping]: cannot retrieve a path element length",n):(this.map.push(i),n.style.strokeDasharray=i.length+" "+(i.length+2*this.dashGap),n.style.strokeDashoffset=i.length+this.dashGap,i.length+=this.dashGap,o+=i.length,this.renderPath(e))}for(u&&console.warn("Vivus: this SVG contains non-scaling-strokes. You should call instance.recalc() when the SVG is resized or you will encounter unwanted behaviour. See https://github.com/maxwellito/vivus#non-scaling for more info."),o=0===o?1:o,this.delay=null===this.delay?this.duration/3:this.delay,this.delayUnit=this.delay/(t.length>1?t.length-1:1),this.reverseStack&&this.map.reverse(),e=0;e<this.map.length;e++){switch(i=this.map[e],this.type){case"delayed":i.startAt=this.delayUnit*e,i.duration=this.duration-this.delay;break;case"oneByOne":i.startAt=s/o*this.duration,i.duration=i.length/o*this.duration;break;case"sync":case"async":case"nsync":i.startAt=0,i.duration=this.duration;break;case"scenario-sync":n=i.el,r=this.parseAttr(n),i.startAt=l+(a(r["data-delay"],this.delayUnit)||0),i.duration=a(r["data-duration"],this.duration),l=void 0!==r["data-async"]?i.startAt:i.startAt+i.duration,this.frameLength=Math.max(this.frameLength,i.startAt+i.duration);break;case"scenario":n=i.el,r=this.parseAttr(n),i.startAt=a(r["data-start"],this.delayUnit)||0,i.duration=a(r["data-duration"],this.duration),this.frameLength=Math.max(this.frameLength,i.startAt+i.duration)}s+=i.length,this.frameLength=this.frameLength||this.duration}},s.prototype.recalc=function(){this.mustRecalcScale||(this.mustRecalcScale=i(function(){this.performLineRecalc()}.bind(this)))},s.prototype.performLineRecalc=function(){for(var e,t,n,r,i,o=0;o<this.map.length;o++)(e=this.map[o]).isResizeSensitive&&(n=(t=e.el).getBoundingClientRect(),r=t.getBBox(),i=Math.max(n.width/r.width,n.height/r.height),e.length=Math.ceil(t.getTotalLength()*i),t.style.strokeDasharray=e.length+" "+(e.length+2*this.dashGap));this.trace(),this.mustRecalcScale=null},s.prototype.draw=function(){var e=this;if(this.currentFrame+=this.speed,this.currentFrame<=0)this.stop(),this.reset();else{if(!(this.currentFrame>=this.frameLength))return this.trace(),void(this.handle=i((function(){e.draw()})));this.stop(),this.currentFrame=this.frameLength,this.trace(),this.selfDestroy&&this.destroy()}this.callback(this),this.instanceCallback&&(this.instanceCallback(this),this.instanceCallback=null)},s.prototype.trace=function(){var e,t,n,r;for(r=this.animTimingFunction(this.currentFrame/this.frameLength)*this.frameLength,e=0;e<this.map.length;e++)t=(r-(n=this.map[e]).startAt)/n.duration,t=this.pathTimingFunction(Math.max(0,Math.min(1,t))),n.progress!==t&&(n.progress=t,n.el.style.strokeDashoffset=Math.floor(n.length*(1-t)),this.renderPath(e))},s.prototype.renderPath=function(e){if(this.forceRender&&this.map&&this.map[e]){var t=this.map[e],n=t.el.cloneNode(!0);t.el.parentNode.replaceChild(n,t.el),t.el=n}},s.prototype.init=function(){this.frameLength=0,this.currentFrame=0,this.map=[],new n(this.el),this.mapping(),this.starter(),this.onReady&&this.onReady(this)},s.prototype.starter=function(){switch(this.start){case"manual":return;case"autostart":this.play();break;case"inViewport":var e=this,t=function t(){e.isInViewport(e.parentEl,1)&&(e.play(),window.removeEventListener("scroll",t))};window.addEventListener("scroll",t),t()}},s.prototype.getStatus=function(){return 0===this.currentFrame?"start":this.currentFrame===this.frameLength?"end":"progress"},s.prototype.reset=function(){return this.setFrameProgress(0)},s.prototype.finish=function(){return this.setFrameProgress(1)},s.prototype.setFrameProgress=function(e){return e=Math.min(1,Math.max(0,e)),this.currentFrame=Math.round(this.frameLength*e),this.trace(),this},s.prototype.play=function(e,t){if(this.instanceCallback=null,e&&"function"==typeof e)this.instanceCallback=e,e=null;else if(e&&"number"!=typeof e)throw new Error("Vivus [play]: invalid speed");return t&&"function"==typeof t&&!this.instanceCallback&&(this.instanceCallback=t),this.speed=e||1,this.handle||this.draw(),this},s.prototype.stop=function(){return this.handle&&(o(this.handle),this.handle=null),this},s.prototype.destroy=function(){var e,t;for(this.stop(),e=0;e<this.map.length;e++)(t=this.map[e]).el.style.strokeDashoffset=null,t.el.style.strokeDasharray=null,this.renderPath(e)},s.prototype.isInvisible=function(e){var t,n=e.getAttribute("data-ignore");return null!==n?"false"!==n:!!this.ignoreInvisible&&!(t=e.getBoundingClientRect()).width&&!t.height},s.prototype.parseAttr=function(e){var t,n={};if(e&&e.attributes)for(var r=0;r<e.attributes.length;r++)n[(t=e.attributes[r]).name]=t.value;return n},s.prototype.isInViewport=function(e,t){var n=this.scrollY(),r=n+this.getViewportH(),i=e.getBoundingClientRect(),o=i.height,a=n+i.top;return a+o*(t=t||0)<=r&&a+o>=n},s.prototype.getViewportH=function(){var e=this.docElem.clientHeight,t=window.innerHeight;return e<t?t:e},s.prototype.scrollY=function(){return window.pageYOffset||this.docElem.scrollTop},r=function(){s.prototype.docElem||(s.prototype.docElem=window.document.documentElement,i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},o=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e)})},a=function(e,t){var n=parseInt(e,10);return n>=0?n:t},"function"==typeof define&&define.amd?define([],(function(){return s})):"object"===_typeof(e)?t.exports=s:window.Vivus=s}()}},function(){return k||(0,b[A(b)[0]])((k={exports:{}}).exports,k),k.exports})(),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this,e,n.vivusOptionsFrom("oneByOne"==e.name?e.name:"sync",n.DURATION,e.fps),n.DURATION),u(_assertThisInitialized(r),"fadeInPart",1/3),u(_assertThisInitialized(r),"freezeTimeMs",1e3),u(_assertThisInitialized(r),"fadeInFrameCount"),u(_assertThisInitialized(r),"startfadeInFrame"),u(_assertThisInitialized(r),"replayTimeoutId"),r.fadeInFrameCount=r.frameCount*r.fadeInPart,r.startfadeInFrame=r.frameCount-r.fadeInFrameCount,r}return _createClass(n,[{key:"cancelReplay",value:function(){"number"==typeof this.replayTimeoutId&&(clearTimeout(this.replayTimeoutId),this.replayTimeoutId=void 0)}},{key:"play",value:function(){var e=this;this.cancelReplay(),p(this.vivus),p(this.element);var t=this.duration*this.fadeInPart,n="fill-opacity ".concat(t,"ms, stroke-opacity ").concat(t,"ms"),r=this.element.querySelectorAll("*");r.forEach((function(e){e.style.transition=n,e.style.transitionTimingFunction="linear"})),this.vivus.play(1,(function(){window.setTimeout((function(){r.forEach((function(e){e.style.fillOpacity="1",e.style.strokeOpacity="0"}))}),100),e.replayTimeoutId=window.setTimeout((function(){e.reset(),window.setTimeout((function(){e.play()}),100)}),t+e.freezeTimeMs)}))}},{key:"setFrame",value:function(e){if(this.cancelReplay(),_get(_getPrototypeOf(n.prototype),"setFrame",this).call(this,e),p(this.element),e<this.startfadeInFrame)this.element.querySelectorAll("*").forEach((function(e){e.style.fillOpacity="0",e.style.strokeOpacity="1"}));else{var t=(this.frameCount-e)/this.fadeInFrameCount;this.element.querySelectorAll("*").forEach((function(e){e.style.fillOpacity=(1-t).toString(),e.style.strokeOpacity=t.toString()}))}}},{key:"reset",value:function(){this.pause(),p(this.element),_get(_getPrototypeOf(n.prototype),"reset",this).call(this);this.element.querySelectorAll("*").forEach((function(e){e.style.transition=""}))}},{key:"pause",value:function(){this.cancelReplay(),_get(_getPrototypeOf(n.prototype),"pause",this).call(this)}}],[{key:"vivusOptionsFrom",value:function(e,t,n){return{type:e,duration:t/(.96*n),start:"manual",dashGap:20,forceRender:!1}}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),o=t.call(this,e,i),u(_assertThisInitialized(o),"vivus"),o.config=e,o.vivusOptions=r,o.duration=i,o}return _createClass(n,[{key:"setStyle",value:function(e){var t=this;_get(_getPrototypeOf(n.prototype),"setStyle",this).call(this,e),e.querySelectorAll("*").forEach((function(e){e.style.stroke=t.config.foreground[0],e.style.strokeWidth="1",e.style.fillOpacity="0",e.style.strokeOpacity="1"}))}},{key:"apply",value:function(e){_get(_getPrototypeOf(n.prototype),"apply",this).call(this,e),this.vivus=new O(e,this.vivusOptions)}},{key:"setFrame",value:function(e){p(this.vivus);var t=e/this.frameCount;this.vivus.setFrameProgress(t)}},{key:"play",value:function(){p(this.vivus),this.vivus.play()}},{key:"pause",value:function(){p(this.vivus),this.vivus.stop()}},{key:"reset",value:function(){p(this.vivus),p(this.element),this.vivus.reset(),this.setStyle(this.element)}}]),n}(h));u(E,"DURATION",3600);var T=E,F=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,c(l({},e),{name:f.OneByOne}))}return _createClass(n)}(T),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,c(l({},e),{name:f.Sync}))}return _createClass(n)}(T),I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,4e3)}return _createClass(n,[{key:"apply",value:function(e){var t=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","defs");t.innerHTML='<filter id="noise-squiggle">\n                <feTurbulence id="noise-turbulence" baseFrequency="0.03" numOctaves="2" result="noise" seed="1000">\n                    <animate attributeType="XML" attributeName="seed" from="1" to="25" dur="4s" repeatCount="indefinite" />\n                </feTurbulence>\n                <feDisplacementMap id="noise-displacement" in="SourceGraphic" in2="noise" scale="6" />\n            </filter>',p(e.firstChild),e.insertBefore(t,e.firstChild);var r=e.querySelector("g");p(r),r.setAttribute("filter","url(#noise-squiggle)"),_get(_getPrototypeOf(n.prototype),"apply",this).call(this,e)}}]),n}(m),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,4e3)}return _createClass(n,[{key:"apply",value:function(e){var t=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","style");t.innerHTML="#pulse-circle1 {\n                transform: scale(0);\n                opacity: 0;\n                transform-origin: 50% 50%;\n                animation: pulse 4s cubic-bezier(.5,.5,0,1) infinite;\n            }\n\n            #pulse-circle2 {\n                transform: scale(0);\n                opacity: 0;\n                transform-origin: 50% 50%;\n                animation: pulse 4s 0.75s cubic-bezier(.5,.5,0,1) infinite;\n            }\n\n            #pulse-circle3 {\n                transform: scale(0);\n                opacity: 0;\n                transform-origin: 50% 50%;\n                animation: pulse 4s 1.5s cubic-bezier(.5,.5,0,1) infinite;\n            }\n            \n            @keyframes pulse {                \n                12% {\n                    opacity: 0.3;\n                }\n                \n                50% {\n                    transform: scale(1);\n                }\n                \n                100% {                    \n                    transform: scale(1);\n                }                \n            }",p(e.firstChild),e.insertBefore(t,e.firstChild),p(e.querySelector("g"),"group is not defined!");var r=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("id","pulse-circle1"),r.setAttribute("cx","50%"),r.setAttribute("cy","50%"),r.setAttribute("r","45%"),r.setAttribute("stroke",this.config.foreground[0]),r.setAttribute("stroke-width",5..toString()),r.setAttribute("fill","none");var i=r.cloneNode();i.setAttribute("id","pulse-circle2"),i.setAttribute("stroke",this.config.foreground[1]||this.config.foreground[0]);var o=r.cloneNode();o.setAttribute("id","pulse-circle3"),o.setAttribute("stroke",this.config.foreground[2]||this.config.foreground[1]||this.config.foreground[0]),e.appendChild(r),e.appendChild(i),e.appendChild(o),_get(_getPrototypeOf(n.prototype),"apply",this).call(this,e)}}]),n}(m),M=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"names",value:function(){return Object.values(f)}},{key:"from",value:function(e){switch(e.name){case f.OneByOne:return new F(e);case f.Sync:return new P(e);case f.Electric:return new g(e);case f.ElectricFadeIn:return new S(e);case f.Noise:return new I(e);case f.FadeSmooth:return new _(e);case f.Pulse:return new x(e);case f.Interstellar:return new C(e);default:throw new Error("'".concat(e.name,"' is not supported!"))}}},{key:"apply",value:function(t,n,r){var i=e.from(r);t.innerHTML=i.innerHTML(n);var o=t.querySelector("svg");if(!o)throw new Error("Unexpected, 'svg' not found!");return i.apply(o),i}}]),e}();e.AnimationBase=h,e.AnimationName=f,e.Animations=M,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
"use strict";function tempMisc(){SmashingLogo.Utils.initTooltips(),SmashingLogo.Utils.setTouchNoTouchBodyClass(),$("#modalFontSelection, #modalLayoutVariations, #modalExtendedSettings, #modalEffectLibrary, .checkmark-modal").on("hidden.bs.modal",(function(){$(".fixed-modal-header").addClass("hidden"),$(".btn-close-modal").addClass("hidden")})),$("#modalExtendedSettings").on("hidden.bs.modal",(function(){$("#modalExtendedSettings .setting .dropdown-preview-all").removeClass("open")}))}function activeStateOfHeaderNavigations(){if($page.html.data("pid")){var a=$(".header-container .nav").find("li");$.each(a,(function(){var a=$(this);a.data("pid")===$page.html.data("pid")&&a.addClass("active")}))}}function initPages(){if($page.body.hasClass("page-home")&&SmashingLogo.Homepage.init(),$page.body.hasClass("page-generate")&&(SmashingLogo.LogoMaker.init(),SmashingLogo.EmbeddedIconSearch.init(),SmashingLogo.EmbeddedImageSearch.init(),SmashingLogo.SeamlessHeader.init(),SmashingLogo.ManageFavorites.init(),SmashingLogo.BrandingTiles.init(),SmashingLogo.PromoVideos.init()),$page.body.hasClass("page-shared")&&SmashingLogo.SharedView.init(),$page.body.hasClass("page-branding-guidelines")&&(SmashingLogo.BrandingGuidelines.init(),SmashingLogo.BrandingTiles.init()),$page.body.hasClass("page-logo-animations")&&SmashingLogo.LogoAnimationsStandalone.init(),$page.body.hasClass("page-qr-code-generator")&&SmashingLogo.QRCodeGenerator.init(),$page.body.hasClass("page-addons")&&SmashingLogo.Addons.init(),$page.body.hasClass("page-how")&&SmashingLogo.HowItWorks.init(),$page.body.hasClass("page-pricing")){SmashingLogo.Pricing.init();var a=SmashingLogo.Pricing.logoPackagesConfig();SmashingLogo.Pricing.fetchPrices(a)}$page.body.hasClass("page-checkout")&&(SmashingLogo.Checkout.init(),SmashingLogo.Pricing.attachEventHandler(),SmashingLogo.SeamlessHeader.init(),SmashingLogo.ManageFavorites.init()),$page.body.hasClass("page-thanks")&&SmashingLogo.Thanks.init(),$page.body.hasClass("page-purchases")&&(SmashingLogo.MyAccount.init(),SmashingLogo.Pricing.attachEventHandler()),$page.body.hasClass("page-industry")&&(SmashingLogo.IndustryLandingPage.init(),SmashingLogo.ManageFavorites.init()),$page.body.hasClass("page-variations")&&(SmashingLogo.EmbeddedIconSearch.init(),SmashingLogo.QuickEdit.init(),SmashingLogo.SeamlessHeader.init(),SmashingLogo.ManageFavorites.init()),$page.body.hasClass("page-preview")&&(SmashingLogo.SeamlessHeader.init(),SmashingLogo.EnvisionPreview.init(),SmashingLogo.Pricing.attachEventHandler(),SmashingLogo.ManageFavorites.init(),SmashingLogo.BrandingTiles.init(),SmashingLogo.PromoVideos.init())}var pageHasDynamicContent=SmashingLogo.Utils.isPageWithDynamicContent();window.onpageshow=function(a){a.persisted&&pageHasDynamicContent?window.location.reload():(tempMisc(),activeStateOfHeaderNavigations(),initPages(),lazyload(),observeAndAnimateSections())};